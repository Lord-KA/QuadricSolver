\hypertarget{gtest-port_8h_source}{}\doxysection{gtest-\/port.h}
\label{gtest-port_8h_source}\index{build/\_deps/googletest-\/src/googletest/include/gtest/internal/gtest-\/port.h@{build/\_deps/googletest-\/src/googletest/include/gtest/internal/gtest-\/port.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{// Copyright 2005, Google Inc.}}
\DoxyCodeLine{2 \textcolor{comment}{// All rights reserved.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 \textcolor{comment}{// Redistribution and use in source and binary forms, with or without}}
\DoxyCodeLine{5 \textcolor{comment}{// modification, are permitted provided that the following conditions are}}
\DoxyCodeLine{6 \textcolor{comment}{// met:}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{//     * Redistributions of source code must retain the above copyright}}
\DoxyCodeLine{9 \textcolor{comment}{// notice, this list of conditions and the following disclaimer.}}
\DoxyCodeLine{10 \textcolor{comment}{//     * Redistributions in binary form must reproduce the above}}
\DoxyCodeLine{11 \textcolor{comment}{// copyright notice, this list of conditions and the following disclaimer}}
\DoxyCodeLine{12 \textcolor{comment}{// in the documentation and/or other materials provided with the}}
\DoxyCodeLine{13 \textcolor{comment}{// distribution.}}
\DoxyCodeLine{14 \textcolor{comment}{//     * Neither the name of Google Inc. nor the names of its}}
\DoxyCodeLine{15 \textcolor{comment}{// contributors may be used to endorse or promote products derived from}}
\DoxyCodeLine{16 \textcolor{comment}{// this software without specific prior written permission.}}
\DoxyCodeLine{17 \textcolor{comment}{//}}
\DoxyCodeLine{18 \textcolor{comment}{// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS}}
\DoxyCodeLine{19 \textcolor{comment}{// "{}AS IS"{} AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT}}
\DoxyCodeLine{20 \textcolor{comment}{// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR}}
\DoxyCodeLine{21 \textcolor{comment}{// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT}}
\DoxyCodeLine{22 \textcolor{comment}{// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,}}
\DoxyCodeLine{23 \textcolor{comment}{// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT}}
\DoxyCodeLine{24 \textcolor{comment}{// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,}}
\DoxyCodeLine{25 \textcolor{comment}{// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY}}
\DoxyCodeLine{26 \textcolor{comment}{// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT}}
\DoxyCodeLine{27 \textcolor{comment}{// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE}}
\DoxyCodeLine{28 \textcolor{comment}{// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.}}
\DoxyCodeLine{29 \textcolor{comment}{//}}
\DoxyCodeLine{30 \textcolor{comment}{// Authors: wan@google.com (Zhanyong Wan)}}
\DoxyCodeLine{31 \textcolor{comment}{//}}
\DoxyCodeLine{32 \textcolor{comment}{// Low-\/level types and utilities for porting Google Test to various}}
\DoxyCodeLine{33 \textcolor{comment}{// platforms.  All macros ending with \_ and symbols defined in an}}
\DoxyCodeLine{34 \textcolor{comment}{// internal namespace are subject to change without notice.  Code}}
\DoxyCodeLine{35 \textcolor{comment}{// outside Google Test MUST NOT USE THEM DIRECTLY.  Macros that don't}}
\DoxyCodeLine{36 \textcolor{comment}{// end with \_ are part of Google Test's public API and can be used by}}
\DoxyCodeLine{37 \textcolor{comment}{// code outside Google Test.}}
\DoxyCodeLine{38 \textcolor{comment}{//}}
\DoxyCodeLine{39 \textcolor{comment}{// This file is fundamental to Google Test.  All other Google Test source}}
\DoxyCodeLine{40 \textcolor{comment}{// files are expected to \#include this.  Therefore, it cannot \#include}}
\DoxyCodeLine{41 \textcolor{comment}{// any other Google Test header.}}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \textcolor{preprocessor}{\#ifndef GTEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}
\DoxyCodeLine{44 \textcolor{preprocessor}{\#define GTEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{comment}{// Environment-\/describing macros}}
\DoxyCodeLine{47 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{48 \textcolor{comment}{//}}
\DoxyCodeLine{49 \textcolor{comment}{// Google Test can be used in many different environments.  Macros in}}
\DoxyCodeLine{50 \textcolor{comment}{// this section tell Google Test what kind of environment it is being}}
\DoxyCodeLine{51 \textcolor{comment}{// used in, such that Google Test can provide environment-\/specific}}
\DoxyCodeLine{52 \textcolor{comment}{// features and implementations.}}
\DoxyCodeLine{53 \textcolor{comment}{//}}
\DoxyCodeLine{54 \textcolor{comment}{// Google Test tries to automatically detect the properties of its}}
\DoxyCodeLine{55 \textcolor{comment}{// environment, so users usually don't need to worry about these}}
\DoxyCodeLine{56 \textcolor{comment}{// macros.  However, the automatic detection is not perfect.}}
\DoxyCodeLine{57 \textcolor{comment}{// Sometimes it's necessary for a user to define some of the following}}
\DoxyCodeLine{58 \textcolor{comment}{// macros in the build script to override Google Test's decisions.}}
\DoxyCodeLine{59 \textcolor{comment}{//}}
\DoxyCodeLine{60 \textcolor{comment}{// If the user doesn't define a macro in the list, Google Test will}}
\DoxyCodeLine{61 \textcolor{comment}{// provide a default definition.  After this header is \#included, all}}
\DoxyCodeLine{62 \textcolor{comment}{// macros in this list will be defined to either 1 or 0.}}
\DoxyCodeLine{63 \textcolor{comment}{//}}
\DoxyCodeLine{64 \textcolor{comment}{// Notes to maintainers:}}
\DoxyCodeLine{65 \textcolor{comment}{//   -\/ Each macro here is a user-\/tweakable knob; do not grow the list}}
\DoxyCodeLine{66 \textcolor{comment}{//     lightly.}}
\DoxyCodeLine{67 \textcolor{comment}{//   -\/ Use \#if to key off these macros.  Don't use \#ifdef or "{}\#if}}
\DoxyCodeLine{68 \textcolor{comment}{//     defined(...)"{}, which will not work as these macros are ALWAYS}}
\DoxyCodeLine{69 \textcolor{comment}{//     defined.}}
\DoxyCodeLine{70 \textcolor{comment}{//}}
\DoxyCodeLine{71 \textcolor{comment}{//   GTEST\_HAS\_CLONE          -\/ Define it to 1/0 to indicate that clone(2)}}
\DoxyCodeLine{72 \textcolor{comment}{//                              is/isn't available.}}
\DoxyCodeLine{73 \textcolor{comment}{//   GTEST\_HAS\_EXCEPTIONS     -\/ Define it to 1/0 to indicate that exceptions}}
\DoxyCodeLine{74 \textcolor{comment}{//                              are enabled.}}
\DoxyCodeLine{75 \textcolor{comment}{//   GTEST\_HAS\_GLOBAL\_STRING  -\/ Define it to 1/0 to indicate that ::string}}
\DoxyCodeLine{76 \textcolor{comment}{//                              is/isn't available (some systems define}}
\DoxyCodeLine{77 \textcolor{comment}{//                              ::string, which is different to std::string).}}
\DoxyCodeLine{78 \textcolor{comment}{//   GTEST\_HAS\_GLOBAL\_WSTRING -\/ Define it to 1/0 to indicate that ::string}}
\DoxyCodeLine{79 \textcolor{comment}{//                              is/isn't available (some systems define}}
\DoxyCodeLine{80 \textcolor{comment}{//                              ::wstring, which is different to std::wstring).}}
\DoxyCodeLine{81 \textcolor{comment}{//   GTEST\_HAS\_POSIX\_RE       -\/ Define it to 1/0 to indicate that POSIX regular}}
\DoxyCodeLine{82 \textcolor{comment}{//                              expressions are/aren't available.}}
\DoxyCodeLine{83 \textcolor{comment}{//   GTEST\_HAS\_PTHREAD        -\/ Define it to 1/0 to indicate that <pthread.h>}}
\DoxyCodeLine{84 \textcolor{comment}{//                              is/isn't available.}}
\DoxyCodeLine{85 \textcolor{comment}{//   GTEST\_HAS\_RTTI           -\/ Define it to 1/0 to indicate that RTTI is/isn't}}
\DoxyCodeLine{86 \textcolor{comment}{//                              enabled.}}
\DoxyCodeLine{87 \textcolor{comment}{//   GTEST\_HAS\_STD\_WSTRING    -\/ Define it to 1/0 to indicate that}}
\DoxyCodeLine{88 \textcolor{comment}{//                              std::wstring does/doesn't work (Google Test can}}
\DoxyCodeLine{89 \textcolor{comment}{//                              be used where std::wstring is unavailable).}}
\DoxyCodeLine{90 \textcolor{comment}{//   GTEST\_HAS\_TR1\_TUPLE      -\/ Define it to 1/0 to indicate tr1::tuple}}
\DoxyCodeLine{91 \textcolor{comment}{//                              is/isn't available.}}
\DoxyCodeLine{92 \textcolor{comment}{//   GTEST\_HAS\_SEH            -\/ Define it to 1/0 to indicate whether the}}
\DoxyCodeLine{93 \textcolor{comment}{//                              compiler supports Microsoft's "{}Structured}}
\DoxyCodeLine{94 \textcolor{comment}{//                              Exception Handling"{}.}}
\DoxyCodeLine{95 \textcolor{comment}{//   GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{96 \textcolor{comment}{//                            -\/ Define it to 1/0 to indicate whether the}}
\DoxyCodeLine{97 \textcolor{comment}{//                              platform supports I/O stream redirection using}}
\DoxyCodeLine{98 \textcolor{comment}{//                              dup() and dup2().}}
\DoxyCodeLine{99 \textcolor{comment}{//   GTEST\_USE\_OWN\_TR1\_TUPLE  -\/ Define it to 1/0 to indicate whether Google}}
\DoxyCodeLine{100 \textcolor{comment}{//                              Test's own tr1 tuple implementation should be}}
\DoxyCodeLine{101 \textcolor{comment}{//                              used.  Unused when the user sets}}
\DoxyCodeLine{102 \textcolor{comment}{//                              GTEST\_HAS\_TR1\_TUPLE to 0.}}
\DoxyCodeLine{103 \textcolor{comment}{//   GTEST\_LANG\_CXX11         -\/ Define it to 1/0 to indicate that Google Test}}
\DoxyCodeLine{104 \textcolor{comment}{//                              is building in C++11/C++98 mode.}}
\DoxyCodeLine{105 \textcolor{comment}{//   GTEST\_LINKED\_AS\_SHARED\_LIBRARY}}
\DoxyCodeLine{106 \textcolor{comment}{//                            -\/ Define to 1 when compiling tests that use}}
\DoxyCodeLine{107 \textcolor{comment}{//                              Google Test as a shared library (known as}}
\DoxyCodeLine{108 \textcolor{comment}{//                              DLL on Windows).}}
\DoxyCodeLine{109 \textcolor{comment}{//   GTEST\_CREATE\_SHARED\_LIBRARY}}
\DoxyCodeLine{110 \textcolor{comment}{//                            -\/ Define to 1 when compiling Google Test itself}}
\DoxyCodeLine{111 \textcolor{comment}{//                              as a shared library.}}
\DoxyCodeLine{112 }
\DoxyCodeLine{113 \textcolor{comment}{// Platform-\/indicating macros}}
\DoxyCodeLine{114 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{115 \textcolor{comment}{//}}
\DoxyCodeLine{116 \textcolor{comment}{// Macros indicating the platform on which Google Test is being used}}
\DoxyCodeLine{117 \textcolor{comment}{// (a macro is defined to 1 if compiled on the given platform;}}
\DoxyCodeLine{118 \textcolor{comment}{// otherwise UNDEFINED -\/-\/ it's never defined to 0.).  Google Test}}
\DoxyCodeLine{119 \textcolor{comment}{// defines these macros automatically.  Code outside Google Test MUST}}
\DoxyCodeLine{120 \textcolor{comment}{// NOT define them.}}
\DoxyCodeLine{121 \textcolor{comment}{//}}
\DoxyCodeLine{122 \textcolor{comment}{//   GTEST\_OS\_AIX      -\/ IBM AIX}}
\DoxyCodeLine{123 \textcolor{comment}{//   GTEST\_OS\_CYGWIN   -\/ Cygwin}}
\DoxyCodeLine{124 \textcolor{comment}{//   GTEST\_OS\_FREEBSD  -\/ FreeBSD}}
\DoxyCodeLine{125 \textcolor{comment}{//   GTEST\_OS\_HPUX     -\/ HP-\/UX}}
\DoxyCodeLine{126 \textcolor{comment}{//   GTEST\_OS\_LINUX    -\/ Linux}}
\DoxyCodeLine{127 \textcolor{comment}{//     GTEST\_OS\_LINUX\_ANDROID -\/ Google Android}}
\DoxyCodeLine{128 \textcolor{comment}{//   GTEST\_OS\_MAC      -\/ Mac OS X}}
\DoxyCodeLine{129 \textcolor{comment}{//     GTEST\_OS\_IOS    -\/ iOS}}
\DoxyCodeLine{130 \textcolor{comment}{//   GTEST\_OS\_NACL     -\/ Google Native Client (NaCl)}}
\DoxyCodeLine{131 \textcolor{comment}{//   GTEST\_OS\_OPENBSD  -\/ OpenBSD}}
\DoxyCodeLine{132 \textcolor{comment}{//   GTEST\_OS\_QNX      -\/ QNX}}
\DoxyCodeLine{133 \textcolor{comment}{//   GTEST\_OS\_SOLARIS  -\/ Sun Solaris}}
\DoxyCodeLine{134 \textcolor{comment}{//   GTEST\_OS\_SYMBIAN  -\/ Symbian}}
\DoxyCodeLine{135 \textcolor{comment}{//   GTEST\_OS\_WINDOWS  -\/ Windows (Desktop, MinGW, or Mobile)}}
\DoxyCodeLine{136 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_DESKTOP  -\/ Windows Desktop}}
\DoxyCodeLine{137 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_MINGW    -\/ MinGW}}
\DoxyCodeLine{138 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_MOBILE   -\/ Windows Mobile}}
\DoxyCodeLine{139 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_PHONE    -\/ Windows Phone}}
\DoxyCodeLine{140 \textcolor{comment}{//     GTEST\_OS\_WINDOWS\_RT       -\/ Windows Store App/WinRT}}
\DoxyCodeLine{141 \textcolor{comment}{//   GTEST\_OS\_ZOS      -\/ z/OS}}
\DoxyCodeLine{142 \textcolor{comment}{//}}
\DoxyCodeLine{143 \textcolor{comment}{// Among the platforms, Cygwin, Linux, Max OS X, and Windows have the}}
\DoxyCodeLine{144 \textcolor{comment}{// most stable support.  Since core members of the Google Test project}}
\DoxyCodeLine{145 \textcolor{comment}{// don't have access to other platforms, support for them may be less}}
\DoxyCodeLine{146 \textcolor{comment}{// stable.  If you notice any problems on your platform, please notify}}
\DoxyCodeLine{147 \textcolor{comment}{// googletestframework@googlegroups.com (patches for fixing them are}}
\DoxyCodeLine{148 \textcolor{comment}{// even more welcome!).}}
\DoxyCodeLine{149 \textcolor{comment}{//}}
\DoxyCodeLine{150 \textcolor{comment}{// It is possible that none of the GTEST\_OS\_* macros are defined.}}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \textcolor{comment}{// Feature-\/indicating macros}}
\DoxyCodeLine{153 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{154 \textcolor{comment}{//}}
\DoxyCodeLine{155 \textcolor{comment}{// Macros indicating which Google Test features are available (a macro}}
\DoxyCodeLine{156 \textcolor{comment}{// is defined to 1 if the corresponding feature is supported;}}
\DoxyCodeLine{157 \textcolor{comment}{// otherwise UNDEFINED -\/-\/ it's never defined to 0.).  Google Test}}
\DoxyCodeLine{158 \textcolor{comment}{// defines these macros automatically.  Code outside Google Test MUST}}
\DoxyCodeLine{159 \textcolor{comment}{// NOT define them.}}
\DoxyCodeLine{160 \textcolor{comment}{//}}
\DoxyCodeLine{161 \textcolor{comment}{// These macros are public so that portable tests can be written.}}
\DoxyCodeLine{162 \textcolor{comment}{// Such tests typically surround code using a feature with an \#if}}
\DoxyCodeLine{163 \textcolor{comment}{// which controls that code.  For example:}}
\DoxyCodeLine{164 \textcolor{comment}{//}}
\DoxyCodeLine{165 \textcolor{comment}{// \#if GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{166 \textcolor{comment}{//   EXPECT\_DEATH(DoSomethingDeadly());}}
\DoxyCodeLine{167 \textcolor{comment}{// \#endif}}
\DoxyCodeLine{168 \textcolor{comment}{//}}
\DoxyCodeLine{169 \textcolor{comment}{//   GTEST\_HAS\_COMBINE      -\/ the Combine() function (for value-\/parameterized}}
\DoxyCodeLine{170 \textcolor{comment}{//                            tests)}}
\DoxyCodeLine{171 \textcolor{comment}{//   GTEST\_HAS\_DEATH\_TEST   -\/ death tests}}
\DoxyCodeLine{172 \textcolor{comment}{//   GTEST\_HAS\_PARAM\_TEST   -\/ value-\/parameterized tests}}
\DoxyCodeLine{173 \textcolor{comment}{//   GTEST\_HAS\_TYPED\_TEST   -\/ typed tests}}
\DoxyCodeLine{174 \textcolor{comment}{//   GTEST\_HAS\_TYPED\_TEST\_P -\/ type-\/parameterized tests}}
\DoxyCodeLine{175 \textcolor{comment}{//   GTEST\_IS\_THREADSAFE    -\/ Google Test is thread-\/safe.}}
\DoxyCodeLine{176 \textcolor{comment}{//   GTEST\_USES\_POSIX\_RE    -\/ enhanced POSIX regex is used. Do not confuse with}}
\DoxyCodeLine{177 \textcolor{comment}{//                            GTEST\_HAS\_POSIX\_RE (see above) which users can}}
\DoxyCodeLine{178 \textcolor{comment}{//                            define themselves.}}
\DoxyCodeLine{179 \textcolor{comment}{//   GTEST\_USES\_SIMPLE\_RE   -\/ our own simple regex is used;}}
\DoxyCodeLine{180 \textcolor{comment}{//                            the above two are mutually exclusive.}}
\DoxyCodeLine{181 \textcolor{comment}{//   GTEST\_CAN\_COMPARE\_NULL -\/ accepts untyped NULL in EXPECT\_EQ().}}
\DoxyCodeLine{182 }
\DoxyCodeLine{183 \textcolor{comment}{// Misc public macros}}
\DoxyCodeLine{184 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{185 \textcolor{comment}{//}}
\DoxyCodeLine{186 \textcolor{comment}{//   GTEST\_FLAG(flag\_name)  -\/ references the variable corresponding to}}
\DoxyCodeLine{187 \textcolor{comment}{//                            the given Google Test flag.}}
\DoxyCodeLine{188 }
\DoxyCodeLine{189 \textcolor{comment}{// Internal utilities}}
\DoxyCodeLine{190 \textcolor{comment}{// -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{191 \textcolor{comment}{//}}
\DoxyCodeLine{192 \textcolor{comment}{// The following macros and utilities are for Google Test's INTERNAL}}
\DoxyCodeLine{193 \textcolor{comment}{// use only.  Code outside Google Test MUST NOT USE THEM DIRECTLY.}}
\DoxyCodeLine{194 \textcolor{comment}{//}}
\DoxyCodeLine{195 \textcolor{comment}{// Macros for basic C++ coding:}}
\DoxyCodeLine{196 \textcolor{comment}{//   GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_ -\/ for disabling a gcc warning.}}
\DoxyCodeLine{197 \textcolor{comment}{//   GTEST\_ATTRIBUTE\_UNUSED\_  -\/ declares that a class' instances or a}}
\DoxyCodeLine{198 \textcolor{comment}{//                              variable don't have to be used.}}
\DoxyCodeLine{199 \textcolor{comment}{//   GTEST\_DISALLOW\_ASSIGN\_   -\/ disables operator=.}}
\DoxyCodeLine{200 \textcolor{comment}{//   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_ -\/ disables copy ctor and operator=.}}
\DoxyCodeLine{201 \textcolor{comment}{//   GTEST\_MUST\_USE\_RESULT\_   -\/ declares that a function's result must be used.}}
\DoxyCodeLine{202 \textcolor{comment}{//   GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_ -\/ start code section where MSVC C4127 is}}
\DoxyCodeLine{203 \textcolor{comment}{//                                        suppressed (constant conditional).}}
\DoxyCodeLine{204 \textcolor{comment}{//   GTEST\_INTENTIONAL\_CONST\_COND\_POP\_  -\/ finish code section where MSVC C4127}}
\DoxyCodeLine{205 \textcolor{comment}{//                                        is suppressed.}}
\DoxyCodeLine{206 \textcolor{comment}{//}}
\DoxyCodeLine{207 \textcolor{comment}{// C++11 feature wrappers:}}
\DoxyCodeLine{208 \textcolor{comment}{//}}
\DoxyCodeLine{209 \textcolor{comment}{//   testing::internal::move  -\/ portability wrapper for std::move.}}
\DoxyCodeLine{210 \textcolor{comment}{//}}
\DoxyCodeLine{211 \textcolor{comment}{// Synchronization:}}
\DoxyCodeLine{212 \textcolor{comment}{//   Mutex, MutexLock, ThreadLocal, GetThreadCount()}}
\DoxyCodeLine{213 \textcolor{comment}{//                            -\/ synchronization primitives.}}
\DoxyCodeLine{214 \textcolor{comment}{//}}
\DoxyCodeLine{215 \textcolor{comment}{// Template meta programming:}}
\DoxyCodeLine{216 \textcolor{comment}{//   is\_pointer     -\/ as in TR1; needed on Symbian and IBM XL C/C++ only.}}
\DoxyCodeLine{217 \textcolor{comment}{//   IteratorTraits -\/ partial implementation of std::iterator\_traits, which}}
\DoxyCodeLine{218 \textcolor{comment}{//                    is not available in libCstd when compiled with Sun C++.}}
\DoxyCodeLine{219 \textcolor{comment}{//}}
\DoxyCodeLine{220 \textcolor{comment}{// Smart pointers:}}
\DoxyCodeLine{221 \textcolor{comment}{//   scoped\_ptr     -\/ as in TR2.}}
\DoxyCodeLine{222 \textcolor{comment}{//}}
\DoxyCodeLine{223 \textcolor{comment}{// Regular expressions:}}
\DoxyCodeLine{224 \textcolor{comment}{//   RE             -\/ a simple regular expression class using the POSIX}}
\DoxyCodeLine{225 \textcolor{comment}{//                    Extended Regular Expression syntax on UNIX-\/like}}
\DoxyCodeLine{226 \textcolor{comment}{//                    platforms, or a reduced regular exception syntax on}}
\DoxyCodeLine{227 \textcolor{comment}{//                    other platforms, including Windows.}}
\DoxyCodeLine{228 \textcolor{comment}{//}}
\DoxyCodeLine{229 \textcolor{comment}{// Logging:}}
\DoxyCodeLine{230 \textcolor{comment}{//   GTEST\_LOG\_()   -\/ logs messages at the specified severity level.}}
\DoxyCodeLine{231 \textcolor{comment}{//   LogToStderr()  -\/ directs all log messages to stderr.}}
\DoxyCodeLine{232 \textcolor{comment}{//   FlushInfoLog() -\/ flushes informational log messages.}}
\DoxyCodeLine{233 \textcolor{comment}{//}}
\DoxyCodeLine{234 \textcolor{comment}{// Stdout and stderr capturing:}}
\DoxyCodeLine{235 \textcolor{comment}{//   CaptureStdout()     -\/ starts capturing stdout.}}
\DoxyCodeLine{236 \textcolor{comment}{//   GetCapturedStdout() -\/ stops capturing stdout and returns the captured}}
\DoxyCodeLine{237 \textcolor{comment}{//                         string.}}
\DoxyCodeLine{238 \textcolor{comment}{//   CaptureStderr()     -\/ starts capturing stderr.}}
\DoxyCodeLine{239 \textcolor{comment}{//   GetCapturedStderr() -\/ stops capturing stderr and returns the captured}}
\DoxyCodeLine{240 \textcolor{comment}{//                         string.}}
\DoxyCodeLine{241 \textcolor{comment}{//}}
\DoxyCodeLine{242 \textcolor{comment}{// Integer types:}}
\DoxyCodeLine{243 \textcolor{comment}{//   TypeWithSize   -\/ maps an integer to a int type.}}
\DoxyCodeLine{244 \textcolor{comment}{//   Int32, UInt32, Int64, UInt64, TimeInMillis}}
\DoxyCodeLine{245 \textcolor{comment}{//                  -\/ integers of known sizes.}}
\DoxyCodeLine{246 \textcolor{comment}{//   BiggestInt     -\/ the biggest signed integer type.}}
\DoxyCodeLine{247 \textcolor{comment}{//}}
\DoxyCodeLine{248 \textcolor{comment}{// Command-\/line utilities:}}
\DoxyCodeLine{249 \textcolor{comment}{//   GTEST\_DECLARE\_*()  -\/ declares a flag.}}
\DoxyCodeLine{250 \textcolor{comment}{//   GTEST\_DEFINE\_*()   -\/ defines a flag.}}
\DoxyCodeLine{251 \textcolor{comment}{//   GetInjectableArgvs() -\/ returns the command line as a vector of strings.}}
\DoxyCodeLine{252 \textcolor{comment}{//}}
\DoxyCodeLine{253 \textcolor{comment}{// Environment variable utilities:}}
\DoxyCodeLine{254 \textcolor{comment}{//   GetEnv()             -\/ gets the value of an environment variable.}}
\DoxyCodeLine{255 \textcolor{comment}{//   BoolFromGTestEnv()   -\/ parses a bool environment variable.}}
\DoxyCodeLine{256 \textcolor{comment}{//   Int32FromGTestEnv()  -\/ parses an Int32 environment variable.}}
\DoxyCodeLine{257 \textcolor{comment}{//   StringFromGTestEnv() -\/ parses a string environment variable.}}
\DoxyCodeLine{258 }
\DoxyCodeLine{259 \textcolor{preprocessor}{\#include <ctype.h>}   \textcolor{comment}{// for isspace, etc}}
\DoxyCodeLine{260 \textcolor{preprocessor}{\#include <stddef.h>}  \textcolor{comment}{// for ptrdiff\_t}}
\DoxyCodeLine{261 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{262 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{263 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{264 \textcolor{preprocessor}{\#ifndef \_WIN32\_WCE}}
\DoxyCodeLine{265 \textcolor{preprocessor}{\# include <sys/types.h>}}
\DoxyCodeLine{266 \textcolor{preprocessor}{\# include <sys/stat.h>}}
\DoxyCodeLine{267 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !\_WIN32\_WCE}}
\DoxyCodeLine{268 }
\DoxyCodeLine{269 \textcolor{preprocessor}{\#if defined \_\_APPLE\_\_}}
\DoxyCodeLine{270 \textcolor{preprocessor}{\# include <AvailabilityMacros.h>}}
\DoxyCodeLine{271 \textcolor{preprocessor}{\# include <TargetConditionals.h>}}
\DoxyCodeLine{272 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{273 }
\DoxyCodeLine{274 \textcolor{preprocessor}{\#include <algorithm>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{275 \textcolor{preprocessor}{\#include <iostream>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{276 \textcolor{preprocessor}{\#include <sstream>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{277 \textcolor{preprocessor}{\#include <string>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{278 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{279 \textcolor{preprocessor}{\#include <vector>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{280 }
\DoxyCodeLine{281 \textcolor{preprocessor}{\#include "{}gtest/internal/gtest-\/port-\/arch.h"{}}}
\DoxyCodeLine{282 \textcolor{preprocessor}{\#include "{}gtest/internal/custom/gtest-\/port.h"{}}}
\DoxyCodeLine{283 }
\DoxyCodeLine{284 \textcolor{preprocessor}{\#if !defined(GTEST\_DEV\_EMAIL\_)}}
\DoxyCodeLine{285 \textcolor{preprocessor}{\# define GTEST\_DEV\_EMAIL\_ "{}googletestframework@@googlegroups.com"{}}}
\DoxyCodeLine{286 \textcolor{preprocessor}{\# define GTEST\_FLAG\_PREFIX\_ "{}gtest\_"{}}}
\DoxyCodeLine{287 \textcolor{preprocessor}{\# define GTEST\_FLAG\_PREFIX\_DASH\_ "{}gtest-\/"{}}}
\DoxyCodeLine{288 \textcolor{preprocessor}{\# define GTEST\_FLAG\_PREFIX\_UPPER\_ "{}GTEST\_"{}}}
\DoxyCodeLine{289 \textcolor{preprocessor}{\# define GTEST\_NAME\_ "{}Google Test"{}}}
\DoxyCodeLine{290 \textcolor{preprocessor}{\# define GTEST\_PROJECT\_URL\_ "{}https://github.com/google/googletest/"{}}}
\DoxyCodeLine{291 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_DEV\_EMAIL\_)}}
\DoxyCodeLine{292 }
\DoxyCodeLine{293 \textcolor{preprocessor}{\#if !defined(GTEST\_INIT\_GOOGLE\_TEST\_NAME\_)}}
\DoxyCodeLine{294 \textcolor{preprocessor}{\# define GTEST\_INIT\_GOOGLE\_TEST\_NAME\_ "{}testing::InitGoogleTest"{}}}
\DoxyCodeLine{295 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_INIT\_GOOGLE\_TEST\_NAME\_)}}
\DoxyCodeLine{296 }
\DoxyCodeLine{297 \textcolor{comment}{// Determines the version of gcc that is used to compile this.}}
\DoxyCodeLine{298 \textcolor{preprocessor}{\#ifdef \_\_GNUC\_\_}}
\DoxyCodeLine{299 \textcolor{comment}{// 40302 means version 4.3.2.}}
\DoxyCodeLine{300 \textcolor{preprocessor}{\# define GTEST\_GCC\_VER\_ \(\backslash\)}}
\DoxyCodeLine{301 \textcolor{preprocessor}{    (\_\_GNUC\_\_*10000 + \_\_GNUC\_MINOR\_\_*100 + \_\_GNUC\_PATCHLEVEL\_\_)}}
\DoxyCodeLine{302 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_GNUC\_\_}}
\DoxyCodeLine{303 }
\DoxyCodeLine{304 \textcolor{comment}{// Macros for disabling Microsoft Visual C++ warnings.}}
\DoxyCodeLine{305 \textcolor{comment}{//}}
\DoxyCodeLine{306 \textcolor{comment}{//   GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4800 4385)}}
\DoxyCodeLine{307 \textcolor{comment}{//   /* code that triggers warnings C4800 and C4385 */}}
\DoxyCodeLine{308 \textcolor{comment}{//   GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{309 \textcolor{preprocessor}{\#if \_MSC\_VER >= 1500}}
\DoxyCodeLine{310 \textcolor{preprocessor}{\# define GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(warnings) \(\backslash\)}}
\DoxyCodeLine{311 \textcolor{preprocessor}{    \_\_pragma(warning(push))                        \(\backslash\)}}
\DoxyCodeLine{312 \textcolor{preprocessor}{    \_\_pragma(warning(disable: warnings))}}
\DoxyCodeLine{313 \textcolor{preprocessor}{\# define GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()          \(\backslash\)}}
\DoxyCodeLine{314 \textcolor{preprocessor}{    \_\_pragma(warning(pop))}}
\DoxyCodeLine{315 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{316 \textcolor{comment}{// Older versions of MSVC don't have \_\_pragma.}}
\DoxyCodeLine{317 \textcolor{preprocessor}{\# define GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(warnings)}}
\DoxyCodeLine{318 \textcolor{preprocessor}{\# define GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{319 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{320 }
\DoxyCodeLine{321 \textcolor{preprocessor}{\#ifndef GTEST\_LANG\_CXX11}}
\DoxyCodeLine{322 \textcolor{comment}{// gcc and clang define \_\_GXX\_EXPERIMENTAL\_CXX0X\_\_ when}}
\DoxyCodeLine{323 \textcolor{comment}{// -\/std=\{c,gnu\}++\{0x,11\} is passed.  The C++11 standard specifies a}}
\DoxyCodeLine{324 \textcolor{comment}{// value for \_\_cplusplus, and recent versions of clang, gcc, and}}
\DoxyCodeLine{325 \textcolor{comment}{// probably other compilers set that too in C++11 mode.}}
\DoxyCodeLine{326 \textcolor{preprocessor}{\# if \_\_GXX\_EXPERIMENTAL\_CXX0X\_\_ || \_\_cplusplus >= 201103L}}
\DoxyCodeLine{327 \textcolor{comment}{// Compiling in at least C++11 mode.}}
\DoxyCodeLine{328 \textcolor{preprocessor}{\#  define GTEST\_LANG\_CXX11 1}}
\DoxyCodeLine{329 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{330 \textcolor{preprocessor}{\#  define GTEST\_LANG\_CXX11 0}}
\DoxyCodeLine{331 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{332 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{333 }
\DoxyCodeLine{334 \textcolor{comment}{// Distinct from C++11 language support, some environments don't provide}}
\DoxyCodeLine{335 \textcolor{comment}{// proper C++11 library support. Notably, it's possible to build in}}
\DoxyCodeLine{336 \textcolor{comment}{// C++11 mode when targeting Mac OS X 10.6, which has an old libstdc++}}
\DoxyCodeLine{337 \textcolor{comment}{// with no C++11 support.}}
\DoxyCodeLine{338 \textcolor{comment}{//}}
\DoxyCodeLine{339 \textcolor{comment}{// libstdc++ has sufficient C++11 support as of GCC 4.6.0, \_\_GLIBCXX\_\_}}
\DoxyCodeLine{340 \textcolor{comment}{// 20110325, but maintenance releases in the 4.4 and 4.5 series followed}}
\DoxyCodeLine{341 \textcolor{comment}{// this date, so check for those versions by their date stamps.}}
\DoxyCodeLine{342 \textcolor{comment}{// https://gcc.gnu.org/onlinedocs/libstdc++/manual/abi.html\#abi.versioning}}
\DoxyCodeLine{343 \textcolor{preprocessor}{\#if GTEST\_LANG\_CXX11 \&\& \(\backslash\)}}
\DoxyCodeLine{344 \textcolor{preprocessor}{    (!defined(\_\_GLIBCXX\_\_) || ( \(\backslash\)}}
\DoxyCodeLine{345 \textcolor{preprocessor}{        \_\_GLIBCXX\_\_ >= 20110325ul \&\&  }\textcolor{comment}{/* GCC >= 4.6.0 */}\textcolor{preprocessor}{ \(\backslash\)}}
\DoxyCodeLine{346 \textcolor{preprocessor}{        }\textcolor{comment}{/* Blacklist of patch releases of older branches: */}\textcolor{preprocessor}{ \(\backslash\)}}
\DoxyCodeLine{347 \textcolor{preprocessor}{        \_\_GLIBCXX\_\_ != 20110416ul \&\&  }\textcolor{comment}{/* GCC 4.4.6 */}\textcolor{preprocessor}{ \(\backslash\)}}
\DoxyCodeLine{348 \textcolor{preprocessor}{        \_\_GLIBCXX\_\_ != 20120313ul \&\&  }\textcolor{comment}{/* GCC 4.4.7 */}\textcolor{preprocessor}{ \(\backslash\)}}
\DoxyCodeLine{349 \textcolor{preprocessor}{        \_\_GLIBCXX\_\_ != 20110428ul \&\&  }\textcolor{comment}{/* GCC 4.5.3 */}\textcolor{preprocessor}{ \(\backslash\)}}
\DoxyCodeLine{350 \textcolor{preprocessor}{        \_\_GLIBCXX\_\_ != 20120702ul))   }\textcolor{comment}{/* GCC 4.5.4 */}\textcolor{preprocessor}{}}
\DoxyCodeLine{351 \textcolor{preprocessor}{\# define GTEST\_STDLIB\_CXX11 1}}
\DoxyCodeLine{352 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{353 }
\DoxyCodeLine{354 \textcolor{comment}{// Only use C++11 library features if the library provides them.}}
\DoxyCodeLine{355 \textcolor{preprocessor}{\#if GTEST\_STDLIB\_CXX11}}
\DoxyCodeLine{356 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_BEGIN\_AND\_END\_ 1}}
\DoxyCodeLine{357 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_FORWARD\_LIST\_ 1}}
\DoxyCodeLine{358 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_FUNCTION\_ 1}}
\DoxyCodeLine{359 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_INITIALIZER\_LIST\_ 1}}
\DoxyCodeLine{360 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_MOVE\_ 1}}
\DoxyCodeLine{361 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_SHARED\_PTR\_ 1}}
\DoxyCodeLine{362 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_TYPE\_TRAITS\_ 1}}
\DoxyCodeLine{363 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_UNIQUE\_PTR\_ 1}}
\DoxyCodeLine{364 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{365 }
\DoxyCodeLine{366 \textcolor{comment}{// C++11 specifies that <tuple> provides std::tuple.}}
\DoxyCodeLine{367 \textcolor{comment}{// Some platforms still might not have it, however.}}
\DoxyCodeLine{368 \textcolor{preprocessor}{\#if GTEST\_LANG\_CXX11}}
\DoxyCodeLine{369 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_TUPLE\_ 1}}
\DoxyCodeLine{370 \textcolor{preprocessor}{\# if defined(\_\_clang\_\_)}}
\DoxyCodeLine{371 \textcolor{comment}{// Inspired by http://clang.llvm.org/docs/LanguageExtensions.html\#\_\_has\_include}}
\DoxyCodeLine{372 \textcolor{preprocessor}{\#  if defined(\_\_has\_include) \&\& !\_\_has\_include(<tuple>)}}
\DoxyCodeLine{373 \textcolor{preprocessor}{\#   undef GTEST\_HAS\_STD\_TUPLE\_}}
\DoxyCodeLine{374 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{375 \textcolor{preprocessor}{\# elif defined(\_MSC\_VER)}}
\DoxyCodeLine{376 \textcolor{comment}{// Inspired by boost/config/stdlib/dinkumware.hpp}}
\DoxyCodeLine{377 \textcolor{preprocessor}{\#  if defined(\_CPPLIB\_VER) \&\& \_CPPLIB\_VER < 520}}
\DoxyCodeLine{378 \textcolor{preprocessor}{\#   undef GTEST\_HAS\_STD\_TUPLE\_}}
\DoxyCodeLine{379 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{380 \textcolor{preprocessor}{\# elif defined(\_\_GLIBCXX\_\_)}}
\DoxyCodeLine{381 \textcolor{comment}{// Inspired by boost/config/stdlib/libstdcpp3.hpp,}}
\DoxyCodeLine{382 \textcolor{comment}{// http://gcc.gnu.org/gcc-\/4.2/changes.html and}}
\DoxyCodeLine{383 \textcolor{comment}{// http://gcc.gnu.org/onlinedocs/libstdc++/manual/bk01pt01ch01.html\#manual.intro.status.standard.200x}}
\DoxyCodeLine{384 \textcolor{preprocessor}{\#  if \_\_GNUC\_\_ < 4 || (\_\_GNUC\_\_ == 4 \&\& \_\_GNUC\_MINOR\_\_ < 2)}}
\DoxyCodeLine{385 \textcolor{preprocessor}{\#   undef GTEST\_HAS\_STD\_TUPLE\_}}
\DoxyCodeLine{386 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{387 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{388 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{389 }
\DoxyCodeLine{390 \textcolor{comment}{// Brings in definitions for functions used in the testing::internal::posix}}
\DoxyCodeLine{391 \textcolor{comment}{// namespace (read, write, close, chdir, isatty, stat). We do not currently}}
\DoxyCodeLine{392 \textcolor{comment}{// use them on Windows Mobile.}}
\DoxyCodeLine{393 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{394 \textcolor{preprocessor}{\# if !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{395 \textcolor{preprocessor}{\#  include <direct.h>}}
\DoxyCodeLine{396 \textcolor{preprocessor}{\#  include <io.h>}}
\DoxyCodeLine{397 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{398 \textcolor{comment}{// In order to avoid having to include <windows.h>, use forward declaration}}
\DoxyCodeLine{399 \textcolor{comment}{// assuming CRITICAL\_SECTION is a typedef of \_RTL\_CRITICAL\_SECTION.}}
\DoxyCodeLine{400 \textcolor{comment}{// This assumption is verified by}}
\DoxyCodeLine{401 \textcolor{comment}{// WindowsTypesTest.CRITICAL\_SECTIONIs\_RTL\_CRITICAL\_SECTION.}}
\DoxyCodeLine{402 \textcolor{keyword}{struct }\_RTL\_CRITICAL\_SECTION;}
\DoxyCodeLine{403 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{404 \textcolor{comment}{// This assumes that non-\/Windows OSes provide unistd.h. For OSes where this}}
\DoxyCodeLine{405 \textcolor{comment}{// is not the case, we need to include headers that provide the functions}}
\DoxyCodeLine{406 \textcolor{comment}{// mentioned above.}}
\DoxyCodeLine{407 \textcolor{preprocessor}{\# include <unistd.h>}}
\DoxyCodeLine{408 \textcolor{preprocessor}{\# include <strings.h>}}
\DoxyCodeLine{409 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{410 }
\DoxyCodeLine{411 \textcolor{preprocessor}{\#if GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{412 \textcolor{comment}{// Used to define \_\_ANDROID\_API\_\_ matching the target NDK API level.}}
\DoxyCodeLine{413 \textcolor{preprocessor}{\#  include <android/api-\/level.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{414 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{415 }
\DoxyCodeLine{416 \textcolor{comment}{// Defines this to true iff Google Test can use POSIX regular expressions.}}
\DoxyCodeLine{417 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_POSIX\_RE}}
\DoxyCodeLine{418 \textcolor{preprocessor}{\# if GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{419 \textcolor{comment}{// On Android, <regex.h> is only available starting with Gingerbread.}}
\DoxyCodeLine{420 \textcolor{preprocessor}{\#  define GTEST\_HAS\_POSIX\_RE (\_\_ANDROID\_API\_\_ >= 9)}}
\DoxyCodeLine{421 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{422 \textcolor{preprocessor}{\#  define GTEST\_HAS\_POSIX\_RE (!GTEST\_OS\_WINDOWS)}}
\DoxyCodeLine{423 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{424 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{425 }
\DoxyCodeLine{426 \textcolor{preprocessor}{\#if GTEST\_USES\_PCRE}}
\DoxyCodeLine{427 \textcolor{comment}{// The appropriate headers have already been included.}}
\DoxyCodeLine{428 }
\DoxyCodeLine{429 \textcolor{preprocessor}{\#elif GTEST\_HAS\_POSIX\_RE}}
\DoxyCodeLine{430 }
\DoxyCodeLine{431 \textcolor{comment}{// On some platforms, <regex.h> needs someone to define size\_t, and}}
\DoxyCodeLine{432 \textcolor{comment}{// won't compile otherwise.  We can \#include it here as we already}}
\DoxyCodeLine{433 \textcolor{comment}{// included <stdlib.h>, which is guaranteed to define size\_t through}}
\DoxyCodeLine{434 \textcolor{comment}{// <stddef.h>.}}
\DoxyCodeLine{435 \textcolor{preprocessor}{\# include <regex.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{436 }
\DoxyCodeLine{437 \textcolor{preprocessor}{\# define GTEST\_USES\_POSIX\_RE 1}}
\DoxyCodeLine{438 }
\DoxyCodeLine{439 \textcolor{preprocessor}{\#elif GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{440 }
\DoxyCodeLine{441 \textcolor{comment}{// <regex.h> is not available on Windows.  Use our own simple regex}}
\DoxyCodeLine{442 \textcolor{comment}{// implementation instead.}}
\DoxyCodeLine{443 \textcolor{preprocessor}{\# define GTEST\_USES\_SIMPLE\_RE 1}}
\DoxyCodeLine{444 }
\DoxyCodeLine{445 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{446 }
\DoxyCodeLine{447 \textcolor{comment}{// <regex.h> may not be available on this platform.  Use our own}}
\DoxyCodeLine{448 \textcolor{comment}{// simple regex implementation instead.}}
\DoxyCodeLine{449 \textcolor{preprocessor}{\# define GTEST\_USES\_SIMPLE\_RE 1}}
\DoxyCodeLine{450 }
\DoxyCodeLine{451 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_USES\_PCRE}}
\DoxyCodeLine{452 }
\DoxyCodeLine{453 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_EXCEPTIONS}}
\DoxyCodeLine{454 \textcolor{comment}{// The user didn't tell us whether exceptions are enabled, so we need}}
\DoxyCodeLine{455 \textcolor{comment}{// to figure it out.}}
\DoxyCodeLine{456 \textcolor{preprocessor}{\# if defined(\_MSC\_VER) || defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{457 \textcolor{comment}{// MSVC's and C++Builder's implementations of the STL use the \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{458 \textcolor{comment}{// macro to enable exceptions, so we'll do the same.}}
\DoxyCodeLine{459 \textcolor{comment}{// Assumes that exceptions are enabled by default.}}
\DoxyCodeLine{460 \textcolor{preprocessor}{\#  ifndef \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{461 \textcolor{preprocessor}{\#   define \_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{462 \textcolor{preprocessor}{\#  endif  }\textcolor{comment}{// \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{463 \textcolor{preprocessor}{\#  define GTEST\_HAS\_EXCEPTIONS \_HAS\_EXCEPTIONS}}
\DoxyCodeLine{464 \textcolor{preprocessor}{\# elif defined(\_\_clang\_\_)}}
\DoxyCodeLine{465 \textcolor{comment}{// clang defines \_\_EXCEPTIONS iff exceptions are enabled before clang 220714,}}
\DoxyCodeLine{466 \textcolor{comment}{// but iff cleanups are enabled after that. In Obj-\/C++ files, there can be}}
\DoxyCodeLine{467 \textcolor{comment}{// cleanups for ObjC exceptions which also need cleanups, even if C++ exceptions}}
\DoxyCodeLine{468 \textcolor{comment}{// are disabled. clang has \_\_has\_feature(cxx\_exceptions) which checks for C++}}
\DoxyCodeLine{469 \textcolor{comment}{// exceptions starting at clang r206352, but which checked for cleanups prior to}}
\DoxyCodeLine{470 \textcolor{comment}{// that. To reliably check for C++ exception availability with clang, check for}}
\DoxyCodeLine{471 \textcolor{comment}{// \_\_EXCEPTIONS \&\& \_\_has\_feature(cxx\_exceptions).}}
\DoxyCodeLine{472 \textcolor{preprocessor}{\#  define GTEST\_HAS\_EXCEPTIONS (\_\_EXCEPTIONS \&\& \_\_has\_feature(cxx\_exceptions))}}
\DoxyCodeLine{473 \textcolor{preprocessor}{\# elif defined(\_\_GNUC\_\_) \&\& \_\_EXCEPTIONS}}
\DoxyCodeLine{474 \textcolor{comment}{// gcc defines \_\_EXCEPTIONS to 1 iff exceptions are enabled.}}
\DoxyCodeLine{475 \textcolor{preprocessor}{\#  define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{476 \textcolor{preprocessor}{\# elif defined(\_\_SUNPRO\_CC)}}
\DoxyCodeLine{477 \textcolor{comment}{// Sun Pro CC supports exceptions.  However, there is no compile-\/time way of}}
\DoxyCodeLine{478 \textcolor{comment}{// detecting whether they are enabled or not.  Therefore, we assume that}}
\DoxyCodeLine{479 \textcolor{comment}{// they are enabled unless the user tells us otherwise.}}
\DoxyCodeLine{480 \textcolor{preprocessor}{\#  define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{481 \textcolor{preprocessor}{\# elif defined(\_\_IBMCPP\_\_) \&\& \_\_EXCEPTIONS}}
\DoxyCodeLine{482 \textcolor{comment}{// xlC defines \_\_EXCEPTIONS to 1 iff exceptions are enabled.}}
\DoxyCodeLine{483 \textcolor{preprocessor}{\#  define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{484 \textcolor{preprocessor}{\# elif defined(\_\_HP\_aCC)}}
\DoxyCodeLine{485 \textcolor{comment}{// Exception handling is in effect by default in HP aCC compiler. It has to}}
\DoxyCodeLine{486 \textcolor{comment}{// be turned of by +noeh compiler option if desired.}}
\DoxyCodeLine{487 \textcolor{preprocessor}{\#  define GTEST\_HAS\_EXCEPTIONS 1}}
\DoxyCodeLine{488 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{489 \textcolor{comment}{// For other compilers, we assume exceptions are disabled to be}}
\DoxyCodeLine{490 \textcolor{comment}{// conservative.}}
\DoxyCodeLine{491 \textcolor{preprocessor}{\#  define GTEST\_HAS\_EXCEPTIONS 0}}
\DoxyCodeLine{492 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// defined(\_MSC\_VER) || defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{493 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_EXCEPTIONS}}
\DoxyCodeLine{494 }
\DoxyCodeLine{495 \textcolor{preprocessor}{\#if !defined(GTEST\_HAS\_STD\_STRING)}}
\DoxyCodeLine{496 \textcolor{comment}{// Even though we don't use this macro any longer, we keep it in case}}
\DoxyCodeLine{497 \textcolor{comment}{// some clients still depend on it.}}
\DoxyCodeLine{498 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_STRING 1}}
\DoxyCodeLine{499 \textcolor{preprocessor}{\#elif !GTEST\_HAS\_STD\_STRING}}
\DoxyCodeLine{500 \textcolor{comment}{// The user told us that ::std::string isn't available.}}
\DoxyCodeLine{501 \textcolor{preprocessor}{\# error "{}Google Test cannot be used where ::std::string isn't available."{}}}
\DoxyCodeLine{502 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_HAS\_STD\_STRING)}}
\DoxyCodeLine{503 }
\DoxyCodeLine{504 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_GLOBAL\_STRING}}
\DoxyCodeLine{505 \textcolor{comment}{// The user didn't tell us whether ::string is available, so we need}}
\DoxyCodeLine{506 \textcolor{comment}{// to figure it out.}}
\DoxyCodeLine{507 }
\DoxyCodeLine{508 \textcolor{preprocessor}{\# define GTEST\_HAS\_GLOBAL\_STRING 0}}
\DoxyCodeLine{509 }
\DoxyCodeLine{510 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_GLOBAL\_STRING}}
\DoxyCodeLine{511 }
\DoxyCodeLine{512 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{513 \textcolor{comment}{// The user didn't tell us whether ::std::wstring is available, so we need}}
\DoxyCodeLine{514 \textcolor{comment}{// to figure it out.}}
\DoxyCodeLine{515 \textcolor{comment}{// TODO(wan@google.com): uses autoconf to detect whether ::std::wstring}}
\DoxyCodeLine{516 \textcolor{comment}{//   is available.}}
\DoxyCodeLine{517 }
\DoxyCodeLine{518 \textcolor{comment}{// Cygwin 1.7 and below doesn't support ::std::wstring.}}
\DoxyCodeLine{519 \textcolor{comment}{// Solaris' libc++ doesn't support it either.  Android has}}
\DoxyCodeLine{520 \textcolor{comment}{// no support for it at least as recent as Froyo (2.2).}}
\DoxyCodeLine{521 \textcolor{preprocessor}{\# define GTEST\_HAS\_STD\_WSTRING \(\backslash\)}}
\DoxyCodeLine{522 \textcolor{preprocessor}{    (!(GTEST\_OS\_LINUX\_ANDROID || GTEST\_OS\_CYGWIN || GTEST\_OS\_SOLARIS))}}
\DoxyCodeLine{523 }
\DoxyCodeLine{524 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{525 }
\DoxyCodeLine{526 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_GLOBAL\_WSTRING}}
\DoxyCodeLine{527 \textcolor{comment}{// The user didn't tell us whether ::wstring is available, so we need}}
\DoxyCodeLine{528 \textcolor{comment}{// to figure it out.}}
\DoxyCodeLine{529 \textcolor{preprocessor}{\# define GTEST\_HAS\_GLOBAL\_WSTRING \(\backslash\)}}
\DoxyCodeLine{530 \textcolor{preprocessor}{    (GTEST\_HAS\_STD\_WSTRING \&\& GTEST\_HAS\_GLOBAL\_STRING)}}
\DoxyCodeLine{531 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_GLOBAL\_WSTRING}}
\DoxyCodeLine{532 }
\DoxyCodeLine{533 \textcolor{comment}{// Determines whether RTTI is available.}}
\DoxyCodeLine{534 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_RTTI}}
\DoxyCodeLine{535 \textcolor{comment}{// The user didn't tell us whether RTTI is enabled, so we need to}}
\DoxyCodeLine{536 \textcolor{comment}{// figure it out.}}
\DoxyCodeLine{537 }
\DoxyCodeLine{538 \textcolor{preprocessor}{\# ifdef \_MSC\_VER}}
\DoxyCodeLine{539 }
\DoxyCodeLine{540 \textcolor{preprocessor}{\#  ifdef \_CPPRTTI  }\textcolor{comment}{// MSVC defines this macro iff RTTI is enabled.}}
\DoxyCodeLine{541 \textcolor{preprocessor}{\#   define GTEST\_HAS\_RTTI 1}}
\DoxyCodeLine{542 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{543 \textcolor{preprocessor}{\#   define GTEST\_HAS\_RTTI 0}}
\DoxyCodeLine{544 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{545 }
\DoxyCodeLine{546 \textcolor{comment}{// Starting with version 4.3.2, gcc defines \_\_GXX\_RTTI iff RTTI is enabled.}}
\DoxyCodeLine{547 \textcolor{preprocessor}{\# elif defined(\_\_GNUC\_\_) \&\& (GTEST\_GCC\_VER\_ >= 40302)}}
\DoxyCodeLine{548 }
\DoxyCodeLine{549 \textcolor{preprocessor}{\#  ifdef \_\_GXX\_RTTI}}
\DoxyCodeLine{550 \textcolor{comment}{// When building against STLport with the Android NDK and with}}
\DoxyCodeLine{551 \textcolor{comment}{// -\/frtti -\/fno-\/exceptions, the build fails at link time with undefined}}
\DoxyCodeLine{552 \textcolor{comment}{// references to \_\_cxa\_bad\_typeid. Note sure if STL or toolchain bug,}}
\DoxyCodeLine{553 \textcolor{comment}{// so disable RTTI when detected.}}
\DoxyCodeLine{554 \textcolor{preprocessor}{\#   if GTEST\_OS\_LINUX\_ANDROID \&\& defined(\_STLPORT\_MAJOR) \&\& \(\backslash\)}}
\DoxyCodeLine{555 \textcolor{preprocessor}{       !defined(\_\_EXCEPTIONS)}}
\DoxyCodeLine{556 \textcolor{preprocessor}{\#    define GTEST\_HAS\_RTTI 0}}
\DoxyCodeLine{557 \textcolor{preprocessor}{\#   else}}
\DoxyCodeLine{558 \textcolor{preprocessor}{\#    define GTEST\_HAS\_RTTI 1}}
\DoxyCodeLine{559 \textcolor{preprocessor}{\#   endif  }\textcolor{comment}{// GTEST\_OS\_LINUX\_ANDROID \&\& \_\_STLPORT\_MAJOR \&\& !\_\_EXCEPTIONS}}
\DoxyCodeLine{560 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{561 \textcolor{preprocessor}{\#   define GTEST\_HAS\_RTTI 0}}
\DoxyCodeLine{562 \textcolor{preprocessor}{\#  endif  }\textcolor{comment}{// \_\_GXX\_RTTI}}
\DoxyCodeLine{563 }
\DoxyCodeLine{564 \textcolor{comment}{// Clang defines \_\_GXX\_RTTI starting with version 3.0, but its manual recommends}}
\DoxyCodeLine{565 \textcolor{comment}{// using has\_feature instead. has\_feature(cxx\_rtti) is supported since 2.7, the}}
\DoxyCodeLine{566 \textcolor{comment}{// first version with C++ support.}}
\DoxyCodeLine{567 \textcolor{preprocessor}{\# elif defined(\_\_clang\_\_)}}
\DoxyCodeLine{568 }
\DoxyCodeLine{569 \textcolor{preprocessor}{\#  define GTEST\_HAS\_RTTI \_\_has\_feature(cxx\_rtti)}}
\DoxyCodeLine{570 }
\DoxyCodeLine{571 \textcolor{comment}{// Starting with version 9.0 IBM Visual Age defines \_\_RTTI\_ALL\_\_ to 1 if}}
\DoxyCodeLine{572 \textcolor{comment}{// both the typeid and dynamic\_cast features are present.}}
\DoxyCodeLine{573 \textcolor{preprocessor}{\# elif defined(\_\_IBMCPP\_\_) \&\& (\_\_IBMCPP\_\_ >= 900)}}
\DoxyCodeLine{574 }
\DoxyCodeLine{575 \textcolor{preprocessor}{\#  ifdef \_\_RTTI\_ALL\_\_}}
\DoxyCodeLine{576 \textcolor{preprocessor}{\#   define GTEST\_HAS\_RTTI 1}}
\DoxyCodeLine{577 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{578 \textcolor{preprocessor}{\#   define GTEST\_HAS\_RTTI 0}}
\DoxyCodeLine{579 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{580 }
\DoxyCodeLine{581 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{582 }
\DoxyCodeLine{583 \textcolor{comment}{// For all other compilers, we assume RTTI is enabled.}}
\DoxyCodeLine{584 \textcolor{preprocessor}{\#  define GTEST\_HAS\_RTTI 1}}
\DoxyCodeLine{585 }
\DoxyCodeLine{586 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// \_MSC\_VER}}
\DoxyCodeLine{587 }
\DoxyCodeLine{588 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_RTTI}}
\DoxyCodeLine{589 }
\DoxyCodeLine{590 \textcolor{comment}{// It's this header's responsibility to \#include <typeinfo> when RTTI}}
\DoxyCodeLine{591 \textcolor{comment}{// is enabled.}}
\DoxyCodeLine{592 \textcolor{preprocessor}{\#if GTEST\_HAS\_RTTI}}
\DoxyCodeLine{593 \textcolor{preprocessor}{\# include <typeinfo>}}
\DoxyCodeLine{594 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{595 }
\DoxyCodeLine{596 \textcolor{comment}{// Determines whether Google Test can use the pthreads library.}}
\DoxyCodeLine{597 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{598 \textcolor{comment}{// The user didn't tell us explicitly, so we make reasonable assumptions about}}
\DoxyCodeLine{599 \textcolor{comment}{// which platforms have pthreads support.}}
\DoxyCodeLine{600 \textcolor{comment}{//}}
\DoxyCodeLine{601 \textcolor{comment}{// To disable threading support in Google Test, add -\/DGTEST\_HAS\_PTHREAD=0}}
\DoxyCodeLine{602 \textcolor{comment}{// to your compiler flags.}}
\DoxyCodeLine{603 \textcolor{preprocessor}{\# define GTEST\_HAS\_PTHREAD (GTEST\_OS\_LINUX || GTEST\_OS\_MAC || GTEST\_OS\_HPUX \(\backslash\)}}
\DoxyCodeLine{604 \textcolor{preprocessor}{    || GTEST\_OS\_QNX || GTEST\_OS\_FREEBSD || GTEST\_OS\_NACL)}}
\DoxyCodeLine{605 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{606 }
\DoxyCodeLine{607 \textcolor{preprocessor}{\#if GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{608 \textcolor{comment}{// gtest-\/port.h guarantees to \#include <pthread.h> when GTEST\_HAS\_PTHREAD is}}
\DoxyCodeLine{609 \textcolor{comment}{// true.}}
\DoxyCodeLine{610 \textcolor{preprocessor}{\# include <pthread.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{611 }
\DoxyCodeLine{612 \textcolor{comment}{// For timespec and nanosleep, used below.}}
\DoxyCodeLine{613 \textcolor{preprocessor}{\# include <time.h>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{614 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{615 }
\DoxyCodeLine{616 \textcolor{comment}{// Determines if hash\_map/hash\_set are available.}}
\DoxyCodeLine{617 \textcolor{comment}{// Only used for testing against those containers.}}
\DoxyCodeLine{618 \textcolor{preprocessor}{\#if !defined(GTEST\_HAS\_HASH\_MAP\_)}}
\DoxyCodeLine{619 \textcolor{preprocessor}{\# if \_MSC\_VER}}
\DoxyCodeLine{620 \textcolor{preprocessor}{\#  define GTEST\_HAS\_HASH\_MAP\_ 1  }\textcolor{comment}{// Indicates that hash\_map is available.}}
\DoxyCodeLine{621 \textcolor{preprocessor}{\#  define GTEST\_HAS\_HASH\_SET\_ 1  }\textcolor{comment}{// Indicates that hash\_set is available.}}
\DoxyCodeLine{622 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// \_MSC\_VER}}
\DoxyCodeLine{623 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_HAS\_HASH\_MAP\_)}}
\DoxyCodeLine{624 }
\DoxyCodeLine{625 \textcolor{comment}{// Determines whether Google Test can use tr1/tuple.  You can define}}
\DoxyCodeLine{626 \textcolor{comment}{// this macro to 0 to prevent Google Test from using tuple (any}}
\DoxyCodeLine{627 \textcolor{comment}{// feature depending on tuple with be disabled in this mode).}}
\DoxyCodeLine{628 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_TR1\_TUPLE}}
\DoxyCodeLine{629 \textcolor{preprocessor}{\# if GTEST\_OS\_LINUX\_ANDROID \&\& defined(\_STLPORT\_MAJOR)}}
\DoxyCodeLine{630 \textcolor{comment}{// STLport, provided with the Android NDK, has neither <tr1/tuple> or <tuple>.}}
\DoxyCodeLine{631 \textcolor{preprocessor}{\#  define GTEST\_HAS\_TR1\_TUPLE 0}}
\DoxyCodeLine{632 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{633 \textcolor{comment}{// The user didn't tell us not to do it, so we assume it's OK.}}
\DoxyCodeLine{634 \textcolor{preprocessor}{\#  define GTEST\_HAS\_TR1\_TUPLE 1}}
\DoxyCodeLine{635 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{636 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_TR1\_TUPLE}}
\DoxyCodeLine{637 }
\DoxyCodeLine{638 \textcolor{comment}{// Determines whether Google Test's own tr1 tuple implementation}}
\DoxyCodeLine{639 \textcolor{comment}{// should be used.}}
\DoxyCodeLine{640 \textcolor{preprocessor}{\#ifndef GTEST\_USE\_OWN\_TR1\_TUPLE}}
\DoxyCodeLine{641 \textcolor{comment}{// The user didn't tell us, so we need to figure it out.}}
\DoxyCodeLine{642 }
\DoxyCodeLine{643 \textcolor{comment}{// We use our own TR1 tuple if we aren't sure the user has an}}
\DoxyCodeLine{644 \textcolor{comment}{// implementation of it already.  At this time, libstdc++ 4.0.0+ and}}
\DoxyCodeLine{645 \textcolor{comment}{// MSVC 2010 are the only mainstream standard libraries that come}}
\DoxyCodeLine{646 \textcolor{comment}{// with a TR1 tuple implementation.  NVIDIA's CUDA NVCC compiler}}
\DoxyCodeLine{647 \textcolor{comment}{// pretends to be GCC by defining \_\_GNUC\_\_ and friends, but cannot}}
\DoxyCodeLine{648 \textcolor{comment}{// compile GCC's tuple implementation.  MSVC 2008 (9.0) provides TR1}}
\DoxyCodeLine{649 \textcolor{comment}{// tuple in a 323 MB Feature Pack download, which we cannot assume the}}
\DoxyCodeLine{650 \textcolor{comment}{// user has.  QNX's QCC compiler is a modified GCC but it doesn't}}
\DoxyCodeLine{651 \textcolor{comment}{// support TR1 tuple.  libc++ only provides std::tuple, in C++11 mode,}}
\DoxyCodeLine{652 \textcolor{comment}{// and it can be used with some compilers that define \_\_GNUC\_\_.}}
\DoxyCodeLine{653 \textcolor{preprocessor}{\# if (defined(\_\_GNUC\_\_) \&\& !defined(\_\_CUDACC\_\_) \&\& (GTEST\_GCC\_VER\_ >= 40000) \(\backslash\)}}
\DoxyCodeLine{654 \textcolor{preprocessor}{      \&\& !GTEST\_OS\_QNX \&\& !defined(\_LIBCPP\_VERSION)) || \_MSC\_VER >= 1600}}
\DoxyCodeLine{655 \textcolor{preprocessor}{\#  define GTEST\_ENV\_HAS\_TR1\_TUPLE\_ 1}}
\DoxyCodeLine{656 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{657 }
\DoxyCodeLine{658 \textcolor{comment}{// C++11 specifies that <tuple> provides std::tuple. Use that if gtest is used}}
\DoxyCodeLine{659 \textcolor{comment}{// in C++11 mode and libstdc++ isn't very old (binaries targeting OS X 10.6}}
\DoxyCodeLine{660 \textcolor{comment}{// can build with clang but need to use gcc4.2's libstdc++).}}
\DoxyCodeLine{661 \textcolor{preprocessor}{\# if GTEST\_LANG\_CXX11 \&\& (!defined(\_\_GLIBCXX\_\_) || \_\_GLIBCXX\_\_ > 20110325)}}
\DoxyCodeLine{662 \textcolor{preprocessor}{\#  define GTEST\_ENV\_HAS\_STD\_TUPLE\_ 1}}
\DoxyCodeLine{663 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{664 }
\DoxyCodeLine{665 \textcolor{preprocessor}{\# if GTEST\_ENV\_HAS\_TR1\_TUPLE\_ || GTEST\_ENV\_HAS\_STD\_TUPLE\_}}
\DoxyCodeLine{666 \textcolor{preprocessor}{\#  define GTEST\_USE\_OWN\_TR1\_TUPLE 0}}
\DoxyCodeLine{667 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{668 \textcolor{preprocessor}{\#  define GTEST\_USE\_OWN\_TR1\_TUPLE 1}}
\DoxyCodeLine{669 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{670 }
\DoxyCodeLine{671 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_USE\_OWN\_TR1\_TUPLE}}
\DoxyCodeLine{672 }
\DoxyCodeLine{673 \textcolor{comment}{// To avoid conditional compilation everywhere, we make it}}
\DoxyCodeLine{674 \textcolor{comment}{// gtest-\/port.h's responsibility to \#include the header implementing}}
\DoxyCodeLine{675 \textcolor{comment}{// tuple.}}
\DoxyCodeLine{676 \textcolor{preprocessor}{\#if GTEST\_HAS\_STD\_TUPLE\_}}
\DoxyCodeLine{677 \textcolor{preprocessor}{\# include <tuple>}  \textcolor{comment}{// IWYU pragma: export}}
\DoxyCodeLine{678 \textcolor{preprocessor}{\# define GTEST\_TUPLE\_NAMESPACE\_ ::std}}
\DoxyCodeLine{679 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_STD\_TUPLE\_}}
\DoxyCodeLine{680 }
\DoxyCodeLine{681 \textcolor{comment}{// We include tr1::tuple even if std::tuple is available to define printers for}}
\DoxyCodeLine{682 \textcolor{comment}{// them.}}
\DoxyCodeLine{683 \textcolor{preprocessor}{\#if GTEST\_HAS\_TR1\_TUPLE}}
\DoxyCodeLine{684 \textcolor{preprocessor}{\# ifndef GTEST\_TUPLE\_NAMESPACE\_}}
\DoxyCodeLine{685 \textcolor{preprocessor}{\#  define GTEST\_TUPLE\_NAMESPACE\_ ::std::tr1}}
\DoxyCodeLine{686 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// GTEST\_TUPLE\_NAMESPACE\_}}
\DoxyCodeLine{687 }
\DoxyCodeLine{688 \textcolor{preprocessor}{\# if GTEST\_USE\_OWN\_TR1\_TUPLE}}
\DoxyCodeLine{689 \textcolor{preprocessor}{\#  include "{}gtest/internal/gtest-\/tuple.h"{}}  \textcolor{comment}{// IWYU pragma: export  // NOLINT}}
\DoxyCodeLine{690 \textcolor{preprocessor}{\# elif GTEST\_ENV\_HAS\_STD\_TUPLE\_}}
\DoxyCodeLine{691 \textcolor{preprocessor}{\#  include <tuple>}}
\DoxyCodeLine{692 \textcolor{comment}{// C++11 puts its tuple into the ::std namespace rather than}}
\DoxyCodeLine{693 \textcolor{comment}{// ::std::tr1.  gtest expects tuple to live in ::std::tr1, so put it there.}}
\DoxyCodeLine{694 \textcolor{comment}{// This causes undefined behavior, but supported compilers react in}}
\DoxyCodeLine{695 \textcolor{comment}{// the way we intend.}}
\DoxyCodeLine{696 \textcolor{keyword}{namespace }std \{}
\DoxyCodeLine{697 \textcolor{keyword}{namespace }tr1 \{}
\DoxyCodeLine{698 using ::std::get;}
\DoxyCodeLine{699 using ::std::make\_tuple;}
\DoxyCodeLine{700 using ::std::tuple;}
\DoxyCodeLine{701 using ::std::tuple\_element;}
\DoxyCodeLine{702 using ::std::tuple\_size;}
\DoxyCodeLine{703 \}}
\DoxyCodeLine{704 \}}
\DoxyCodeLine{705 }
\DoxyCodeLine{706 \textcolor{preprocessor}{\# elif GTEST\_OS\_SYMBIAN}}
\DoxyCodeLine{707 }
\DoxyCodeLine{708 \textcolor{comment}{// On Symbian, BOOST\_HAS\_TR1\_TUPLE causes Boost's TR1 tuple library to}}
\DoxyCodeLine{709 \textcolor{comment}{// use STLport's tuple implementation, which unfortunately doesn't}}
\DoxyCodeLine{710 \textcolor{comment}{// work as the copy of STLport distributed with Symbian is incomplete.}}
\DoxyCodeLine{711 \textcolor{comment}{// By making sure BOOST\_HAS\_TR1\_TUPLE is undefined, we force Boost to}}
\DoxyCodeLine{712 \textcolor{comment}{// use its own tuple implementation.}}
\DoxyCodeLine{713 \textcolor{preprocessor}{\#  ifdef BOOST\_HAS\_TR1\_TUPLE}}
\DoxyCodeLine{714 \textcolor{preprocessor}{\#   undef BOOST\_HAS\_TR1\_TUPLE}}
\DoxyCodeLine{715 \textcolor{preprocessor}{\#  endif  }\textcolor{comment}{// BOOST\_HAS\_TR1\_TUPLE}}
\DoxyCodeLine{716 }
\DoxyCodeLine{717 \textcolor{comment}{// This prevents <boost/tr1/detail/config.hpp>, which defines}}
\DoxyCodeLine{718 \textcolor{comment}{// BOOST\_HAS\_TR1\_TUPLE, from being \#included by Boost's <tuple>.}}
\DoxyCodeLine{719 \textcolor{preprocessor}{\#  define BOOST\_TR1\_DETAIL\_CONFIG\_HPP\_INCLUDED}}
\DoxyCodeLine{720 \textcolor{preprocessor}{\#  include <tuple>}  \textcolor{comment}{// IWYU pragma: export  // NOLINT}}
\DoxyCodeLine{721 }
\DoxyCodeLine{722 \textcolor{preprocessor}{\# elif defined(\_\_GNUC\_\_) \&\& (GTEST\_GCC\_VER\_ >= 40000)}}
\DoxyCodeLine{723 \textcolor{comment}{// GCC 4.0+ implements tr1/tuple in the <tr1/tuple> header.  This does}}
\DoxyCodeLine{724 \textcolor{comment}{// not conform to the TR1 spec, which requires the header to be <tuple>.}}
\DoxyCodeLine{725 }
\DoxyCodeLine{726 \textcolor{preprocessor}{\#  if !GTEST\_HAS\_RTTI \&\& GTEST\_GCC\_VER\_ < 40302}}
\DoxyCodeLine{727 \textcolor{comment}{// Until version 4.3.2, gcc has a bug that causes <tr1/functional>,}}
\DoxyCodeLine{728 \textcolor{comment}{// which is \#included by <tr1/tuple>, to not compile when RTTI is}}
\DoxyCodeLine{729 \textcolor{comment}{// disabled.  \_TR1\_FUNCTIONAL is the header guard for}}
\DoxyCodeLine{730 \textcolor{comment}{// <tr1/functional>.  Hence the following \#define is a hack to prevent}}
\DoxyCodeLine{731 \textcolor{comment}{// <tr1/functional> from being included.}}
\DoxyCodeLine{732 \textcolor{preprocessor}{\#   define \_TR1\_FUNCTIONAL 1}}
\DoxyCodeLine{733 \textcolor{preprocessor}{\#   include <tr1/tuple>}}
\DoxyCodeLine{734 \textcolor{preprocessor}{\#   undef \_TR1\_FUNCTIONAL  }\textcolor{comment}{// Allows the user to \#include}}
\DoxyCodeLine{735                         \textcolor{comment}{// <tr1/functional> if he chooses to.}}
\DoxyCodeLine{736 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{737 \textcolor{preprocessor}{\#   include <tr1/tuple>}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{738 \textcolor{preprocessor}{\#  endif  }\textcolor{comment}{// !GTEST\_HAS\_RTTI \&\& GTEST\_GCC\_VER\_ < 40302}}
\DoxyCodeLine{739 }
\DoxyCodeLine{740 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{741 \textcolor{comment}{// If the compiler is not GCC 4.0+, we assume the user is using a}}
\DoxyCodeLine{742 \textcolor{comment}{// spec-\/conforming TR1 implementation.}}
\DoxyCodeLine{743 \textcolor{preprocessor}{\#  include <tuple>}  \textcolor{comment}{// IWYU pragma: export  // NOLINT}}
\DoxyCodeLine{744 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// GTEST\_USE\_OWN\_TR1\_TUPLE}}
\DoxyCodeLine{745 }
\DoxyCodeLine{746 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_TR1\_TUPLE}}
\DoxyCodeLine{747 }
\DoxyCodeLine{748 \textcolor{comment}{// Determines whether clone(2) is supported.}}
\DoxyCodeLine{749 \textcolor{comment}{// Usually it will only be available on Linux, excluding}}
\DoxyCodeLine{750 \textcolor{comment}{// Linux on the Itanium architecture.}}
\DoxyCodeLine{751 \textcolor{comment}{// Also see http://linux.die.net/man/2/clone.}}
\DoxyCodeLine{752 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_CLONE}}
\DoxyCodeLine{753 \textcolor{comment}{// The user didn't tell us, so we need to figure it out.}}
\DoxyCodeLine{754 }
\DoxyCodeLine{755 \textcolor{preprocessor}{\# if GTEST\_OS\_LINUX \&\& !defined(\_\_ia64\_\_)}}
\DoxyCodeLine{756 \textcolor{preprocessor}{\#  if GTEST\_OS\_LINUX\_ANDROID}}
\DoxyCodeLine{757 \textcolor{comment}{// On Android, clone() is only available on ARM starting with Gingerbread.}}
\DoxyCodeLine{758 \textcolor{preprocessor}{\#    if defined(\_\_arm\_\_) \&\& \_\_ANDROID\_API\_\_ >= 9}}
\DoxyCodeLine{759 \textcolor{preprocessor}{\#     define GTEST\_HAS\_CLONE 1}}
\DoxyCodeLine{760 \textcolor{preprocessor}{\#    else}}
\DoxyCodeLine{761 \textcolor{preprocessor}{\#     define GTEST\_HAS\_CLONE 0}}
\DoxyCodeLine{762 \textcolor{preprocessor}{\#    endif}}
\DoxyCodeLine{763 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{764 \textcolor{preprocessor}{\#   define GTEST\_HAS\_CLONE 1}}
\DoxyCodeLine{765 \textcolor{preprocessor}{\#  endif}}
\DoxyCodeLine{766 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{767 \textcolor{preprocessor}{\#  define GTEST\_HAS\_CLONE 0}}
\DoxyCodeLine{768 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// GTEST\_OS\_LINUX \&\& !defined(\_\_ia64\_\_)}}
\DoxyCodeLine{769 }
\DoxyCodeLine{770 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_CLONE}}
\DoxyCodeLine{771 }
\DoxyCodeLine{772 \textcolor{comment}{// Determines whether to support stream redirection. This is used to test}}
\DoxyCodeLine{773 \textcolor{comment}{// output correctness and to implement death tests.}}
\DoxyCodeLine{774 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{775 \textcolor{comment}{// By default, we assume that stream redirection is supported on all}}
\DoxyCodeLine{776 \textcolor{comment}{// platforms except known mobile ones.}}
\DoxyCodeLine{777 \textcolor{preprocessor}{\# if GTEST\_OS\_WINDOWS\_MOBILE || GTEST\_OS\_SYMBIAN || \(\backslash\)}}
\DoxyCodeLine{778 \textcolor{preprocessor}{    GTEST\_OS\_WINDOWS\_PHONE || GTEST\_OS\_WINDOWS\_RT}}
\DoxyCodeLine{779 \textcolor{preprocessor}{\#  define GTEST\_HAS\_STREAM\_REDIRECTION 0}}
\DoxyCodeLine{780 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{781 \textcolor{preprocessor}{\#  define GTEST\_HAS\_STREAM\_REDIRECTION 1}}
\DoxyCodeLine{782 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// !GTEST\_OS\_WINDOWS\_MOBILE \&\& !GTEST\_OS\_SYMBIAN}}
\DoxyCodeLine{783 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{784 }
\DoxyCodeLine{785 \textcolor{comment}{// Determines whether to support death tests.}}
\DoxyCodeLine{786 \textcolor{comment}{// Google Test does not support death tests for VC 7.1 and earlier as}}
\DoxyCodeLine{787 \textcolor{comment}{// abort() in a VC 7.1 application compiled as GUI in debug config}}
\DoxyCodeLine{788 \textcolor{comment}{// pops up a dialog window that cannot be suppressed programmatically.}}
\DoxyCodeLine{789 \textcolor{preprocessor}{\#if (GTEST\_OS\_LINUX || GTEST\_OS\_CYGWIN || GTEST\_OS\_SOLARIS || \(\backslash\)}}
\DoxyCodeLine{790 \textcolor{preprocessor}{     (GTEST\_OS\_MAC \&\& !GTEST\_OS\_IOS) || \(\backslash\)}}
\DoxyCodeLine{791 \textcolor{preprocessor}{     (GTEST\_OS\_WINDOWS\_DESKTOP \&\& \_MSC\_VER >= 1400) || \(\backslash\)}}
\DoxyCodeLine{792 \textcolor{preprocessor}{     GTEST\_OS\_WINDOWS\_MINGW || GTEST\_OS\_AIX || GTEST\_OS\_HPUX || \(\backslash\)}}
\DoxyCodeLine{793 \textcolor{preprocessor}{     GTEST\_OS\_OPENBSD || GTEST\_OS\_QNX || GTEST\_OS\_FREEBSD)}}
\DoxyCodeLine{794 \textcolor{preprocessor}{\# define GTEST\_HAS\_DEATH\_TEST 1}}
\DoxyCodeLine{795 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{796 }
\DoxyCodeLine{797 \textcolor{comment}{// We don't support MSVC 7.1 with exceptions disabled now.  Therefore}}
\DoxyCodeLine{798 \textcolor{comment}{// all the compilers we care about are adequate for supporting}}
\DoxyCodeLine{799 \textcolor{comment}{// value-\/parameterized tests.}}
\DoxyCodeLine{800 \textcolor{preprocessor}{\#define GTEST\_HAS\_PARAM\_TEST 1}}
\DoxyCodeLine{801 }
\DoxyCodeLine{802 \textcolor{comment}{// Determines whether to support type-\/driven tests.}}
\DoxyCodeLine{803 }
\DoxyCodeLine{804 \textcolor{comment}{// Typed tests need <typeinfo> and variadic macros, which GCC, VC++ 8.0,}}
\DoxyCodeLine{805 \textcolor{comment}{// Sun Pro CC, IBM Visual Age, and HP aCC support.}}
\DoxyCodeLine{806 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) || (\_MSC\_VER >= 1400) || defined(\_\_SUNPRO\_CC) || \(\backslash\)}}
\DoxyCodeLine{807 \textcolor{preprocessor}{    defined(\_\_IBMCPP\_\_) || defined(\_\_HP\_aCC)}}
\DoxyCodeLine{808 \textcolor{preprocessor}{\# define GTEST\_HAS\_TYPED\_TEST 1}}
\DoxyCodeLine{809 \textcolor{preprocessor}{\# define GTEST\_HAS\_TYPED\_TEST\_P 1}}
\DoxyCodeLine{810 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{811 }
\DoxyCodeLine{812 \textcolor{comment}{// Determines whether to support Combine(). This only makes sense when}}
\DoxyCodeLine{813 \textcolor{comment}{// value-\/parameterized tests are enabled.  The implementation doesn't}}
\DoxyCodeLine{814 \textcolor{comment}{// work on Sun Studio since it doesn't understand templated conversion}}
\DoxyCodeLine{815 \textcolor{comment}{// operators.}}
\DoxyCodeLine{816 \textcolor{preprocessor}{\#if GTEST\_HAS\_PARAM\_TEST \&\& GTEST\_HAS\_TR1\_TUPLE \&\& !defined(\_\_SUNPRO\_CC)}}
\DoxyCodeLine{817 \textcolor{preprocessor}{\# define GTEST\_HAS\_COMBINE 1}}
\DoxyCodeLine{818 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{819 }
\DoxyCodeLine{820 \textcolor{comment}{// Determines whether the system compiler uses UTF-\/16 for encoding wide strings.}}
\DoxyCodeLine{821 \textcolor{preprocessor}{\#define GTEST\_WIDE\_STRING\_USES\_UTF16\_ \(\backslash\)}}
\DoxyCodeLine{822 \textcolor{preprocessor}{    (GTEST\_OS\_WINDOWS || GTEST\_OS\_CYGWIN || GTEST\_OS\_SYMBIAN || GTEST\_OS\_AIX)}}
\DoxyCodeLine{823 }
\DoxyCodeLine{824 \textcolor{comment}{// Determines whether test results can be streamed to a socket.}}
\DoxyCodeLine{825 \textcolor{preprocessor}{\#if GTEST\_OS\_LINUX}}
\DoxyCodeLine{826 \textcolor{preprocessor}{\# define GTEST\_CAN\_STREAM\_RESULTS\_ 1}}
\DoxyCodeLine{827 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{828 }
\DoxyCodeLine{829 \textcolor{comment}{// Defines some utility macros.}}
\DoxyCodeLine{830 }
\DoxyCodeLine{831 \textcolor{comment}{// The GNU compiler emits a warning if nested "{}if"{} statements are followed by}}
\DoxyCodeLine{832 \textcolor{comment}{// an "{}else"{} statement and braces are not used to explicitly disambiguate the}}
\DoxyCodeLine{833 \textcolor{comment}{// "{}else"{} binding.  This leads to problems with code like:}}
\DoxyCodeLine{834 \textcolor{comment}{//}}
\DoxyCodeLine{835 \textcolor{comment}{//   if (gate)}}
\DoxyCodeLine{836 \textcolor{comment}{//     ASSERT\_*(condition) << "{}Some message"{};}}
\DoxyCodeLine{837 \textcolor{comment}{//}}
\DoxyCodeLine{838 \textcolor{comment}{// The "{}switch (0) case 0:"{} idiom is used to suppress this.}}
\DoxyCodeLine{839 \textcolor{preprocessor}{\#ifdef \_\_INTEL\_COMPILER}}
\DoxyCodeLine{840 \textcolor{preprocessor}{\# define GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_}}
\DoxyCodeLine{841 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{842 \textcolor{preprocessor}{\# define GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_ switch (0) case 0: default:  }\textcolor{comment}{// NOLINT}}
\DoxyCodeLine{843 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{844 }
\DoxyCodeLine{845 \textcolor{comment}{// Use this annotation at the end of a struct/class definition to}}
\DoxyCodeLine{846 \textcolor{comment}{// prevent the compiler from optimizing away instances that are never}}
\DoxyCodeLine{847 \textcolor{comment}{// used.  This is useful when all interesting logic happens inside the}}
\DoxyCodeLine{848 \textcolor{comment}{// c'tor and / or d'tor.  Example:}}
\DoxyCodeLine{849 \textcolor{comment}{//}}
\DoxyCodeLine{850 \textcolor{comment}{//   struct Foo \{}}
\DoxyCodeLine{851 \textcolor{comment}{//     Foo() \{ ... \}}}
\DoxyCodeLine{852 \textcolor{comment}{//   \} GTEST\_ATTRIBUTE\_UNUSED\_;}}
\DoxyCodeLine{853 \textcolor{comment}{//}}
\DoxyCodeLine{854 \textcolor{comment}{// Also use it after a variable or parameter declaration to tell the}}
\DoxyCodeLine{855 \textcolor{comment}{// compiler the variable/parameter does not have to be used.}}
\DoxyCodeLine{856 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) \&\& !defined(COMPILER\_ICC)}}
\DoxyCodeLine{857 \textcolor{preprocessor}{\# define GTEST\_ATTRIBUTE\_UNUSED\_ \_\_attribute\_\_ ((unused))}}
\DoxyCodeLine{858 \textcolor{preprocessor}{\#elif defined(\_\_clang\_\_)}}
\DoxyCodeLine{859 \textcolor{preprocessor}{\# if \_\_has\_attribute(unused)}}
\DoxyCodeLine{860 \textcolor{preprocessor}{\#  define GTEST\_ATTRIBUTE\_UNUSED\_ \_\_attribute\_\_ ((unused))}}
\DoxyCodeLine{861 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{862 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{863 \textcolor{preprocessor}{\#ifndef GTEST\_ATTRIBUTE\_UNUSED\_}}
\DoxyCodeLine{864 \textcolor{preprocessor}{\# define GTEST\_ATTRIBUTE\_UNUSED\_}}
\DoxyCodeLine{865 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{866 }
\DoxyCodeLine{867 \textcolor{comment}{// A macro to disallow operator=}}
\DoxyCodeLine{868 \textcolor{comment}{// This should be used in the private: declarations for a class.}}
\DoxyCodeLine{869 \textcolor{preprocessor}{\#define GTEST\_DISALLOW\_ASSIGN\_(type)\(\backslash\)}}
\DoxyCodeLine{870 \textcolor{preprocessor}{  void operator=(type const \&)}}
\DoxyCodeLine{871 }
\DoxyCodeLine{872 \textcolor{comment}{// A macro to disallow copy constructor and operator=}}
\DoxyCodeLine{873 \textcolor{comment}{// This should be used in the private: declarations for a class.}}
\DoxyCodeLine{874 \textcolor{preprocessor}{\#define GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(type)\(\backslash\)}}
\DoxyCodeLine{875 \textcolor{preprocessor}{  type(type const \&);\(\backslash\)}}
\DoxyCodeLine{876 \textcolor{preprocessor}{  GTEST\_DISALLOW\_ASSIGN\_(type)}}
\DoxyCodeLine{877 }
\DoxyCodeLine{878 \textcolor{comment}{// Tell the compiler to warn about unused return values for functions declared}}
\DoxyCodeLine{879 \textcolor{comment}{// with this macro.  The macro should be used on function declarations}}
\DoxyCodeLine{880 \textcolor{comment}{// following the argument list:}}
\DoxyCodeLine{881 \textcolor{comment}{//}}
\DoxyCodeLine{882 \textcolor{comment}{//   Sprocket* AllocateSprocket() GTEST\_MUST\_USE\_RESULT\_;}}
\DoxyCodeLine{883 \textcolor{preprocessor}{\#if defined(\_\_GNUC\_\_) \&\& (GTEST\_GCC\_VER\_ >= 30400) \&\& !defined(COMPILER\_ICC)}}
\DoxyCodeLine{884 \textcolor{preprocessor}{\# define GTEST\_MUST\_USE\_RESULT\_ \_\_attribute\_\_ ((warn\_unused\_result))}}
\DoxyCodeLine{885 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{886 \textcolor{preprocessor}{\# define GTEST\_MUST\_USE\_RESULT\_}}
\DoxyCodeLine{887 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_GNUC\_\_ \&\& (GTEST\_GCC\_VER\_ >= 30400) \&\& !COMPILER\_ICC}}
\DoxyCodeLine{888 }
\DoxyCodeLine{889 \textcolor{comment}{// MS C++ compiler emits warning when a conditional expression is compile time}}
\DoxyCodeLine{890 \textcolor{comment}{// constant. In some contexts this warning is false positive and needs to be}}
\DoxyCodeLine{891 \textcolor{comment}{// suppressed. Use the following two macros in such cases:}}
\DoxyCodeLine{892 \textcolor{comment}{//}}
\DoxyCodeLine{893 \textcolor{comment}{// GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()}}
\DoxyCodeLine{894 \textcolor{comment}{// while (true) \{}}
\DoxyCodeLine{895 \textcolor{comment}{// GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()}}
\DoxyCodeLine{896 \textcolor{comment}{// \}}}
\DoxyCodeLine{897 \textcolor{preprocessor}{\# define GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_() \(\backslash\)}}
\DoxyCodeLine{898 \textcolor{preprocessor}{    GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4127)}}
\DoxyCodeLine{899 \textcolor{preprocessor}{\# define GTEST\_INTENTIONAL\_CONST\_COND\_POP\_() \(\backslash\)}}
\DoxyCodeLine{900 \textcolor{preprocessor}{    GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}}
\DoxyCodeLine{901 }
\DoxyCodeLine{902 \textcolor{comment}{// Determine whether the compiler supports Microsoft's Structured Exception}}
\DoxyCodeLine{903 \textcolor{comment}{// Handling.  This is supported by several Windows compilers but generally}}
\DoxyCodeLine{904 \textcolor{comment}{// does not exist on any other system.}}
\DoxyCodeLine{905 \textcolor{preprocessor}{\#ifndef GTEST\_HAS\_SEH}}
\DoxyCodeLine{906 \textcolor{comment}{// The user didn't tell us, so we need to figure it out.}}
\DoxyCodeLine{907 }
\DoxyCodeLine{908 \textcolor{preprocessor}{\# if defined(\_MSC\_VER) || defined(\_\_BORLANDC\_\_)}}
\DoxyCodeLine{909 \textcolor{comment}{// These two compilers are known to support SEH.}}
\DoxyCodeLine{910 \textcolor{preprocessor}{\#  define GTEST\_HAS\_SEH 1}}
\DoxyCodeLine{911 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{912 \textcolor{comment}{// Assume no SEH.}}
\DoxyCodeLine{913 \textcolor{preprocessor}{\#  define GTEST\_HAS\_SEH 0}}
\DoxyCodeLine{914 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{915 }
\DoxyCodeLine{916 \textcolor{preprocessor}{\#define GTEST\_IS\_THREADSAFE \(\backslash\)}}
\DoxyCodeLine{917 \textcolor{preprocessor}{    (GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_ \(\backslash\)}}
\DoxyCodeLine{918 \textcolor{preprocessor}{     || (GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_PHONE \&\& !GTEST\_OS\_WINDOWS\_RT) \(\backslash\)}}
\DoxyCodeLine{919 \textcolor{preprocessor}{     || GTEST\_HAS\_PTHREAD)}}
\DoxyCodeLine{920 }
\DoxyCodeLine{921 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_SEH}}
\DoxyCodeLine{922 }
\DoxyCodeLine{923 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{924 \textcolor{preprocessor}{\# if GTEST\_LINKED\_AS\_SHARED\_LIBRARY}}
\DoxyCodeLine{925 \textcolor{preprocessor}{\#  define GTEST\_API\_ \_\_declspec(dllimport)}}
\DoxyCodeLine{926 \textcolor{preprocessor}{\# elif GTEST\_CREATE\_SHARED\_LIBRARY}}
\DoxyCodeLine{927 \textcolor{preprocessor}{\#  define GTEST\_API\_ \_\_declspec(dllexport)}}
\DoxyCodeLine{928 \textcolor{preprocessor}{\# endif}}
\DoxyCodeLine{929 \textcolor{preprocessor}{\#elif \_\_GNUC\_\_ >= 4 || defined(\_\_clang\_\_)}}
\DoxyCodeLine{930 \textcolor{preprocessor}{\# define GTEST\_API\_ \_\_attribute\_\_((visibility ("{}default"{}})))}
\DoxyCodeLine{931 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// \_MSC\_VER}}
\DoxyCodeLine{932 }
\DoxyCodeLine{933 \textcolor{preprocessor}{\#ifndef GTEST\_API\_}}
\DoxyCodeLine{934 \textcolor{preprocessor}{\# define GTEST\_API\_}}
\DoxyCodeLine{935 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{936 }
\DoxyCodeLine{937 \textcolor{preprocessor}{\#ifdef \_\_GNUC\_\_}}
\DoxyCodeLine{938 \textcolor{comment}{// Ask the compiler to never inline a given function.}}
\DoxyCodeLine{939 \textcolor{preprocessor}{\# define GTEST\_NO\_INLINE\_ \_\_attribute\_\_((noinline))}}
\DoxyCodeLine{940 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{941 \textcolor{preprocessor}{\# define GTEST\_NO\_INLINE\_}}
\DoxyCodeLine{942 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{943 }
\DoxyCodeLine{944 \textcolor{comment}{// \_LIBCPP\_VERSION is defined by the libc++ library from the LLVM project.}}
\DoxyCodeLine{945 \textcolor{preprocessor}{\#if defined(\_\_GLIBCXX\_\_) || defined(\_LIBCPP\_VERSION)}}
\DoxyCodeLine{946 \textcolor{preprocessor}{\# define GTEST\_HAS\_CXXABI\_H\_ 1}}
\DoxyCodeLine{947 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{948 \textcolor{preprocessor}{\# define GTEST\_HAS\_CXXABI\_H\_ 0}}
\DoxyCodeLine{949 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{950 }
\DoxyCodeLine{951 \textcolor{comment}{// A function level attribute to disable checking for use of uninitialized}}
\DoxyCodeLine{952 \textcolor{comment}{// memory when built with MemorySanitizer.}}
\DoxyCodeLine{953 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{954 \textcolor{preprocessor}{\# if \_\_has\_feature(memory\_sanitizer)}}
\DoxyCodeLine{955 \textcolor{preprocessor}{\#  define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_ \(\backslash\)}}
\DoxyCodeLine{956 \textcolor{preprocessor}{       \_\_attribute\_\_((no\_sanitize\_memory))}}
\DoxyCodeLine{957 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{958 \textcolor{preprocessor}{\#  define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}}
\DoxyCodeLine{959 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// \_\_has\_feature(memory\_sanitizer)}}
\DoxyCodeLine{960 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{961 \textcolor{preprocessor}{\# define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY\_}}
\DoxyCodeLine{962 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_clang\_\_}}
\DoxyCodeLine{963 }
\DoxyCodeLine{964 \textcolor{comment}{// A function level attribute to disable AddressSanitizer instrumentation.}}
\DoxyCodeLine{965 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{966 \textcolor{preprocessor}{\# if \_\_has\_feature(address\_sanitizer)}}
\DoxyCodeLine{967 \textcolor{preprocessor}{\#  define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_ \(\backslash\)}}
\DoxyCodeLine{968 \textcolor{preprocessor}{       \_\_attribute\_\_((no\_sanitize\_address))}}
\DoxyCodeLine{969 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{970 \textcolor{preprocessor}{\#  define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}}
\DoxyCodeLine{971 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// \_\_has\_feature(address\_sanitizer)}}
\DoxyCodeLine{972 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{973 \textcolor{preprocessor}{\# define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\_}}
\DoxyCodeLine{974 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_clang\_\_}}
\DoxyCodeLine{975 }
\DoxyCodeLine{976 \textcolor{comment}{// A function level attribute to disable ThreadSanitizer instrumentation.}}
\DoxyCodeLine{977 \textcolor{preprocessor}{\#if defined(\_\_clang\_\_)}}
\DoxyCodeLine{978 \textcolor{preprocessor}{\# if \_\_has\_feature(thread\_sanitizer)}}
\DoxyCodeLine{979 \textcolor{preprocessor}{\#  define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_ \(\backslash\)}}
\DoxyCodeLine{980 \textcolor{preprocessor}{       \_\_attribute\_\_((no\_sanitize\_thread))}}
\DoxyCodeLine{981 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{982 \textcolor{preprocessor}{\#  define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}}
\DoxyCodeLine{983 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// \_\_has\_feature(thread\_sanitizer)}}
\DoxyCodeLine{984 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{985 \textcolor{preprocessor}{\# define GTEST\_ATTRIBUTE\_NO\_SANITIZE\_THREAD\_}}
\DoxyCodeLine{986 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// \_\_clang\_\_}}
\DoxyCodeLine{987 }
\DoxyCodeLine{988 \textcolor{keyword}{namespace }testing \{}
\DoxyCodeLine{989 }
\DoxyCodeLine{990 \textcolor{keyword}{class }Message;}
\DoxyCodeLine{991 }
\DoxyCodeLine{992 \textcolor{preprocessor}{\#if defined(GTEST\_TUPLE\_NAMESPACE\_)}}
\DoxyCodeLine{993 \textcolor{comment}{// Import tuple and friends into the ::testing namespace.}}
\DoxyCodeLine{994 \textcolor{comment}{// It is part of our interface, having them in ::testing allows us to change}}
\DoxyCodeLine{995 \textcolor{comment}{// their types as needed.}}
\DoxyCodeLine{996 \textcolor{keyword}{using} GTEST\_TUPLE\_NAMESPACE\_::get;}
\DoxyCodeLine{997 \textcolor{keyword}{using} GTEST\_TUPLE\_NAMESPACE\_::make\_tuple;}
\DoxyCodeLine{998 \textcolor{keyword}{using} GTEST\_TUPLE\_NAMESPACE\_::tuple;}
\DoxyCodeLine{999 \textcolor{keyword}{using} GTEST\_TUPLE\_NAMESPACE\_::tuple\_size;}
\DoxyCodeLine{1000 \textcolor{keyword}{using} GTEST\_TUPLE\_NAMESPACE\_::tuple\_element;}
\DoxyCodeLine{1001 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// defined(GTEST\_TUPLE\_NAMESPACE\_)}}
\DoxyCodeLine{1002 }
\DoxyCodeLine{1003 \textcolor{keyword}{namespace }internal \{}
\DoxyCodeLine{1004 }
\DoxyCodeLine{1005 \textcolor{comment}{// A secret type that Google Test users don't know about.  It has no}}
\DoxyCodeLine{1006 \textcolor{comment}{// definition on purpose.  Therefore it's impossible to create a}}
\DoxyCodeLine{1007 \textcolor{comment}{// Secret object, which is what we want.}}
\DoxyCodeLine{1008 \textcolor{keyword}{class }Secret;}
\DoxyCodeLine{1009 }
\DoxyCodeLine{1010 \textcolor{comment}{// The GTEST\_COMPILE\_ASSERT\_ macro can be used to verify that a compile time}}
\DoxyCodeLine{1011 \textcolor{comment}{// expression is true. For example, you could use it to verify the}}
\DoxyCodeLine{1012 \textcolor{comment}{// size of a static array:}}
\DoxyCodeLine{1013 \textcolor{comment}{//}}
\DoxyCodeLine{1014 \textcolor{comment}{//   GTEST\_COMPILE\_ASSERT\_(GTEST\_ARRAY\_SIZE\_(names) == NUM\_NAMES,}}
\DoxyCodeLine{1015 \textcolor{comment}{//                         names\_incorrect\_size);}}
\DoxyCodeLine{1016 \textcolor{comment}{//}}
\DoxyCodeLine{1017 \textcolor{comment}{// or to make sure a struct is smaller than a certain size:}}
\DoxyCodeLine{1018 \textcolor{comment}{//}}
\DoxyCodeLine{1019 \textcolor{comment}{//   GTEST\_COMPILE\_ASSERT\_(sizeof(foo) < 128, foo\_too\_large);}}
\DoxyCodeLine{1020 \textcolor{comment}{//}}
\DoxyCodeLine{1021 \textcolor{comment}{// The second argument to the macro is the name of the variable. If}}
\DoxyCodeLine{1022 \textcolor{comment}{// the expression is false, most compilers will issue a warning/error}}
\DoxyCodeLine{1023 \textcolor{comment}{// containing the name of the variable.}}
\DoxyCodeLine{1024 }
\DoxyCodeLine{1025 \textcolor{preprocessor}{\#if GTEST\_LANG\_CXX11}}
\DoxyCodeLine{1026 \textcolor{preprocessor}{\# define GTEST\_COMPILE\_ASSERT\_(expr, msg) static\_assert(expr, \#msg)}}
\DoxyCodeLine{1027 \textcolor{preprocessor}{\#else  }\textcolor{comment}{// !GTEST\_LANG\_CXX11}}
\DoxyCodeLine{1028 \textcolor{keyword}{template} <\textcolor{keywordtype}{bool}>}
\DoxyCodeLine{1029   \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1_compile_assert}{CompileAssert}} \{}
\DoxyCodeLine{1030 \};}
\DoxyCodeLine{1031 }
\DoxyCodeLine{1032 \textcolor{preprocessor}{\# define GTEST\_COMPILE\_ASSERT\_(expr, msg) \(\backslash\)}}
\DoxyCodeLine{1033 \textcolor{preprocessor}{  typedef ::testing::internal::CompileAssert<(static\_cast<bool>(expr))> \(\backslash\)}}
\DoxyCodeLine{1034 \textcolor{preprocessor}{      msg[static\_cast<bool>(expr) ? 1 : -\/1] GTEST\_ATTRIBUTE\_UNUSED\_}}
\DoxyCodeLine{1035 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !GTEST\_LANG\_CXX11}}
\DoxyCodeLine{1036 }
\DoxyCodeLine{1037 \textcolor{comment}{// Implementation details of GTEST\_COMPILE\_ASSERT\_:}}
\DoxyCodeLine{1038 \textcolor{comment}{//}}
\DoxyCodeLine{1039 \textcolor{comment}{// (In C++11, we simply use static\_assert instead of the following)}}
\DoxyCodeLine{1040 \textcolor{comment}{//}}
\DoxyCodeLine{1041 \textcolor{comment}{// -\/ GTEST\_COMPILE\_ASSERT\_ works by defining an array type that has -\/1}}
\DoxyCodeLine{1042 \textcolor{comment}{//   elements (and thus is invalid) when the expression is false.}}
\DoxyCodeLine{1043 \textcolor{comment}{//}}
\DoxyCodeLine{1044 \textcolor{comment}{// -\/ The simpler definition}}
\DoxyCodeLine{1045 \textcolor{comment}{//}}
\DoxyCodeLine{1046 \textcolor{comment}{//    \#define GTEST\_COMPILE\_ASSERT\_(expr, msg) typedef char msg[(expr) ? 1 : -\/1]}}
\DoxyCodeLine{1047 \textcolor{comment}{//}}
\DoxyCodeLine{1048 \textcolor{comment}{//   does not work, as gcc supports variable-\/length arrays whose sizes}}
\DoxyCodeLine{1049 \textcolor{comment}{//   are determined at run-\/time (this is gcc's extension and not part}}
\DoxyCodeLine{1050 \textcolor{comment}{//   of the C++ standard).  As a result, gcc fails to reject the}}
\DoxyCodeLine{1051 \textcolor{comment}{//   following code with the simple definition:}}
\DoxyCodeLine{1052 \textcolor{comment}{//}}
\DoxyCodeLine{1053 \textcolor{comment}{//     int foo;}}
\DoxyCodeLine{1054 \textcolor{comment}{//     GTEST\_COMPILE\_ASSERT\_(foo, msg); // not supposed to compile as foo is}}
\DoxyCodeLine{1055 \textcolor{comment}{//                                      // not a compile-\/time constant.}}
\DoxyCodeLine{1056 \textcolor{comment}{//}}
\DoxyCodeLine{1057 \textcolor{comment}{// -\/ By using the type CompileAssert<(bool(expr))>, we ensures that}}
\DoxyCodeLine{1058 \textcolor{comment}{//   expr is a compile-\/time constant.  (Template arguments must be}}
\DoxyCodeLine{1059 \textcolor{comment}{//   determined at compile-\/time.)}}
\DoxyCodeLine{1060 \textcolor{comment}{//}}
\DoxyCodeLine{1061 \textcolor{comment}{// -\/ The outter parentheses in CompileAssert<(bool(expr))> are necessary}}
\DoxyCodeLine{1062 \textcolor{comment}{//   to work around a bug in gcc 3.4.4 and 4.0.1.  If we had written}}
\DoxyCodeLine{1063 \textcolor{comment}{//}}
\DoxyCodeLine{1064 \textcolor{comment}{//     CompileAssert<bool(expr)>}}
\DoxyCodeLine{1065 \textcolor{comment}{//}}
\DoxyCodeLine{1066 \textcolor{comment}{//   instead, these compilers will refuse to compile}}
\DoxyCodeLine{1067 \textcolor{comment}{//}}
\DoxyCodeLine{1068 \textcolor{comment}{//     GTEST\_COMPILE\_ASSERT\_(5 > 0, some\_message);}}
\DoxyCodeLine{1069 \textcolor{comment}{//}}
\DoxyCodeLine{1070 \textcolor{comment}{//   (They seem to think the "{}>"{} in "{}5 > 0"{} marks the end of the}}
\DoxyCodeLine{1071 \textcolor{comment}{//   template argument list.)}}
\DoxyCodeLine{1072 \textcolor{comment}{//}}
\DoxyCodeLine{1073 \textcolor{comment}{// -\/ The array size is (bool(expr) ? 1 : -\/1), instead of simply}}
\DoxyCodeLine{1074 \textcolor{comment}{//}}
\DoxyCodeLine{1075 \textcolor{comment}{//     ((expr) ? 1 : -\/1).}}
\DoxyCodeLine{1076 \textcolor{comment}{//}}
\DoxyCodeLine{1077 \textcolor{comment}{//   This is to avoid running into a bug in MS VC 7.1, which}}
\DoxyCodeLine{1078 \textcolor{comment}{//   causes ((0.0) ? 1 : -\/1) to incorrectly evaluate to 1.}}
\DoxyCodeLine{1079 }
\DoxyCodeLine{1080 \textcolor{comment}{// StaticAssertTypeEqHelper is used by StaticAssertTypeEq defined in gtest.h.}}
\DoxyCodeLine{1081 \textcolor{comment}{//}}
\DoxyCodeLine{1082 \textcolor{comment}{// This template is declared, but intentionally undefined.}}
\DoxyCodeLine{1083 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T1, \textcolor{keyword}{typename} T2>}
\DoxyCodeLine{1084 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1_static_assert_type_eq_helper}{StaticAssertTypeEqHelper}};}
\DoxyCodeLine{1085 }
\DoxyCodeLine{1086 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1087 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1_static_assert_type_eq_helper}{StaticAssertTypeEqHelper}}<T, T> \{}
\DoxyCodeLine{1088   \textcolor{keyword}{enum} \{ value = \textcolor{keyword}{true} \};}
\DoxyCodeLine{1089 \};}
\DoxyCodeLine{1090 }
\DoxyCodeLine{1091 \textcolor{comment}{// Evaluates to the number of elements in 'array'.}}
\DoxyCodeLine{1092 \textcolor{preprocessor}{\#define GTEST\_ARRAY\_SIZE\_(array) (sizeof(array) / sizeof(array[0]))}}
\DoxyCodeLine{1093 }
\DoxyCodeLine{1094 \textcolor{preprocessor}{\#if GTEST\_HAS\_GLOBAL\_STRING}}
\DoxyCodeLine{1095 \textcolor{keyword}{typedef} ::string string;}
\DoxyCodeLine{1096 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1097 \textcolor{keyword}{typedef} ::std::string string;}
\DoxyCodeLine{1098 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_GLOBAL\_STRING}}
\DoxyCodeLine{1099 }
\DoxyCodeLine{1100 \textcolor{preprocessor}{\#if GTEST\_HAS\_GLOBAL\_WSTRING}}
\DoxyCodeLine{1101 \textcolor{keyword}{typedef} ::wstring wstring;}
\DoxyCodeLine{1102 \textcolor{preprocessor}{\#elif GTEST\_HAS\_STD\_WSTRING}}
\DoxyCodeLine{1103 \textcolor{keyword}{typedef} ::std::wstring wstring;}
\DoxyCodeLine{1104 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_GLOBAL\_WSTRING}}
\DoxyCodeLine{1105 }
\DoxyCodeLine{1106 \textcolor{comment}{// A helper for suppressing warnings on constant condition.  It just}}
\DoxyCodeLine{1107 \textcolor{comment}{// returns 'condition'.}}
\DoxyCodeLine{1108 GTEST\_API\_ \textcolor{keywordtype}{bool} IsTrue(\textcolor{keywordtype}{bool} condition);}
\DoxyCodeLine{1109 }
\DoxyCodeLine{1110 \textcolor{comment}{// Defines scoped\_ptr.}}
\DoxyCodeLine{1111 }
\DoxyCodeLine{1112 \textcolor{comment}{// This implementation of scoped\_ptr is PARTIAL -\/ it only contains}}
\DoxyCodeLine{1113 \textcolor{comment}{// enough stuff to satisfy Google Test's need.}}
\DoxyCodeLine{1114 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1115 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1scoped__ptr}{scoped\_ptr}} \{}
\DoxyCodeLine{1116  \textcolor{keyword}{public}:}
\DoxyCodeLine{1117   \textcolor{keyword}{typedef} T element\_type;}
\DoxyCodeLine{1118 }
\DoxyCodeLine{1119   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1scoped__ptr}{scoped\_ptr}}(T* p = NULL) : ptr\_(p) \{\}}
\DoxyCodeLine{1120   \mbox{\hyperlink{classtesting_1_1internal_1_1scoped__ptr}{\string~scoped\_ptr}}() \{ reset(); \}}
\DoxyCodeLine{1121 }
\DoxyCodeLine{1122   T\& operator*()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *ptr\_; \}}
\DoxyCodeLine{1123   T* operator-\/>()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} ptr\_; \}}
\DoxyCodeLine{1124   T* get()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} ptr\_; \}}
\DoxyCodeLine{1125 }
\DoxyCodeLine{1126   T* release() \{}
\DoxyCodeLine{1127     T* \textcolor{keyword}{const} ptr = ptr\_;}
\DoxyCodeLine{1128     ptr\_ = NULL;}
\DoxyCodeLine{1129     \textcolor{keywordflow}{return} ptr;}
\DoxyCodeLine{1130   \}}
\DoxyCodeLine{1131 }
\DoxyCodeLine{1132   \textcolor{keywordtype}{void} reset(T* p = NULL) \{}
\DoxyCodeLine{1133     \textcolor{keywordflow}{if} (p != ptr\_) \{}
\DoxyCodeLine{1134       \textcolor{keywordflow}{if} (IsTrue(\textcolor{keyword}{sizeof}(T) > 0)) \{  \textcolor{comment}{// Makes sure T is a complete type.}}
\DoxyCodeLine{1135         \textcolor{keyword}{delete} ptr\_;}
\DoxyCodeLine{1136       \}}
\DoxyCodeLine{1137       ptr\_ = p;}
\DoxyCodeLine{1138     \}}
\DoxyCodeLine{1139   \}}
\DoxyCodeLine{1140 }
\DoxyCodeLine{1141   \textcolor{keyword}{friend} \textcolor{keywordtype}{void} swap(\mbox{\hyperlink{classtesting_1_1internal_1_1scoped__ptr}{scoped\_ptr}}\& a, \mbox{\hyperlink{classtesting_1_1internal_1_1scoped__ptr}{scoped\_ptr}}\& b) \{}
\DoxyCodeLine{1142     \textcolor{keyword}{using} std::swap;}
\DoxyCodeLine{1143     swap(a.ptr\_, b.ptr\_);}
\DoxyCodeLine{1144   \}}
\DoxyCodeLine{1145 }
\DoxyCodeLine{1146  \textcolor{keyword}{private}:}
\DoxyCodeLine{1147   T* ptr\_;}
\DoxyCodeLine{1148 }
\DoxyCodeLine{1149   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(\mbox{\hyperlink{classtesting_1_1internal_1_1scoped__ptr}{scoped\_ptr}});}
\DoxyCodeLine{1150 \};}
\DoxyCodeLine{1151 }
\DoxyCodeLine{1152 \textcolor{comment}{// Defines RE.}}
\DoxyCodeLine{1153 }
\DoxyCodeLine{1154 \textcolor{comment}{// A simple C++ wrapper for <regex.h>.  It uses the POSIX Extended}}
\DoxyCodeLine{1155 \textcolor{comment}{// Regular Expression syntax.}}
\DoxyCodeLine{1156 \textcolor{keyword}{class }GTEST\_API\_ \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}} \{}
\DoxyCodeLine{1157  \textcolor{keyword}{public}:}
\DoxyCodeLine{1158   \textcolor{comment}{// A copy constructor is required by the Standard to initialize object}}
\DoxyCodeLine{1159   \textcolor{comment}{// references from r-\/values.}}
\DoxyCodeLine{1160   \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\& other) \{ Init(other.pattern()); \}}
\DoxyCodeLine{1161 }
\DoxyCodeLine{1162   \textcolor{comment}{// Constructs an RE from a string.}}
\DoxyCodeLine{1163   \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}(const ::std::string\& regex) \{ Init(regex.c\_str()); \}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1164 }
\DoxyCodeLine{1165 \textcolor{preprocessor}{\#if GTEST\_HAS\_GLOBAL\_STRING}}
\DoxyCodeLine{1166 }
\DoxyCodeLine{1167   \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}(const ::string\& regex) \{ Init(regex.c\_str()); \}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1168 }
\DoxyCodeLine{1169 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_GLOBAL\_STRING}}
\DoxyCodeLine{1170 }
\DoxyCodeLine{1171   \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex) \{ Init(regex); \}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1172   \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{\string~RE}}();}
\DoxyCodeLine{1173 }
\DoxyCodeLine{1174   \textcolor{comment}{// Returns the string representation of the regex.}}
\DoxyCodeLine{1175   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* pattern()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} pattern\_; \}}
\DoxyCodeLine{1176 }
\DoxyCodeLine{1177   \textcolor{comment}{// FullMatch(str, re) returns true iff regular expression re matches}}
\DoxyCodeLine{1178   \textcolor{comment}{// the entire str.}}
\DoxyCodeLine{1179   \textcolor{comment}{// PartialMatch(str, re) returns true iff regular expression re}}
\DoxyCodeLine{1180   \textcolor{comment}{// matches a substring of str (including str itself).}}
\DoxyCodeLine{1181   \textcolor{comment}{//}}
\DoxyCodeLine{1182   \textcolor{comment}{// TODO(wan@google.com): make FullMatch() and PartialMatch() work}}
\DoxyCodeLine{1183   \textcolor{comment}{// when str contains NUL characters.}}
\DoxyCodeLine{1184   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} FullMatch(const ::std::string\& str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\& re) \{}
\DoxyCodeLine{1185     \textcolor{keywordflow}{return} FullMatch(str.c\_str(), re);}
\DoxyCodeLine{1186   \}}
\DoxyCodeLine{1187   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} PartialMatch(const ::std::string\& str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\& re) \{}
\DoxyCodeLine{1188     \textcolor{keywordflow}{return} PartialMatch(str.c\_str(), re);}
\DoxyCodeLine{1189   \}}
\DoxyCodeLine{1190 }
\DoxyCodeLine{1191 \textcolor{preprocessor}{\#if GTEST\_HAS\_GLOBAL\_STRING}}
\DoxyCodeLine{1192 }
\DoxyCodeLine{1193   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} FullMatch(const ::string\& str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\& re) \{}
\DoxyCodeLine{1194     \textcolor{keywordflow}{return} FullMatch(str.c\_str(), re);}
\DoxyCodeLine{1195   \}}
\DoxyCodeLine{1196   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} PartialMatch(const ::string\& str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\& re) \{}
\DoxyCodeLine{1197     \textcolor{keywordflow}{return} PartialMatch(str.c\_str(), re);}
\DoxyCodeLine{1198   \}}
\DoxyCodeLine{1199 }
\DoxyCodeLine{1200 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_GLOBAL\_STRING}}
\DoxyCodeLine{1201 }
\DoxyCodeLine{1202   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} FullMatch(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\& re);}
\DoxyCodeLine{1203   \textcolor{keyword}{static} \textcolor{keywordtype}{bool} PartialMatch(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* str, \textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}}\& re);}
\DoxyCodeLine{1204 }
\DoxyCodeLine{1205  \textcolor{keyword}{private}:}
\DoxyCodeLine{1206   \textcolor{keywordtype}{void} Init(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* regex);}
\DoxyCodeLine{1207 }
\DoxyCodeLine{1208   \textcolor{comment}{// We use a const char* instead of an std::string, as Google Test used to be}}
\DoxyCodeLine{1209   \textcolor{comment}{// used where std::string is not available.  TODO(wan@google.com): change to}}
\DoxyCodeLine{1210   \textcolor{comment}{// std::string.}}
\DoxyCodeLine{1211   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* pattern\_;}
\DoxyCodeLine{1212   \textcolor{keywordtype}{bool} is\_valid\_;}
\DoxyCodeLine{1213 }
\DoxyCodeLine{1214 \textcolor{preprocessor}{\#if GTEST\_USES\_POSIX\_RE}}
\DoxyCodeLine{1215 }
\DoxyCodeLine{1216   regex\_t full\_regex\_;     \textcolor{comment}{// For FullMatch().}}
\DoxyCodeLine{1217   regex\_t partial\_regex\_;  \textcolor{comment}{// For PartialMatch().}}
\DoxyCodeLine{1218 }
\DoxyCodeLine{1219 \textcolor{preprocessor}{\#else  }\textcolor{comment}{// GTEST\_USES\_SIMPLE\_RE}}
\DoxyCodeLine{1220 }
\DoxyCodeLine{1221   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* full\_pattern\_;  \textcolor{comment}{// For FullMatch();}}
\DoxyCodeLine{1222 }
\DoxyCodeLine{1223 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1224 }
\DoxyCodeLine{1225   GTEST\_DISALLOW\_ASSIGN\_(\mbox{\hyperlink{classtesting_1_1internal_1_1_r_e}{RE}});}
\DoxyCodeLine{1226 \};}
\DoxyCodeLine{1227 }
\DoxyCodeLine{1228 \textcolor{comment}{// Formats a source file path and a line number as they would appear}}
\DoxyCodeLine{1229 \textcolor{comment}{// in an error message from the compiler used to compile this code.}}
\DoxyCodeLine{1230 GTEST\_API\_ ::std::string FormatFileLocation(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* file, \textcolor{keywordtype}{int} line);}
\DoxyCodeLine{1231 }
\DoxyCodeLine{1232 \textcolor{comment}{// Formats a file location for compiler-\/independent XML output.}}
\DoxyCodeLine{1233 \textcolor{comment}{// Although this function is not platform dependent, we put it next to}}
\DoxyCodeLine{1234 \textcolor{comment}{// FormatFileLocation in order to contrast the two functions.}}
\DoxyCodeLine{1235 GTEST\_API\_ ::std::string FormatCompilerIndependentFileLocation(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* file,}
\DoxyCodeLine{1236                                                                \textcolor{keywordtype}{int} line);}
\DoxyCodeLine{1237 }
\DoxyCodeLine{1238 \textcolor{comment}{// Defines logging utilities:}}
\DoxyCodeLine{1239 \textcolor{comment}{//   GTEST\_LOG\_(severity) -\/ logs messages at the specified severity level. The}}
\DoxyCodeLine{1240 \textcolor{comment}{//                          message itself is streamed into the macro.}}
\DoxyCodeLine{1241 \textcolor{comment}{//   LogToStderr()  -\/ directs all log messages to stderr.}}
\DoxyCodeLine{1242 \textcolor{comment}{//   FlushInfoLog() -\/ flushes informational log messages.}}
\DoxyCodeLine{1243 }
\DoxyCodeLine{1244 \textcolor{keyword}{enum} GTestLogSeverity \{}
\DoxyCodeLine{1245   GTEST\_INFO,}
\DoxyCodeLine{1246   GTEST\_WARNING,}
\DoxyCodeLine{1247   GTEST\_ERROR,}
\DoxyCodeLine{1248   GTEST\_FATAL}
\DoxyCodeLine{1249 \};}
\DoxyCodeLine{1250 }
\DoxyCodeLine{1251 \textcolor{comment}{// Formats log entry severity, provides a stream object for streaming the}}
\DoxyCodeLine{1252 \textcolor{comment}{// log message, and terminates the message with a newline when going out of}}
\DoxyCodeLine{1253 \textcolor{comment}{// scope.}}
\DoxyCodeLine{1254 \textcolor{keyword}{class }GTEST\_API\_ \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_log}{GTestLog}} \{}
\DoxyCodeLine{1255  \textcolor{keyword}{public}:}
\DoxyCodeLine{1256   \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_log}{GTestLog}}(GTestLogSeverity severity, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* file, \textcolor{keywordtype}{int} line);}
\DoxyCodeLine{1257 }
\DoxyCodeLine{1258   \textcolor{comment}{// Flushes the buffers and, if severity is GTEST\_FATAL, aborts the program.}}
\DoxyCodeLine{1259   \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_log}{\string~GTestLog}}();}
\DoxyCodeLine{1260 }
\DoxyCodeLine{1261   ::std::ostream\& GetStream() \{ return ::std::cerr; \}}
\DoxyCodeLine{1262 }
\DoxyCodeLine{1263  \textcolor{keyword}{private}:}
\DoxyCodeLine{1264   \textcolor{keyword}{const} GTestLogSeverity severity\_;}
\DoxyCodeLine{1265 }
\DoxyCodeLine{1266   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(\mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_log}{GTestLog}});}
\DoxyCodeLine{1267 \};}
\DoxyCodeLine{1268 }
\DoxyCodeLine{1269 \textcolor{preprocessor}{\#if !defined(GTEST\_LOG\_)}}
\DoxyCodeLine{1270 }
\DoxyCodeLine{1271 \textcolor{preprocessor}{\# define GTEST\_LOG\_(severity) \(\backslash\)}}
\DoxyCodeLine{1272 \textcolor{preprocessor}{    ::testing::internal::GTestLog(::testing::internal::GTEST\_\#\#severity, \(\backslash\)}}
\DoxyCodeLine{1273 \textcolor{preprocessor}{                                  \_\_FILE\_\_, \_\_LINE\_\_).GetStream()}}
\DoxyCodeLine{1274 }
\DoxyCodeLine{1275 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} LogToStderr() \{\}}
\DoxyCodeLine{1276 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} FlushInfoLog() \{ fflush(NULL); \}}
\DoxyCodeLine{1277 }
\DoxyCodeLine{1278 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_LOG\_)}}
\DoxyCodeLine{1279 }
\DoxyCodeLine{1280 \textcolor{preprocessor}{\#if !defined(GTEST\_CHECK\_)}}
\DoxyCodeLine{1281 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE.}}
\DoxyCodeLine{1282 \textcolor{comment}{//}}
\DoxyCodeLine{1283 \textcolor{comment}{// GTEST\_CHECK\_ is an all-\/mode assert. It aborts the program if the condition}}
\DoxyCodeLine{1284 \textcolor{comment}{// is not satisfied.}}
\DoxyCodeLine{1285 \textcolor{comment}{//  Synopsys:}}
\DoxyCodeLine{1286 \textcolor{comment}{//    GTEST\_CHECK\_(boolean\_condition);}}
\DoxyCodeLine{1287 \textcolor{comment}{//     or}}
\DoxyCodeLine{1288 \textcolor{comment}{//    GTEST\_CHECK\_(boolean\_condition) << "{}Additional message"{};}}
\DoxyCodeLine{1289 \textcolor{comment}{//}}
\DoxyCodeLine{1290 \textcolor{comment}{//    This checks the condition and if the condition is not satisfied}}
\DoxyCodeLine{1291 \textcolor{comment}{//    it prints message about the condition violation, including the}}
\DoxyCodeLine{1292 \textcolor{comment}{//    condition itself, plus additional message streamed into it, if any,}}
\DoxyCodeLine{1293 \textcolor{comment}{//    and then it aborts the program. It aborts the program irrespective of}}
\DoxyCodeLine{1294 \textcolor{comment}{//    whether it is built in the debug mode or not.}}
\DoxyCodeLine{1295 \textcolor{preprocessor}{\# define GTEST\_CHECK\_(condition) \(\backslash\)}}
\DoxyCodeLine{1296 \textcolor{preprocessor}{    GTEST\_AMBIGUOUS\_ELSE\_BLOCKER\_ \(\backslash\)}}
\DoxyCodeLine{1297 \textcolor{preprocessor}{    if (::testing::internal::IsTrue(condition)) \(\backslash\)}}
\DoxyCodeLine{1298 \textcolor{preprocessor}{      ; \(\backslash\)}}
\DoxyCodeLine{1299 \textcolor{preprocessor}{    else \(\backslash\)}}
\DoxyCodeLine{1300 \textcolor{preprocessor}{      GTEST\_LOG\_(FATAL) << "{}Condition "{}} \#condition "{} failed. "{}}
\DoxyCodeLine{1301 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_CHECK\_)}}
\DoxyCodeLine{1302 }
\DoxyCodeLine{1303 \textcolor{comment}{// An all-\/mode assert to verify that the given POSIX-\/style function}}
\DoxyCodeLine{1304 \textcolor{comment}{// call returns 0 (indicating success).  Known limitation: this}}
\DoxyCodeLine{1305 \textcolor{comment}{// doesn't expand to a balanced 'if' statement, so enclose the macro}}
\DoxyCodeLine{1306 \textcolor{comment}{// in \{\} if you need to use it as the only statement in an 'if'}}
\DoxyCodeLine{1307 \textcolor{comment}{// branch.}}
\DoxyCodeLine{1308 \textcolor{preprocessor}{\#define GTEST\_CHECK\_POSIX\_SUCCESS\_(posix\_call) \(\backslash\)}}
\DoxyCodeLine{1309 \textcolor{preprocessor}{  if (const int gtest\_error = (posix\_call)) \(\backslash\)}}
\DoxyCodeLine{1310 \textcolor{preprocessor}{    GTEST\_LOG\_(FATAL) << \#posix\_call << "{}failed with error "{}} \(\backslash\)}
\DoxyCodeLine{1311                       << gtest\_error}
\DoxyCodeLine{1312 }
\DoxyCodeLine{1313 \textcolor{preprocessor}{\#if GTEST\_HAS\_STD\_MOVE\_}}
\DoxyCodeLine{1314 \textcolor{keyword}{using} std::move;}
\DoxyCodeLine{1315 \textcolor{preprocessor}{\#else  }\textcolor{comment}{// GTEST\_HAS\_STD\_MOVE\_}}
\DoxyCodeLine{1316 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1317 \textcolor{keyword}{const} T\& move(\textcolor{keyword}{const} T\& t) \{}
\DoxyCodeLine{1318   \textcolor{keywordflow}{return} t;}
\DoxyCodeLine{1319 \}}
\DoxyCodeLine{1320 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_STD\_MOVE\_}}
\DoxyCodeLine{1321 }
\DoxyCodeLine{1322 \textcolor{comment}{// INTERNAL IMPLEMENTATION -\/ DO NOT USE IN USER CODE.}}
\DoxyCodeLine{1323 \textcolor{comment}{//}}
\DoxyCodeLine{1324 \textcolor{comment}{// Use ImplicitCast\_ as a safe version of static\_cast for upcasting in}}
\DoxyCodeLine{1325 \textcolor{comment}{// the type hierarchy (e.g. casting a Foo* to a SuperclassOfFoo* or a}}
\DoxyCodeLine{1326 \textcolor{comment}{// const Foo*).  When you use ImplicitCast\_, the compiler checks that}}
\DoxyCodeLine{1327 \textcolor{comment}{// the cast is safe.  Such explicit ImplicitCast\_s are necessary in}}
\DoxyCodeLine{1328 \textcolor{comment}{// surprisingly many situations where C++ demands an exact type match}}
\DoxyCodeLine{1329 \textcolor{comment}{// instead of an argument type convertable to a target type.}}
\DoxyCodeLine{1330 \textcolor{comment}{//}}
\DoxyCodeLine{1331 \textcolor{comment}{// The syntax for using ImplicitCast\_ is the same as for static\_cast:}}
\DoxyCodeLine{1332 \textcolor{comment}{//}}
\DoxyCodeLine{1333 \textcolor{comment}{//   ImplicitCast\_<ToType>(expr)}}
\DoxyCodeLine{1334 \textcolor{comment}{//}}
\DoxyCodeLine{1335 \textcolor{comment}{// ImplicitCast\_ would have been part of the C++ standard library,}}
\DoxyCodeLine{1336 \textcolor{comment}{// but the proposal was submitted too late.  It will probably make}}
\DoxyCodeLine{1337 \textcolor{comment}{// its way into the language in the future.}}
\DoxyCodeLine{1338 \textcolor{comment}{//}}
\DoxyCodeLine{1339 \textcolor{comment}{// This relatively ugly name is intentional. It prevents clashes with}}
\DoxyCodeLine{1340 \textcolor{comment}{// similar functions users may have (e.g., implicit\_cast). The internal}}
\DoxyCodeLine{1341 \textcolor{comment}{// namespace alone is not enough because the function can be found by ADL.}}
\DoxyCodeLine{1342 \textcolor{keyword}{template}<\textcolor{keyword}{typename} To>}
\DoxyCodeLine{1343 \textcolor{keyword}{inline} To ImplicitCast\_(To x) \{ \textcolor{keywordflow}{return} x; \}}
\DoxyCodeLine{1344 }
\DoxyCodeLine{1345 \textcolor{comment}{// When you upcast (that is, cast a pointer from type Foo to type}}
\DoxyCodeLine{1346 \textcolor{comment}{// SuperclassOfFoo), it's fine to use ImplicitCast\_<>, since upcasts}}
\DoxyCodeLine{1347 \textcolor{comment}{// always succeed.  When you downcast (that is, cast a pointer from}}
\DoxyCodeLine{1348 \textcolor{comment}{// type Foo to type SubclassOfFoo), static\_cast<> isn't safe, because}}
\DoxyCodeLine{1349 \textcolor{comment}{// how do you know the pointer is really of type SubclassOfFoo?  It}}
\DoxyCodeLine{1350 \textcolor{comment}{// could be a bare Foo, or of type DifferentSubclassOfFoo.  Thus,}}
\DoxyCodeLine{1351 \textcolor{comment}{// when you downcast, you should use this macro.  In debug mode, we}}
\DoxyCodeLine{1352 \textcolor{comment}{// use dynamic\_cast<> to double-\/check the downcast is legal (we die}}
\DoxyCodeLine{1353 \textcolor{comment}{// if it's not).  In normal mode, we do the efficient static\_cast<>}}
\DoxyCodeLine{1354 \textcolor{comment}{// instead.  Thus, it's important to test in debug mode to make sure}}
\DoxyCodeLine{1355 \textcolor{comment}{// the cast is legal!}}
\DoxyCodeLine{1356 \textcolor{comment}{//    This is the only place in the code we should use dynamic\_cast<>.}}
\DoxyCodeLine{1357 \textcolor{comment}{// In particular, you SHOULDN'T be using dynamic\_cast<> in order to}}
\DoxyCodeLine{1358 \textcolor{comment}{// do RTTI (eg code like this:}}
\DoxyCodeLine{1359 \textcolor{comment}{//    if (dynamic\_cast<Subclass1>(foo)) HandleASubclass1Object(foo);}}
\DoxyCodeLine{1360 \textcolor{comment}{//    if (dynamic\_cast<Subclass2>(foo)) HandleASubclass2Object(foo);}}
\DoxyCodeLine{1361 \textcolor{comment}{// You should design the code some other way not to need this.}}
\DoxyCodeLine{1362 \textcolor{comment}{//}}
\DoxyCodeLine{1363 \textcolor{comment}{// This relatively ugly name is intentional. It prevents clashes with}}
\DoxyCodeLine{1364 \textcolor{comment}{// similar functions users may have (e.g., down\_cast). The internal}}
\DoxyCodeLine{1365 \textcolor{comment}{// namespace alone is not enough because the function can be found by ADL.}}
\DoxyCodeLine{1366 \textcolor{keyword}{template}<\textcolor{keyword}{typename} To, \textcolor{keyword}{typename} From>  \textcolor{comment}{// use like this: DownCast\_<T*>(foo);}}
\DoxyCodeLine{1367 \textcolor{keyword}{inline} To DownCast\_(From* f) \{  \textcolor{comment}{// so we only accept pointers}}
\DoxyCodeLine{1368   \textcolor{comment}{// Ensures that To is a sub-\/type of From *.  This test is here only}}
\DoxyCodeLine{1369   \textcolor{comment}{// for compile-\/time type checking, and has no overhead in an}}
\DoxyCodeLine{1370   \textcolor{comment}{// optimized build at run-\/time, as it will be optimized away}}
\DoxyCodeLine{1371   \textcolor{comment}{// completely.}}
\DoxyCodeLine{1372   GTEST\_INTENTIONAL\_CONST\_COND\_PUSH\_()}
\DoxyCodeLine{1373   if (false) \{}
\DoxyCodeLine{1374   GTEST\_INTENTIONAL\_CONST\_COND\_POP\_()}
\DoxyCodeLine{1375     const To to = NULL;}
\DoxyCodeLine{1376     ::testing::internal::ImplicitCast\_<From*>(to);}
\DoxyCodeLine{1377   \}}
\DoxyCodeLine{1378 }
\DoxyCodeLine{1379 \textcolor{preprocessor}{\#if GTEST\_HAS\_RTTI}}
\DoxyCodeLine{1380   \textcolor{comment}{// RTTI: debug mode only!}}
\DoxyCodeLine{1381   GTEST\_CHECK\_(f == NULL || \textcolor{keyword}{dynamic\_cast<}To\textcolor{keyword}{>}(f) != NULL);}
\DoxyCodeLine{1382 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1383   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}To\textcolor{keyword}{>}(f);}
\DoxyCodeLine{1384 \}}
\DoxyCodeLine{1385 }
\DoxyCodeLine{1386 \textcolor{comment}{// Downcasts the pointer of type Base to Derived.}}
\DoxyCodeLine{1387 \textcolor{comment}{// Derived must be a subclass of Base. The parameter MUST}}
\DoxyCodeLine{1388 \textcolor{comment}{// point to a class of type Derived, not any subclass of it.}}
\DoxyCodeLine{1389 \textcolor{comment}{// When RTTI is available, the function performs a runtime}}
\DoxyCodeLine{1390 \textcolor{comment}{// check to enforce this.}}
\DoxyCodeLine{1391 \textcolor{keyword}{template} <\textcolor{keyword}{class} Derived, \textcolor{keyword}{class} Base>}
\DoxyCodeLine{1392 Derived* CheckedDowncastToActualType(Base* base) \{}
\DoxyCodeLine{1393 \textcolor{preprocessor}{\#if GTEST\_HAS\_RTTI}}
\DoxyCodeLine{1394   GTEST\_CHECK\_(\textcolor{keyword}{typeid}(*base) == \textcolor{keyword}{typeid}(Derived));}
\DoxyCodeLine{1395 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1396 }
\DoxyCodeLine{1397 \textcolor{preprocessor}{\#if GTEST\_HAS\_DOWNCAST\_}}
\DoxyCodeLine{1398   return ::down\_cast<Derived*>(base);}
\DoxyCodeLine{1399 \textcolor{preprocessor}{\#elif GTEST\_HAS\_RTTI}}
\DoxyCodeLine{1400   \textcolor{keywordflow}{return} \textcolor{keyword}{dynamic\_cast<}Derived*\textcolor{keyword}{>}(base);  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1401 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1402   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}Derived*\textcolor{keyword}{>}(base);  \textcolor{comment}{// Poor man's downcast.}}
\DoxyCodeLine{1403 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1404 \}}
\DoxyCodeLine{1405 }
\DoxyCodeLine{1406 \textcolor{preprocessor}{\#if GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{1407 }
\DoxyCodeLine{1408 \textcolor{comment}{// Defines the stderr capturer:}}
\DoxyCodeLine{1409 \textcolor{comment}{//   CaptureStdout     -\/ starts capturing stdout.}}
\DoxyCodeLine{1410 \textcolor{comment}{//   GetCapturedStdout -\/ stops capturing stdout and returns the captured string.}}
\DoxyCodeLine{1411 \textcolor{comment}{//   CaptureStderr     -\/ starts capturing stderr.}}
\DoxyCodeLine{1412 \textcolor{comment}{//   GetCapturedStderr -\/ stops capturing stderr and returns the captured string.}}
\DoxyCodeLine{1413 \textcolor{comment}{//}}
\DoxyCodeLine{1414 GTEST\_API\_ \textcolor{keywordtype}{void} CaptureStdout();}
\DoxyCodeLine{1415 GTEST\_API\_ std::string GetCapturedStdout();}
\DoxyCodeLine{1416 GTEST\_API\_ \textcolor{keywordtype}{void} CaptureStderr();}
\DoxyCodeLine{1417 GTEST\_API\_ std::string GetCapturedStderr();}
\DoxyCodeLine{1418 }
\DoxyCodeLine{1419 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_STREAM\_REDIRECTION}}
\DoxyCodeLine{1420 }
\DoxyCodeLine{1421 \textcolor{comment}{// Returns a path to temporary directory.}}
\DoxyCodeLine{1422 GTEST\_API\_ std::string TempDir();}
\DoxyCodeLine{1423 }
\DoxyCodeLine{1424 \textcolor{comment}{// Returns the size (in bytes) of a file.}}
\DoxyCodeLine{1425 GTEST\_API\_ \textcolor{keywordtype}{size\_t} GetFileSize(FILE* file);}
\DoxyCodeLine{1426 }
\DoxyCodeLine{1427 \textcolor{comment}{// Reads the entire content of a file as a string.}}
\DoxyCodeLine{1428 GTEST\_API\_ std::string ReadEntireFile(FILE* file);}
\DoxyCodeLine{1429 }
\DoxyCodeLine{1430 \textcolor{comment}{// All command line arguments.}}
\DoxyCodeLine{1431 GTEST\_API\_ const ::std::vector<testing::internal::string>\& GetArgvs();}
\DoxyCodeLine{1432 }
\DoxyCodeLine{1433 \textcolor{preprocessor}{\#if GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{1434 }
\DoxyCodeLine{1435 const ::std::vector<testing::internal::string>\& GetInjectableArgvs();}
\DoxyCodeLine{1436 \textcolor{keywordtype}{void} SetInjectableArgvs(const ::std::vector<testing::internal::string>*}
\DoxyCodeLine{1437                              new\_argvs);}
\DoxyCodeLine{1438 }
\DoxyCodeLine{1439 }
\DoxyCodeLine{1440 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_HAS\_DEATH\_TEST}}
\DoxyCodeLine{1441 }
\DoxyCodeLine{1442 \textcolor{comment}{// Defines synchronization primitives.}}
\DoxyCodeLine{1443 \textcolor{preprocessor}{\#if GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{1444 \textcolor{preprocessor}{\# if GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{1445 \textcolor{comment}{// Sleeps for (roughly) n milliseconds.  This function is only for testing}}
\DoxyCodeLine{1446 \textcolor{comment}{// Google Test's own constructs.  Don't use it in user tests, either}}
\DoxyCodeLine{1447 \textcolor{comment}{// directly or indirectly.}}
\DoxyCodeLine{1448 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} SleepMilliseconds(\textcolor{keywordtype}{int} n) \{}
\DoxyCodeLine{1449   \textcolor{keyword}{const} timespec time = \{}
\DoxyCodeLine{1450     0,                  \textcolor{comment}{// 0 seconds.}}
\DoxyCodeLine{1451     n * 1000L * 1000L,  \textcolor{comment}{// And n ms.}}
\DoxyCodeLine{1452   \};}
\DoxyCodeLine{1453   nanosleep(\&time, NULL);}
\DoxyCodeLine{1454 \}}
\DoxyCodeLine{1455 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{1456 }
\DoxyCodeLine{1457 \textcolor{preprocessor}{\# if GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{1458 \textcolor{comment}{// Notification has already been imported into the namespace.}}
\DoxyCodeLine{1459 \textcolor{comment}{// Nothing to do here.}}
\DoxyCodeLine{1460 }
\DoxyCodeLine{1461 \textcolor{preprocessor}{\# elif GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{1462 \textcolor{comment}{// Allows a controller thread to pause execution of newly created}}
\DoxyCodeLine{1463 \textcolor{comment}{// threads until notified.  Instances of this class must be created}}
\DoxyCodeLine{1464 \textcolor{comment}{// and destroyed in the controller thread.}}
\DoxyCodeLine{1465 \textcolor{comment}{//}}
\DoxyCodeLine{1466 \textcolor{comment}{// This class is only for testing Google Test's own constructs. Do not}}
\DoxyCodeLine{1467 \textcolor{comment}{// use it in user tests, either directly or indirectly.}}
\DoxyCodeLine{1468 \textcolor{keyword}{class }Notification \{}
\DoxyCodeLine{1469  \textcolor{keyword}{public}:}
\DoxyCodeLine{1470   Notification() : notified\_(false) \{}
\DoxyCodeLine{1471     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_init(\&mutex\_, NULL));}
\DoxyCodeLine{1472   \}}
\DoxyCodeLine{1473   \string~Notification() \{}
\DoxyCodeLine{1474     pthread\_mutex\_destroy(\&mutex\_);}
\DoxyCodeLine{1475   \}}
\DoxyCodeLine{1476 }
\DoxyCodeLine{1477   \textcolor{comment}{// Notifies all threads created with this notification to start. Must}}
\DoxyCodeLine{1478   \textcolor{comment}{// be called from the controller thread.}}
\DoxyCodeLine{1479   \textcolor{keywordtype}{void} Notify() \{}
\DoxyCodeLine{1480     pthread\_mutex\_lock(\&mutex\_);}
\DoxyCodeLine{1481     notified\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{1482     pthread\_mutex\_unlock(\&mutex\_);}
\DoxyCodeLine{1483   \}}
\DoxyCodeLine{1484 }
\DoxyCodeLine{1485   \textcolor{comment}{// Blocks until the controller thread notifies. Must be called from a test}}
\DoxyCodeLine{1486   \textcolor{comment}{// thread.}}
\DoxyCodeLine{1487   \textcolor{keywordtype}{void} WaitForNotification() \{}
\DoxyCodeLine{1488     \textcolor{keywordflow}{for} (;;) \{}
\DoxyCodeLine{1489       pthread\_mutex\_lock(\&mutex\_);}
\DoxyCodeLine{1490       \textcolor{keyword}{const} \textcolor{keywordtype}{bool} notified = notified\_;}
\DoxyCodeLine{1491       pthread\_mutex\_unlock(\&mutex\_);}
\DoxyCodeLine{1492       \textcolor{keywordflow}{if} (notified)}
\DoxyCodeLine{1493         \textcolor{keywordflow}{break};}
\DoxyCodeLine{1494       SleepMilliseconds(10);}
\DoxyCodeLine{1495     \}}
\DoxyCodeLine{1496   \}}
\DoxyCodeLine{1497 }
\DoxyCodeLine{1498  \textcolor{keyword}{private}:}
\DoxyCodeLine{1499   pthread\_mutex\_t mutex\_;}
\DoxyCodeLine{1500   \textcolor{keywordtype}{bool} notified\_;}
\DoxyCodeLine{1501 }
\DoxyCodeLine{1502   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(Notification);}
\DoxyCodeLine{1503 \};}
\DoxyCodeLine{1504 }
\DoxyCodeLine{1505 \textcolor{preprocessor}{\# elif GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_PHONE \&\& !GTEST\_OS\_WINDOWS\_RT}}
\DoxyCodeLine{1506 }
\DoxyCodeLine{1507 GTEST\_API\_ \textcolor{keywordtype}{void} SleepMilliseconds(\textcolor{keywordtype}{int} n);}
\DoxyCodeLine{1508 }
\DoxyCodeLine{1509 \textcolor{comment}{// Provides leak-\/safe Windows kernel handle ownership.}}
\DoxyCodeLine{1510 \textcolor{comment}{// Used in death tests and in threading support.}}
\DoxyCodeLine{1511 \textcolor{keyword}{class }GTEST\_API\_ AutoHandle \{}
\DoxyCodeLine{1512  \textcolor{keyword}{public}:}
\DoxyCodeLine{1513   \textcolor{comment}{// Assume that Win32 HANDLE type is equivalent to void*. Doing so allows us to}}
\DoxyCodeLine{1514   \textcolor{comment}{// avoid including <windows.h> in this header file. Including <windows.h> is}}
\DoxyCodeLine{1515   \textcolor{comment}{// undesirable because it defines a lot of symbols and macros that tend to}}
\DoxyCodeLine{1516   \textcolor{comment}{// conflict with client code. This assumption is verified by}}
\DoxyCodeLine{1517   \textcolor{comment}{// WindowsTypesTest.HANDLEIsVoidStar.}}
\DoxyCodeLine{1518   \textcolor{keyword}{typedef} \textcolor{keywordtype}{void}* Handle;}
\DoxyCodeLine{1519   AutoHandle();}
\DoxyCodeLine{1520   \textcolor{keyword}{explicit} AutoHandle(Handle handle);}
\DoxyCodeLine{1521 }
\DoxyCodeLine{1522   \string~AutoHandle();}
\DoxyCodeLine{1523 }
\DoxyCodeLine{1524   Handle Get() \textcolor{keyword}{const};}
\DoxyCodeLine{1525   \textcolor{keywordtype}{void} Reset();}
\DoxyCodeLine{1526   \textcolor{keywordtype}{void} Reset(Handle handle);}
\DoxyCodeLine{1527 }
\DoxyCodeLine{1528  \textcolor{keyword}{private}:}
\DoxyCodeLine{1529   \textcolor{comment}{// Returns true iff the handle is a valid handle object that can be closed.}}
\DoxyCodeLine{1530   \textcolor{keywordtype}{bool} IsCloseable() \textcolor{keyword}{const};}
\DoxyCodeLine{1531 }
\DoxyCodeLine{1532   Handle handle\_;}
\DoxyCodeLine{1533 }
\DoxyCodeLine{1534   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(AutoHandle);}
\DoxyCodeLine{1535 \};}
\DoxyCodeLine{1536 }
\DoxyCodeLine{1537 \textcolor{comment}{// Allows a controller thread to pause execution of newly created}}
\DoxyCodeLine{1538 \textcolor{comment}{// threads until notified.  Instances of this class must be created}}
\DoxyCodeLine{1539 \textcolor{comment}{// and destroyed in the controller thread.}}
\DoxyCodeLine{1540 \textcolor{comment}{//}}
\DoxyCodeLine{1541 \textcolor{comment}{// This class is only for testing Google Test's own constructs. Do not}}
\DoxyCodeLine{1542 \textcolor{comment}{// use it in user tests, either directly or indirectly.}}
\DoxyCodeLine{1543 \textcolor{keyword}{class }GTEST\_API\_ Notification \{}
\DoxyCodeLine{1544  \textcolor{keyword}{public}:}
\DoxyCodeLine{1545   Notification();}
\DoxyCodeLine{1546   \textcolor{keywordtype}{void} Notify();}
\DoxyCodeLine{1547   \textcolor{keywordtype}{void} WaitForNotification();}
\DoxyCodeLine{1548 }
\DoxyCodeLine{1549  \textcolor{keyword}{private}:}
\DoxyCodeLine{1550   AutoHandle event\_;}
\DoxyCodeLine{1551 }
\DoxyCodeLine{1552   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(Notification);}
\DoxyCodeLine{1553 \};}
\DoxyCodeLine{1554 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// GTEST\_HAS\_NOTIFICATION\_}}
\DoxyCodeLine{1555 }
\DoxyCodeLine{1556 \textcolor{comment}{// On MinGW, we can have both GTEST\_OS\_WINDOWS and GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{1557 \textcolor{comment}{// defined, but we don't want to use MinGW's pthreads implementation, which}}
\DoxyCodeLine{1558 \textcolor{comment}{// has conformance problems with some versions of the POSIX standard.}}
\DoxyCodeLine{1559 \textcolor{preprocessor}{\# if GTEST\_HAS\_PTHREAD \&\& !GTEST\_OS\_WINDOWS\_MINGW}}
\DoxyCodeLine{1560 }
\DoxyCodeLine{1561 \textcolor{comment}{// As a C-\/function, ThreadFuncWithCLinkage cannot be templated itself.}}
\DoxyCodeLine{1562 \textcolor{comment}{// Consequently, it cannot select a correct instantiation of ThreadWithParam}}
\DoxyCodeLine{1563 \textcolor{comment}{// in order to call its Run(). Introducing ThreadWithParamBase as a}}
\DoxyCodeLine{1564 \textcolor{comment}{// non-\/templated base class for ThreadWithParam allows us to bypass this}}
\DoxyCodeLine{1565 \textcolor{comment}{// problem.}}
\DoxyCodeLine{1566 \textcolor{keyword}{class }ThreadWithParamBase \{}
\DoxyCodeLine{1567  \textcolor{keyword}{public}:}
\DoxyCodeLine{1568   \textcolor{keyword}{virtual} \string~ThreadWithParamBase() \{\}}
\DoxyCodeLine{1569   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Run() = 0;}
\DoxyCodeLine{1570 \};}
\DoxyCodeLine{1571 }
\DoxyCodeLine{1572 \textcolor{comment}{// pthread\_create() accepts a pointer to a function type with the C linkage.}}
\DoxyCodeLine{1573 \textcolor{comment}{// According to the Standard (7.5/1), function types with different linkages}}
\DoxyCodeLine{1574 \textcolor{comment}{// are different even if they are otherwise identical.  Some compilers (for}}
\DoxyCodeLine{1575 \textcolor{comment}{// example, SunStudio) treat them as different types.  Since class methods}}
\DoxyCodeLine{1576 \textcolor{comment}{// cannot be defined with C-\/linkage we need to define a free C-\/function to}}
\DoxyCodeLine{1577 \textcolor{comment}{// pass into pthread\_create().}}
\DoxyCodeLine{1578 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void}* ThreadFuncWithCLinkage(\textcolor{keywordtype}{void}* thread) \{}
\DoxyCodeLine{1579   \textcolor{keyword}{static\_cast<}ThreadWithParamBase*\textcolor{keyword}{>}(thread)-\/>Run();}
\DoxyCodeLine{1580   \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{1581 \}}
\DoxyCodeLine{1582 }
\DoxyCodeLine{1583 \textcolor{comment}{// Helper class for testing Google Test's multi-\/threading constructs.}}
\DoxyCodeLine{1584 \textcolor{comment}{// To use it, write:}}
\DoxyCodeLine{1585 \textcolor{comment}{//}}
\DoxyCodeLine{1586 \textcolor{comment}{//   void ThreadFunc(int param) \{ /* Do things with param */ \}}}
\DoxyCodeLine{1587 \textcolor{comment}{//   Notification thread\_can\_start;}}
\DoxyCodeLine{1588 \textcolor{comment}{//   ...}}
\DoxyCodeLine{1589 \textcolor{comment}{//   // The thread\_can\_start parameter is optional; you can supply NULL.}}
\DoxyCodeLine{1590 \textcolor{comment}{//   ThreadWithParam<int> thread(\&ThreadFunc, 5, \&thread\_can\_start);}}
\DoxyCodeLine{1591 \textcolor{comment}{//   thread\_can\_start.Notify();}}
\DoxyCodeLine{1592 \textcolor{comment}{//}}
\DoxyCodeLine{1593 \textcolor{comment}{// These classes are only for testing Google Test's own constructs. Do}}
\DoxyCodeLine{1594 \textcolor{comment}{// not use them in user tests, either directly or indirectly.}}
\DoxyCodeLine{1595 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1596 \textcolor{keyword}{class }ThreadWithParam : \textcolor{keyword}{public} ThreadWithParamBase \{}
\DoxyCodeLine{1597  \textcolor{keyword}{public}:}
\DoxyCodeLine{1598   \textcolor{keyword}{typedef} \textcolor{keywordtype}{void} UserThreadFunc(T);}
\DoxyCodeLine{1599 }
\DoxyCodeLine{1600   ThreadWithParam(UserThreadFunc* func, T param, Notification* thread\_can\_start)}
\DoxyCodeLine{1601       : func\_(func),}
\DoxyCodeLine{1602         param\_(param),}
\DoxyCodeLine{1603         thread\_can\_start\_(thread\_can\_start),}
\DoxyCodeLine{1604         finished\_(false) \{}
\DoxyCodeLine{1605     ThreadWithParamBase* \textcolor{keyword}{const} base = \textcolor{keyword}{this};}
\DoxyCodeLine{1606     \textcolor{comment}{// The thread can be created only after all fields except thread\_}}
\DoxyCodeLine{1607     \textcolor{comment}{// have been initialized.}}
\DoxyCodeLine{1608     GTEST\_CHECK\_POSIX\_SUCCESS\_(}
\DoxyCodeLine{1609         pthread\_create(\&thread\_, 0, \&ThreadFuncWithCLinkage, base));}
\DoxyCodeLine{1610   \}}
\DoxyCodeLine{1611   \string~ThreadWithParam() \{ Join(); \}}
\DoxyCodeLine{1612 }
\DoxyCodeLine{1613   \textcolor{keywordtype}{void} Join() \{}
\DoxyCodeLine{1614     \textcolor{keywordflow}{if} (!finished\_) \{}
\DoxyCodeLine{1615       GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_join(thread\_, 0));}
\DoxyCodeLine{1616       finished\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{1617     \}}
\DoxyCodeLine{1618   \}}
\DoxyCodeLine{1619 }
\DoxyCodeLine{1620   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Run() \{}
\DoxyCodeLine{1621     \textcolor{keywordflow}{if} (thread\_can\_start\_ != NULL)}
\DoxyCodeLine{1622       thread\_can\_start\_-\/>WaitForNotification();}
\DoxyCodeLine{1623     func\_(param\_);}
\DoxyCodeLine{1624   \}}
\DoxyCodeLine{1625 }
\DoxyCodeLine{1626  \textcolor{keyword}{private}:}
\DoxyCodeLine{1627   UserThreadFunc* \textcolor{keyword}{const} func\_;  \textcolor{comment}{// User-\/supplied thread function.}}
\DoxyCodeLine{1628   \textcolor{keyword}{const} T param\_;  \textcolor{comment}{// User-\/supplied parameter to the thread function.}}
\DoxyCodeLine{1629   \textcolor{comment}{// When non-\/NULL, used to block execution until the controller thread}}
\DoxyCodeLine{1630   \textcolor{comment}{// notifies.}}
\DoxyCodeLine{1631   Notification* \textcolor{keyword}{const} thread\_can\_start\_;}
\DoxyCodeLine{1632   \textcolor{keywordtype}{bool} finished\_;  \textcolor{comment}{// true iff we know that the thread function has finished.}}
\DoxyCodeLine{1633   pthread\_t thread\_;  \textcolor{comment}{// The native thread object.}}
\DoxyCodeLine{1634 }
\DoxyCodeLine{1635   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadWithParam);}
\DoxyCodeLine{1636 \};}
\DoxyCodeLine{1637 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// !GTEST\_OS\_WINDOWS \&\& GTEST\_HAS\_PTHREAD ||}}
\DoxyCodeLine{1638          \textcolor{comment}{// GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{1639 }
\DoxyCodeLine{1640 \textcolor{preprocessor}{\# if GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{1641 \textcolor{comment}{// Mutex and ThreadLocal have already been imported into the namespace.}}
\DoxyCodeLine{1642 \textcolor{comment}{// Nothing to do here.}}
\DoxyCodeLine{1643 }
\DoxyCodeLine{1644 \textcolor{preprocessor}{\# elif GTEST\_OS\_WINDOWS \&\& !GTEST\_OS\_WINDOWS\_PHONE \&\& !GTEST\_OS\_WINDOWS\_RT}}
\DoxyCodeLine{1645 }
\DoxyCodeLine{1646 \textcolor{comment}{// Mutex implements mutex on Windows platforms.  It is used in conjunction}}
\DoxyCodeLine{1647 \textcolor{comment}{// with class MutexLock:}}
\DoxyCodeLine{1648 \textcolor{comment}{//}}
\DoxyCodeLine{1649 \textcolor{comment}{//   Mutex mutex;}}
\DoxyCodeLine{1650 \textcolor{comment}{//   ...}}
\DoxyCodeLine{1651 \textcolor{comment}{//   MutexLock lock(\&mutex);  // Acquires the mutex and releases it at the}}
\DoxyCodeLine{1652 \textcolor{comment}{//                            // end of the current scope.}}
\DoxyCodeLine{1653 \textcolor{comment}{//}}
\DoxyCodeLine{1654 \textcolor{comment}{// A static Mutex *must* be defined or declared using one of the following}}
\DoxyCodeLine{1655 \textcolor{comment}{// macros:}}
\DoxyCodeLine{1656 \textcolor{comment}{//   GTEST\_DEFINE\_STATIC\_MUTEX\_(g\_some\_mutex);}}
\DoxyCodeLine{1657 \textcolor{comment}{//   GTEST\_DECLARE\_STATIC\_MUTEX\_(g\_some\_mutex);}}
\DoxyCodeLine{1658 \textcolor{comment}{//}}
\DoxyCodeLine{1659 \textcolor{comment}{// (A non-\/static Mutex is defined/declared in the usual way).}}
\DoxyCodeLine{1660 \textcolor{keyword}{class }GTEST\_API\_ Mutex \{}
\DoxyCodeLine{1661  \textcolor{keyword}{public}:}
\DoxyCodeLine{1662   \textcolor{keyword}{enum} MutexType \{ kStatic = 0, kDynamic = 1 \};}
\DoxyCodeLine{1663   \textcolor{comment}{// We rely on kStaticMutex being 0 as it is to what the linker initializes}}
\DoxyCodeLine{1664   \textcolor{comment}{// type\_ in static mutexes.  critical\_section\_ will be initialized lazily}}
\DoxyCodeLine{1665   \textcolor{comment}{// in ThreadSafeLazyInit().}}
\DoxyCodeLine{1666   \textcolor{keyword}{enum} StaticConstructorSelector \{ kStaticMutex = 0 \};}
\DoxyCodeLine{1667 }
\DoxyCodeLine{1668   \textcolor{comment}{// This constructor intentionally does nothing.  It relies on type\_ being}}
\DoxyCodeLine{1669   \textcolor{comment}{// statically initialized to 0 (effectively setting it to kStatic) and on}}
\DoxyCodeLine{1670   \textcolor{comment}{// ThreadSafeLazyInit() to lazily initialize the rest of the members.}}
\DoxyCodeLine{1671   \textcolor{keyword}{explicit} Mutex(StaticConstructorSelector \textcolor{comment}{/*dummy*/}) \{\}}
\DoxyCodeLine{1672 }
\DoxyCodeLine{1673   Mutex();}
\DoxyCodeLine{1674   \string~Mutex();}
\DoxyCodeLine{1675 }
\DoxyCodeLine{1676   \textcolor{keywordtype}{void} Lock();}
\DoxyCodeLine{1677 }
\DoxyCodeLine{1678   \textcolor{keywordtype}{void} Unlock();}
\DoxyCodeLine{1679 }
\DoxyCodeLine{1680   \textcolor{comment}{// Does nothing if the current thread holds the mutex. Otherwise, crashes}}
\DoxyCodeLine{1681   \textcolor{comment}{// with high probability.}}
\DoxyCodeLine{1682   \textcolor{keywordtype}{void} AssertHeld();}
\DoxyCodeLine{1683 }
\DoxyCodeLine{1684  \textcolor{keyword}{private}:}
\DoxyCodeLine{1685   \textcolor{comment}{// Initializes owner\_thread\_id\_ and critical\_section\_ in static mutexes.}}
\DoxyCodeLine{1686   \textcolor{keywordtype}{void} ThreadSafeLazyInit();}
\DoxyCodeLine{1687 }
\DoxyCodeLine{1688   \textcolor{comment}{// Per http://blogs.msdn.com/b/oldnewthing/archive/2004/02/23/78395.aspx,}}
\DoxyCodeLine{1689   \textcolor{comment}{// we assume that 0 is an invalid value for thread IDs.}}
\DoxyCodeLine{1690   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} owner\_thread\_id\_;}
\DoxyCodeLine{1691 }
\DoxyCodeLine{1692   \textcolor{comment}{// For static mutexes, we rely on these members being initialized to zeros}}
\DoxyCodeLine{1693   \textcolor{comment}{// by the linker.}}
\DoxyCodeLine{1694   MutexType type\_;}
\DoxyCodeLine{1695   \textcolor{keywordtype}{long} critical\_section\_init\_phase\_;  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{1696   \_RTL\_CRITICAL\_SECTION* critical\_section\_;}
\DoxyCodeLine{1697 }
\DoxyCodeLine{1698   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(Mutex);}
\DoxyCodeLine{1699 \};}
\DoxyCodeLine{1700 }
\DoxyCodeLine{1701 \textcolor{preprocessor}{\# define GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1702 \textcolor{preprocessor}{    extern ::testing::internal::Mutex mutex}}
\DoxyCodeLine{1703 }
\DoxyCodeLine{1704 \textcolor{preprocessor}{\# define GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1705 \textcolor{preprocessor}{    ::testing::internal::Mutex mutex(::testing::internal::Mutex::kStaticMutex)}}
\DoxyCodeLine{1706 }
\DoxyCodeLine{1707 \textcolor{comment}{// We cannot name this class MutexLock because the ctor declaration would}}
\DoxyCodeLine{1708 \textcolor{comment}{// conflict with a macro named MutexLock, which is defined on some}}
\DoxyCodeLine{1709 \textcolor{comment}{// platforms. That macro is used as a defensive measure to prevent against}}
\DoxyCodeLine{1710 \textcolor{comment}{// inadvertent misuses of MutexLock like "{}MutexLock(\&mu)"{} rather than}}
\DoxyCodeLine{1711 \textcolor{comment}{// "{}MutexLock l(\&mu)"{}.  Hence the typedef trick below.}}
\DoxyCodeLine{1712 \textcolor{keyword}{class }GTestMutexLock \{}
\DoxyCodeLine{1713  \textcolor{keyword}{public}:}
\DoxyCodeLine{1714   \textcolor{keyword}{explicit} GTestMutexLock(Mutex* mutex)}
\DoxyCodeLine{1715       : mutex\_(mutex) \{ mutex\_-\/>Lock(); \}}
\DoxyCodeLine{1716 }
\DoxyCodeLine{1717   \string~GTestMutexLock() \{ mutex\_-\/>Unlock(); \}}
\DoxyCodeLine{1718 }
\DoxyCodeLine{1719  \textcolor{keyword}{private}:}
\DoxyCodeLine{1720   Mutex* \textcolor{keyword}{const} mutex\_;}
\DoxyCodeLine{1721 }
\DoxyCodeLine{1722   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(GTestMutexLock);}
\DoxyCodeLine{1723 \};}
\DoxyCodeLine{1724 }
\DoxyCodeLine{1725 \textcolor{keyword}{typedef} GTestMutexLock MutexLock;}
\DoxyCodeLine{1726 }
\DoxyCodeLine{1727 \textcolor{comment}{// Base class for ValueHolder<T>.  Allows a caller to hold and delete a value}}
\DoxyCodeLine{1728 \textcolor{comment}{// without knowing its type.}}
\DoxyCodeLine{1729 \textcolor{keyword}{class }ThreadLocalValueHolderBase \{}
\DoxyCodeLine{1730  \textcolor{keyword}{public}:}
\DoxyCodeLine{1731   \textcolor{keyword}{virtual} \string~ThreadLocalValueHolderBase() \{\}}
\DoxyCodeLine{1732 \};}
\DoxyCodeLine{1733 }
\DoxyCodeLine{1734 \textcolor{comment}{// Provides a way for a thread to send notifications to a ThreadLocal}}
\DoxyCodeLine{1735 \textcolor{comment}{// regardless of its parameter type.}}
\DoxyCodeLine{1736 \textcolor{keyword}{class }ThreadLocalBase \{}
\DoxyCodeLine{1737  \textcolor{keyword}{public}:}
\DoxyCodeLine{1738   \textcolor{comment}{// Creates a new ValueHolder<T> object holding a default value passed to}}
\DoxyCodeLine{1739   \textcolor{comment}{// this ThreadLocal<T>'s constructor and returns it.  It is the caller's}}
\DoxyCodeLine{1740   \textcolor{comment}{// responsibility not to call this when the ThreadLocal<T> instance already}}
\DoxyCodeLine{1741   \textcolor{comment}{// has a value on the current thread.}}
\DoxyCodeLine{1742   \textcolor{keyword}{virtual} ThreadLocalValueHolderBase* NewValueForCurrentThread() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{1743 }
\DoxyCodeLine{1744  \textcolor{keyword}{protected}:}
\DoxyCodeLine{1745   ThreadLocalBase() \{\}}
\DoxyCodeLine{1746   \textcolor{keyword}{virtual} \string~ThreadLocalBase() \{\}}
\DoxyCodeLine{1747 }
\DoxyCodeLine{1748  \textcolor{keyword}{private}:}
\DoxyCodeLine{1749   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadLocalBase);}
\DoxyCodeLine{1750 \};}
\DoxyCodeLine{1751 }
\DoxyCodeLine{1752 \textcolor{comment}{// Maps a thread to a set of ThreadLocals that have values instantiated on that}}
\DoxyCodeLine{1753 \textcolor{comment}{// thread and notifies them when the thread exits.  A ThreadLocal instance is}}
\DoxyCodeLine{1754 \textcolor{comment}{// expected to persist until all threads it has values on have terminated.}}
\DoxyCodeLine{1755 \textcolor{keyword}{class }GTEST\_API\_ ThreadLocalRegistry \{}
\DoxyCodeLine{1756  \textcolor{keyword}{public}:}
\DoxyCodeLine{1757   \textcolor{comment}{// Registers thread\_local\_instance as having value on the current thread.}}
\DoxyCodeLine{1758   \textcolor{comment}{// Returns a value that can be used to identify the thread from other threads.}}
\DoxyCodeLine{1759   \textcolor{keyword}{static} ThreadLocalValueHolderBase* GetValueOnCurrentThread(}
\DoxyCodeLine{1760       \textcolor{keyword}{const} ThreadLocalBase* thread\_local\_instance);}
\DoxyCodeLine{1761 }
\DoxyCodeLine{1762   \textcolor{comment}{// Invoked when a ThreadLocal instance is destroyed.}}
\DoxyCodeLine{1763   \textcolor{keyword}{static} \textcolor{keywordtype}{void} OnThreadLocalDestroyed(}
\DoxyCodeLine{1764       \textcolor{keyword}{const} ThreadLocalBase* thread\_local\_instance);}
\DoxyCodeLine{1765 \};}
\DoxyCodeLine{1766 }
\DoxyCodeLine{1767 \textcolor{keyword}{class }GTEST\_API\_ ThreadWithParamBase \{}
\DoxyCodeLine{1768  \textcolor{keyword}{public}:}
\DoxyCodeLine{1769   \textcolor{keywordtype}{void} Join();}
\DoxyCodeLine{1770 }
\DoxyCodeLine{1771  \textcolor{keyword}{protected}:}
\DoxyCodeLine{1772   \textcolor{keyword}{class }Runnable \{}
\DoxyCodeLine{1773    \textcolor{keyword}{public}:}
\DoxyCodeLine{1774     \textcolor{keyword}{virtual} \string~Runnable() \{\}}
\DoxyCodeLine{1775     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Run() = 0;}
\DoxyCodeLine{1776   \};}
\DoxyCodeLine{1777 }
\DoxyCodeLine{1778   ThreadWithParamBase(Runnable *runnable, Notification* thread\_can\_start);}
\DoxyCodeLine{1779   \textcolor{keyword}{virtual} \string~ThreadWithParamBase();}
\DoxyCodeLine{1780 }
\DoxyCodeLine{1781  \textcolor{keyword}{private}:}
\DoxyCodeLine{1782   AutoHandle thread\_;}
\DoxyCodeLine{1783 \};}
\DoxyCodeLine{1784 }
\DoxyCodeLine{1785 \textcolor{comment}{// Helper class for testing Google Test's multi-\/threading constructs.}}
\DoxyCodeLine{1786 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1787 \textcolor{keyword}{class }ThreadWithParam : \textcolor{keyword}{public} ThreadWithParamBase \{}
\DoxyCodeLine{1788  \textcolor{keyword}{public}:}
\DoxyCodeLine{1789   \textcolor{keyword}{typedef} \textcolor{keywordtype}{void} UserThreadFunc(T);}
\DoxyCodeLine{1790 }
\DoxyCodeLine{1791   ThreadWithParam(UserThreadFunc* func, T param, Notification* thread\_can\_start)}
\DoxyCodeLine{1792       : ThreadWithParamBase(new RunnableImpl(func, param), thread\_can\_start) \{}
\DoxyCodeLine{1793   \}}
\DoxyCodeLine{1794   \textcolor{keyword}{virtual} \string~ThreadWithParam() \{\}}
\DoxyCodeLine{1795 }
\DoxyCodeLine{1796  \textcolor{keyword}{private}:}
\DoxyCodeLine{1797   \textcolor{keyword}{class }RunnableImpl : \textcolor{keyword}{public} Runnable \{}
\DoxyCodeLine{1798    \textcolor{keyword}{public}:}
\DoxyCodeLine{1799     RunnableImpl(UserThreadFunc* func, T param)}
\DoxyCodeLine{1800         : func\_(func),}
\DoxyCodeLine{1801           param\_(param) \{}
\DoxyCodeLine{1802     \}}
\DoxyCodeLine{1803     \textcolor{keyword}{virtual} \string~RunnableImpl() \{\}}
\DoxyCodeLine{1804     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} Run() \{}
\DoxyCodeLine{1805       func\_(param\_);}
\DoxyCodeLine{1806     \}}
\DoxyCodeLine{1807 }
\DoxyCodeLine{1808    \textcolor{keyword}{private}:}
\DoxyCodeLine{1809     UserThreadFunc* \textcolor{keyword}{const} func\_;}
\DoxyCodeLine{1810     \textcolor{keyword}{const} T param\_;}
\DoxyCodeLine{1811 }
\DoxyCodeLine{1812     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(RunnableImpl);}
\DoxyCodeLine{1813   \};}
\DoxyCodeLine{1814 }
\DoxyCodeLine{1815   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadWithParam);}
\DoxyCodeLine{1816 \};}
\DoxyCodeLine{1817 }
\DoxyCodeLine{1818 \textcolor{comment}{// Implements thread-\/local storage on Windows systems.}}
\DoxyCodeLine{1819 \textcolor{comment}{//}}
\DoxyCodeLine{1820 \textcolor{comment}{//   // Thread 1}}
\DoxyCodeLine{1821 \textcolor{comment}{//   ThreadLocal<int> tl(100);  // 100 is the default value for each thread.}}
\DoxyCodeLine{1822 \textcolor{comment}{//}}
\DoxyCodeLine{1823 \textcolor{comment}{//   // Thread 2}}
\DoxyCodeLine{1824 \textcolor{comment}{//   tl.set(150);  // Changes the value for thread 2 only.}}
\DoxyCodeLine{1825 \textcolor{comment}{//   EXPECT\_EQ(150, tl.get());}}
\DoxyCodeLine{1826 \textcolor{comment}{//}}
\DoxyCodeLine{1827 \textcolor{comment}{//   // Thread 1}}
\DoxyCodeLine{1828 \textcolor{comment}{//   EXPECT\_EQ(100, tl.get());  // In thread 1, tl has the original value.}}
\DoxyCodeLine{1829 \textcolor{comment}{//   tl.set(200);}}
\DoxyCodeLine{1830 \textcolor{comment}{//   EXPECT\_EQ(200, tl.get());}}
\DoxyCodeLine{1831 \textcolor{comment}{//}}
\DoxyCodeLine{1832 \textcolor{comment}{// The template type argument T must have a public copy constructor.}}
\DoxyCodeLine{1833 \textcolor{comment}{// In addition, the default ThreadLocal constructor requires T to have}}
\DoxyCodeLine{1834 \textcolor{comment}{// a public default constructor.}}
\DoxyCodeLine{1835 \textcolor{comment}{//}}
\DoxyCodeLine{1836 \textcolor{comment}{// The users of a TheadLocal instance have to make sure that all but one}}
\DoxyCodeLine{1837 \textcolor{comment}{// threads (including the main one) using that instance have exited before}}
\DoxyCodeLine{1838 \textcolor{comment}{// destroying it. Otherwise, the per-\/thread objects managed for them by the}}
\DoxyCodeLine{1839 \textcolor{comment}{// ThreadLocal instance are not guaranteed to be destroyed on all platforms.}}
\DoxyCodeLine{1840 \textcolor{comment}{//}}
\DoxyCodeLine{1841 \textcolor{comment}{// Google Test only uses global ThreadLocal objects.  That means they}}
\DoxyCodeLine{1842 \textcolor{comment}{// will die after main() has returned.  Therefore, no per-\/thread}}
\DoxyCodeLine{1843 \textcolor{comment}{// object managed by Google Test will be leaked as long as all threads}}
\DoxyCodeLine{1844 \textcolor{comment}{// using Google Test have exited when main() returns.}}
\DoxyCodeLine{1845 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{1846 \textcolor{keyword}{class }ThreadLocal : \textcolor{keyword}{public} ThreadLocalBase \{}
\DoxyCodeLine{1847  \textcolor{keyword}{public}:}
\DoxyCodeLine{1848   ThreadLocal() : default\_factory\_(new DefaultValueHolderFactory()) \{\}}
\DoxyCodeLine{1849   \textcolor{keyword}{explicit} ThreadLocal(\textcolor{keyword}{const} T\& value)}
\DoxyCodeLine{1850       : default\_factory\_(new InstanceValueHolderFactory(value)) \{\}}
\DoxyCodeLine{1851 }
\DoxyCodeLine{1852   \string~ThreadLocal() \{ ThreadLocalRegistry::OnThreadLocalDestroyed(\textcolor{keyword}{this}); \}}
\DoxyCodeLine{1853 }
\DoxyCodeLine{1854   T* pointer() \{ \textcolor{keywordflow}{return} GetOrCreateValue(); \}}
\DoxyCodeLine{1855   \textcolor{keyword}{const} T* pointer()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} GetOrCreateValue(); \}}
\DoxyCodeLine{1856   \textcolor{keyword}{const} T\& get()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *pointer(); \}}
\DoxyCodeLine{1857   \textcolor{keywordtype}{void} set(\textcolor{keyword}{const} T\& value) \{ *pointer() = value; \}}
\DoxyCodeLine{1858 }
\DoxyCodeLine{1859  \textcolor{keyword}{private}:}
\DoxyCodeLine{1860   \textcolor{comment}{// Holds a value of T.  Can be deleted via its base class without the caller}}
\DoxyCodeLine{1861   \textcolor{comment}{// knowing the type of T.}}
\DoxyCodeLine{1862   \textcolor{keyword}{class }ValueHolder : \textcolor{keyword}{public} ThreadLocalValueHolderBase \{}
\DoxyCodeLine{1863    \textcolor{keyword}{public}:}
\DoxyCodeLine{1864     ValueHolder() : value\_() \{\}}
\DoxyCodeLine{1865     \textcolor{keyword}{explicit} ValueHolder(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{1866 }
\DoxyCodeLine{1867     T* pointer() \{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{1868 }
\DoxyCodeLine{1869    \textcolor{keyword}{private}:}
\DoxyCodeLine{1870     T value\_;}
\DoxyCodeLine{1871     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ValueHolder);}
\DoxyCodeLine{1872   \};}
\DoxyCodeLine{1873 }
\DoxyCodeLine{1874 }
\DoxyCodeLine{1875   T* GetOrCreateValue()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1876     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}ValueHolder*\textcolor{keyword}{>}(}
\DoxyCodeLine{1877         ThreadLocalRegistry::GetValueOnCurrentThread(\textcolor{keyword}{this}))-\/>pointer();}
\DoxyCodeLine{1878   \}}
\DoxyCodeLine{1879 }
\DoxyCodeLine{1880   \textcolor{keyword}{virtual} ThreadLocalValueHolderBase* NewValueForCurrentThread()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1881     \textcolor{keywordflow}{return} default\_factory\_-\/>MakeNewHolder();}
\DoxyCodeLine{1882   \}}
\DoxyCodeLine{1883 }
\DoxyCodeLine{1884   \textcolor{keyword}{class }ValueHolderFactory \{}
\DoxyCodeLine{1885    \textcolor{keyword}{public}:}
\DoxyCodeLine{1886     ValueHolderFactory() \{\}}
\DoxyCodeLine{1887     \textcolor{keyword}{virtual} \string~ValueHolderFactory() \{\}}
\DoxyCodeLine{1888     \textcolor{keyword}{virtual} ValueHolder* MakeNewHolder() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{1889 }
\DoxyCodeLine{1890    \textcolor{keyword}{private}:}
\DoxyCodeLine{1891     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ValueHolderFactory);}
\DoxyCodeLine{1892   \};}
\DoxyCodeLine{1893 }
\DoxyCodeLine{1894   \textcolor{keyword}{class }DefaultValueHolderFactory : \textcolor{keyword}{public} ValueHolderFactory \{}
\DoxyCodeLine{1895    \textcolor{keyword}{public}:}
\DoxyCodeLine{1896     DefaultValueHolderFactory() \{\}}
\DoxyCodeLine{1897     \textcolor{keyword}{virtual} ValueHolder* MakeNewHolder()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{new} ValueHolder(); \}}
\DoxyCodeLine{1898 }
\DoxyCodeLine{1899    \textcolor{keyword}{private}:}
\DoxyCodeLine{1900     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(DefaultValueHolderFactory);}
\DoxyCodeLine{1901   \};}
\DoxyCodeLine{1902 }
\DoxyCodeLine{1903   \textcolor{keyword}{class }InstanceValueHolderFactory : \textcolor{keyword}{public} ValueHolderFactory \{}
\DoxyCodeLine{1904    \textcolor{keyword}{public}:}
\DoxyCodeLine{1905     \textcolor{keyword}{explicit} InstanceValueHolderFactory(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{1906     \textcolor{keyword}{virtual} ValueHolder* MakeNewHolder()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1907       \textcolor{keywordflow}{return} \textcolor{keyword}{new} ValueHolder(value\_);}
\DoxyCodeLine{1908     \}}
\DoxyCodeLine{1909 }
\DoxyCodeLine{1910    \textcolor{keyword}{private}:}
\DoxyCodeLine{1911     \textcolor{keyword}{const} T value\_;  \textcolor{comment}{// The value for each thread.}}
\DoxyCodeLine{1912 }
\DoxyCodeLine{1913     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(InstanceValueHolderFactory);}
\DoxyCodeLine{1914   \};}
\DoxyCodeLine{1915 }
\DoxyCodeLine{1916   scoped\_ptr<ValueHolderFactory> default\_factory\_;}
\DoxyCodeLine{1917 }
\DoxyCodeLine{1918   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadLocal);}
\DoxyCodeLine{1919 \};}
\DoxyCodeLine{1920 }
\DoxyCodeLine{1921 \textcolor{preprocessor}{\# elif GTEST\_HAS\_PTHREAD}}
\DoxyCodeLine{1922 }
\DoxyCodeLine{1923 \textcolor{comment}{// MutexBase and Mutex implement mutex on pthreads-\/based platforms.}}
\DoxyCodeLine{1924 \textcolor{keyword}{class }MutexBase \{}
\DoxyCodeLine{1925  \textcolor{keyword}{public}:}
\DoxyCodeLine{1926   \textcolor{comment}{// Acquires this mutex.}}
\DoxyCodeLine{1927   \textcolor{keywordtype}{void} Lock() \{}
\DoxyCodeLine{1928     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_lock(\&mutex\_));}
\DoxyCodeLine{1929     owner\_ = pthread\_self();}
\DoxyCodeLine{1930     has\_owner\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{1931   \}}
\DoxyCodeLine{1932 }
\DoxyCodeLine{1933   \textcolor{comment}{// Releases this mutex.}}
\DoxyCodeLine{1934   \textcolor{keywordtype}{void} Unlock() \{}
\DoxyCodeLine{1935     \textcolor{comment}{// Since the lock is being released the owner\_ field should no longer be}}
\DoxyCodeLine{1936     \textcolor{comment}{// considered valid. We don't protect writing to has\_owner\_ here, as it's}}
\DoxyCodeLine{1937     \textcolor{comment}{// the caller's responsibility to ensure that the current thread holds the}}
\DoxyCodeLine{1938     \textcolor{comment}{// mutex when this is called.}}
\DoxyCodeLine{1939     has\_owner\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{1940     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_unlock(\&mutex\_));}
\DoxyCodeLine{1941   \}}
\DoxyCodeLine{1942 }
\DoxyCodeLine{1943   \textcolor{comment}{// Does nothing if the current thread holds the mutex. Otherwise, crashes}}
\DoxyCodeLine{1944   \textcolor{comment}{// with high probability.}}
\DoxyCodeLine{1945   \textcolor{keywordtype}{void} AssertHeld()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{1946     GTEST\_CHECK\_(has\_owner\_ \&\& pthread\_equal(owner\_, pthread\_self()))}
\DoxyCodeLine{1947         << \textcolor{stringliteral}{"{}The current thread is not holding the mutex @"{}} << \textcolor{keyword}{this};}
\DoxyCodeLine{1948   \}}
\DoxyCodeLine{1949 }
\DoxyCodeLine{1950   \textcolor{comment}{// A static mutex may be used before main() is entered.  It may even}}
\DoxyCodeLine{1951   \textcolor{comment}{// be used before the dynamic initialization stage.  Therefore we}}
\DoxyCodeLine{1952   \textcolor{comment}{// must be able to initialize a static mutex object at link time.}}
\DoxyCodeLine{1953   \textcolor{comment}{// This means MutexBase has to be a POD and its member variables}}
\DoxyCodeLine{1954   \textcolor{comment}{// have to be public.}}
\DoxyCodeLine{1955  \textcolor{keyword}{public}:}
\DoxyCodeLine{1956   pthread\_mutex\_t mutex\_;  \textcolor{comment}{// The underlying pthread mutex.}}
\DoxyCodeLine{1957   \textcolor{comment}{// has\_owner\_ indicates whether the owner\_ field below contains a valid thread}}
\DoxyCodeLine{1958   \textcolor{comment}{// ID and is therefore safe to inspect (e.g., to use in pthread\_equal()). All}}
\DoxyCodeLine{1959   \textcolor{comment}{// accesses to the owner\_ field should be protected by a check of this field.}}
\DoxyCodeLine{1960   \textcolor{comment}{// An alternative might be to memset() owner\_ to all zeros, but there's no}}
\DoxyCodeLine{1961   \textcolor{comment}{// guarantee that a zero'd pthread\_t is necessarily invalid or even different}}
\DoxyCodeLine{1962   \textcolor{comment}{// from pthread\_self().}}
\DoxyCodeLine{1963   \textcolor{keywordtype}{bool} has\_owner\_;}
\DoxyCodeLine{1964   pthread\_t owner\_;  \textcolor{comment}{// The thread holding the mutex.}}
\DoxyCodeLine{1965 \};}
\DoxyCodeLine{1966 }
\DoxyCodeLine{1967 \textcolor{comment}{// Forward-\/declares a static mutex.}}
\DoxyCodeLine{1968 \textcolor{preprocessor}{\#  define GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1969 \textcolor{preprocessor}{     extern ::testing::internal::MutexBase mutex}}
\DoxyCodeLine{1970 }
\DoxyCodeLine{1971 \textcolor{comment}{// Defines and statically (i.e. at link time) initializes a static mutex.}}
\DoxyCodeLine{1972 \textcolor{preprocessor}{\#  define GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{1973 \textcolor{preprocessor}{     ::testing::internal::MutexBase mutex = \{ PTHREAD\_MUTEX\_INITIALIZER, false, pthread\_t() \}}}
\DoxyCodeLine{1974 }
\DoxyCodeLine{1975 \textcolor{comment}{// The Mutex class can only be used for mutexes created at runtime. It}}
\DoxyCodeLine{1976 \textcolor{comment}{// shares its API with MutexBase otherwise.}}
\DoxyCodeLine{1977 \textcolor{keyword}{class }Mutex : \textcolor{keyword}{public} MutexBase \{}
\DoxyCodeLine{1978  \textcolor{keyword}{public}:}
\DoxyCodeLine{1979   Mutex() \{}
\DoxyCodeLine{1980     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_init(\&mutex\_, NULL));}
\DoxyCodeLine{1981     has\_owner\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{1982   \}}
\DoxyCodeLine{1983   \string~Mutex() \{}
\DoxyCodeLine{1984     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_mutex\_destroy(\&mutex\_));}
\DoxyCodeLine{1985   \}}
\DoxyCodeLine{1986 }
\DoxyCodeLine{1987  \textcolor{keyword}{private}:}
\DoxyCodeLine{1988   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(Mutex);}
\DoxyCodeLine{1989 \};}
\DoxyCodeLine{1990 }
\DoxyCodeLine{1991 \textcolor{comment}{// We cannot name this class MutexLock because the ctor declaration would}}
\DoxyCodeLine{1992 \textcolor{comment}{// conflict with a macro named MutexLock, which is defined on some}}
\DoxyCodeLine{1993 \textcolor{comment}{// platforms. That macro is used as a defensive measure to prevent against}}
\DoxyCodeLine{1994 \textcolor{comment}{// inadvertent misuses of MutexLock like "{}MutexLock(\&mu)"{} rather than}}
\DoxyCodeLine{1995 \textcolor{comment}{// "{}MutexLock l(\&mu)"{}.  Hence the typedef trick below.}}
\DoxyCodeLine{1996 \textcolor{keyword}{class }GTestMutexLock \{}
\DoxyCodeLine{1997  \textcolor{keyword}{public}:}
\DoxyCodeLine{1998   \textcolor{keyword}{explicit} GTestMutexLock(MutexBase* mutex)}
\DoxyCodeLine{1999       : mutex\_(mutex) \{ mutex\_-\/>Lock(); \}}
\DoxyCodeLine{2000 }
\DoxyCodeLine{2001   \string~GTestMutexLock() \{ mutex\_-\/>Unlock(); \}}
\DoxyCodeLine{2002 }
\DoxyCodeLine{2003  \textcolor{keyword}{private}:}
\DoxyCodeLine{2004   MutexBase* \textcolor{keyword}{const} mutex\_;}
\DoxyCodeLine{2005 }
\DoxyCodeLine{2006   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(GTestMutexLock);}
\DoxyCodeLine{2007 \};}
\DoxyCodeLine{2008 }
\DoxyCodeLine{2009 \textcolor{keyword}{typedef} GTestMutexLock MutexLock;}
\DoxyCodeLine{2010 }
\DoxyCodeLine{2011 \textcolor{comment}{// Helpers for ThreadLocal.}}
\DoxyCodeLine{2012 }
\DoxyCodeLine{2013 \textcolor{comment}{// pthread\_key\_create() requires DeleteThreadLocalValue() to have}}
\DoxyCodeLine{2014 \textcolor{comment}{// C-\/linkage.  Therefore it cannot be templatized to access}}
\DoxyCodeLine{2015 \textcolor{comment}{// ThreadLocal<T>.  Hence the need for class}}
\DoxyCodeLine{2016 \textcolor{comment}{// ThreadLocalValueHolderBase.}}
\DoxyCodeLine{2017 \textcolor{keyword}{class }ThreadLocalValueHolderBase \{}
\DoxyCodeLine{2018  \textcolor{keyword}{public}:}
\DoxyCodeLine{2019   \textcolor{keyword}{virtual} \string~ThreadLocalValueHolderBase() \{\}}
\DoxyCodeLine{2020 \};}
\DoxyCodeLine{2021 }
\DoxyCodeLine{2022 \textcolor{comment}{// Called by pthread to delete thread-\/local data stored by}}
\DoxyCodeLine{2023 \textcolor{comment}{// pthread\_setspecific().}}
\DoxyCodeLine{2024 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} DeleteThreadLocalValue(\textcolor{keywordtype}{void}* value\_holder) \{}
\DoxyCodeLine{2025   \textcolor{keyword}{delete} \textcolor{keyword}{static\_cast<}ThreadLocalValueHolderBase*\textcolor{keyword}{>}(value\_holder);}
\DoxyCodeLine{2026 \}}
\DoxyCodeLine{2027 }
\DoxyCodeLine{2028 \textcolor{comment}{// Implements thread-\/local storage on pthreads-\/based systems.}}
\DoxyCodeLine{2029 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2030 \textcolor{keyword}{class }ThreadLocal \{}
\DoxyCodeLine{2031  \textcolor{keyword}{public}:}
\DoxyCodeLine{2032   ThreadLocal()}
\DoxyCodeLine{2033       : key\_(CreateKey()), default\_factory\_(new DefaultValueHolderFactory()) \{\}}
\DoxyCodeLine{2034   \textcolor{keyword}{explicit} ThreadLocal(\textcolor{keyword}{const} T\& value)}
\DoxyCodeLine{2035       : key\_(CreateKey()),}
\DoxyCodeLine{2036         default\_factory\_(new InstanceValueHolderFactory(value)) \{\}}
\DoxyCodeLine{2037 }
\DoxyCodeLine{2038   \string~ThreadLocal() \{}
\DoxyCodeLine{2039     \textcolor{comment}{// Destroys the managed object for the current thread, if any.}}
\DoxyCodeLine{2040     DeleteThreadLocalValue(pthread\_getspecific(key\_));}
\DoxyCodeLine{2041 }
\DoxyCodeLine{2042     \textcolor{comment}{// Releases resources associated with the key.  This will *not*}}
\DoxyCodeLine{2043     \textcolor{comment}{// delete managed objects for other threads.}}
\DoxyCodeLine{2044     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_key\_delete(key\_));}
\DoxyCodeLine{2045   \}}
\DoxyCodeLine{2046 }
\DoxyCodeLine{2047   T* pointer() \{ \textcolor{keywordflow}{return} GetOrCreateValue(); \}}
\DoxyCodeLine{2048   \textcolor{keyword}{const} T* pointer()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} GetOrCreateValue(); \}}
\DoxyCodeLine{2049   \textcolor{keyword}{const} T\& get()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} *pointer(); \}}
\DoxyCodeLine{2050   \textcolor{keywordtype}{void} set(\textcolor{keyword}{const} T\& value) \{ *pointer() = value; \}}
\DoxyCodeLine{2051 }
\DoxyCodeLine{2052  \textcolor{keyword}{private}:}
\DoxyCodeLine{2053   \textcolor{comment}{// Holds a value of type T.}}
\DoxyCodeLine{2054   \textcolor{keyword}{class }ValueHolder : \textcolor{keyword}{public} ThreadLocalValueHolderBase \{}
\DoxyCodeLine{2055    \textcolor{keyword}{public}:}
\DoxyCodeLine{2056     ValueHolder() : value\_() \{\}}
\DoxyCodeLine{2057     \textcolor{keyword}{explicit} ValueHolder(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{2058 }
\DoxyCodeLine{2059     T* pointer() \{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{2060 }
\DoxyCodeLine{2061    \textcolor{keyword}{private}:}
\DoxyCodeLine{2062     T value\_;}
\DoxyCodeLine{2063     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ValueHolder);}
\DoxyCodeLine{2064   \};}
\DoxyCodeLine{2065 }
\DoxyCodeLine{2066   \textcolor{keyword}{static} pthread\_key\_t CreateKey() \{}
\DoxyCodeLine{2067     pthread\_key\_t key;}
\DoxyCodeLine{2068     \textcolor{comment}{// When a thread exits, DeleteThreadLocalValue() will be called on}}
\DoxyCodeLine{2069     \textcolor{comment}{// the object managed for that thread.}}
\DoxyCodeLine{2070     GTEST\_CHECK\_POSIX\_SUCCESS\_(}
\DoxyCodeLine{2071         pthread\_key\_create(\&key, \&DeleteThreadLocalValue));}
\DoxyCodeLine{2072     \textcolor{keywordflow}{return} key;}
\DoxyCodeLine{2073   \}}
\DoxyCodeLine{2074 }
\DoxyCodeLine{2075   T* GetOrCreateValue()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2076     ThreadLocalValueHolderBase* \textcolor{keyword}{const} holder =}
\DoxyCodeLine{2077         \textcolor{keyword}{static\_cast<}ThreadLocalValueHolderBase*\textcolor{keyword}{>}(pthread\_getspecific(key\_));}
\DoxyCodeLine{2078     \textcolor{keywordflow}{if} (holder != NULL) \{}
\DoxyCodeLine{2079       \textcolor{keywordflow}{return} CheckedDowncastToActualType<ValueHolder>(holder)-\/>pointer();}
\DoxyCodeLine{2080     \}}
\DoxyCodeLine{2081 }
\DoxyCodeLine{2082     ValueHolder* \textcolor{keyword}{const} new\_holder = default\_factory\_-\/>MakeNewHolder();}
\DoxyCodeLine{2083     ThreadLocalValueHolderBase* \textcolor{keyword}{const} holder\_base = new\_holder;}
\DoxyCodeLine{2084     GTEST\_CHECK\_POSIX\_SUCCESS\_(pthread\_setspecific(key\_, holder\_base));}
\DoxyCodeLine{2085     \textcolor{keywordflow}{return} new\_holder-\/>pointer();}
\DoxyCodeLine{2086   \}}
\DoxyCodeLine{2087 }
\DoxyCodeLine{2088   \textcolor{keyword}{class }ValueHolderFactory \{}
\DoxyCodeLine{2089    \textcolor{keyword}{public}:}
\DoxyCodeLine{2090     ValueHolderFactory() \{\}}
\DoxyCodeLine{2091     \textcolor{keyword}{virtual} \string~ValueHolderFactory() \{\}}
\DoxyCodeLine{2092     \textcolor{keyword}{virtual} ValueHolder* MakeNewHolder() \textcolor{keyword}{const} = 0;}
\DoxyCodeLine{2093 }
\DoxyCodeLine{2094    \textcolor{keyword}{private}:}
\DoxyCodeLine{2095     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ValueHolderFactory);}
\DoxyCodeLine{2096   \};}
\DoxyCodeLine{2097 }
\DoxyCodeLine{2098   \textcolor{keyword}{class }DefaultValueHolderFactory : \textcolor{keyword}{public} ValueHolderFactory \{}
\DoxyCodeLine{2099    \textcolor{keyword}{public}:}
\DoxyCodeLine{2100     DefaultValueHolderFactory() \{\}}
\DoxyCodeLine{2101     \textcolor{keyword}{virtual} ValueHolder* MakeNewHolder()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \textcolor{keyword}{new} ValueHolder(); \}}
\DoxyCodeLine{2102 }
\DoxyCodeLine{2103    \textcolor{keyword}{private}:}
\DoxyCodeLine{2104     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(DefaultValueHolderFactory);}
\DoxyCodeLine{2105   \};}
\DoxyCodeLine{2106 }
\DoxyCodeLine{2107   \textcolor{keyword}{class }InstanceValueHolderFactory : \textcolor{keyword}{public} ValueHolderFactory \{}
\DoxyCodeLine{2108    \textcolor{keyword}{public}:}
\DoxyCodeLine{2109     \textcolor{keyword}{explicit} InstanceValueHolderFactory(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{2110     \textcolor{keyword}{virtual} ValueHolder* MakeNewHolder()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{2111       \textcolor{keywordflow}{return} \textcolor{keyword}{new} ValueHolder(value\_);}
\DoxyCodeLine{2112     \}}
\DoxyCodeLine{2113 }
\DoxyCodeLine{2114    \textcolor{keyword}{private}:}
\DoxyCodeLine{2115     \textcolor{keyword}{const} T value\_;  \textcolor{comment}{// The value for each thread.}}
\DoxyCodeLine{2116 }
\DoxyCodeLine{2117     GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(InstanceValueHolderFactory);}
\DoxyCodeLine{2118   \};}
\DoxyCodeLine{2119 }
\DoxyCodeLine{2120   \textcolor{comment}{// A key pthreads uses for looking up per-\/thread values.}}
\DoxyCodeLine{2121   \textcolor{keyword}{const} pthread\_key\_t key\_;}
\DoxyCodeLine{2122   scoped\_ptr<ValueHolderFactory> default\_factory\_;}
\DoxyCodeLine{2123 }
\DoxyCodeLine{2124   GTEST\_DISALLOW\_COPY\_AND\_ASSIGN\_(ThreadLocal);}
\DoxyCodeLine{2125 \};}
\DoxyCodeLine{2126 }
\DoxyCodeLine{2127 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// GTEST\_HAS\_MUTEX\_AND\_THREAD\_LOCAL\_}}
\DoxyCodeLine{2128 }
\DoxyCodeLine{2129 \textcolor{preprocessor}{\#else  }\textcolor{comment}{// GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{2130 }
\DoxyCodeLine{2131 \textcolor{comment}{// A dummy implementation of synchronization primitives (mutex, lock,}}
\DoxyCodeLine{2132 \textcolor{comment}{// and thread-\/local variable).  Necessary for compiling Google Test where}}
\DoxyCodeLine{2133 \textcolor{comment}{// mutex is not supported -\/ using Google Test in multiple threads is not}}
\DoxyCodeLine{2134 \textcolor{comment}{// supported on such platforms.}}
\DoxyCodeLine{2135 }
\DoxyCodeLine{2136 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1_mutex}{Mutex}} \{}
\DoxyCodeLine{2137  \textcolor{keyword}{public}:}
\DoxyCodeLine{2138   \mbox{\hyperlink{classtesting_1_1internal_1_1_mutex}{Mutex}}() \{\}}
\DoxyCodeLine{2139   \textcolor{keywordtype}{void} Lock() \{\}}
\DoxyCodeLine{2140   \textcolor{keywordtype}{void} Unlock() \{\}}
\DoxyCodeLine{2141   \textcolor{keywordtype}{void} AssertHeld()\textcolor{keyword}{ const }\{\}}
\DoxyCodeLine{2142 \};}
\DoxyCodeLine{2143 }
\DoxyCodeLine{2144 \textcolor{preprocessor}{\# define GTEST\_DECLARE\_STATIC\_MUTEX\_(mutex) \(\backslash\)}}
\DoxyCodeLine{2145 \textcolor{preprocessor}{  extern ::testing::internal::Mutex mutex}}
\DoxyCodeLine{2146 }
\DoxyCodeLine{2147 \textcolor{preprocessor}{\# define GTEST\_DEFINE\_STATIC\_MUTEX\_(mutex) ::testing::internal::Mutex mutex}}
\DoxyCodeLine{2148 }
\DoxyCodeLine{2149 \textcolor{comment}{// We cannot name this class MutexLock because the ctor declaration would}}
\DoxyCodeLine{2150 \textcolor{comment}{// conflict with a macro named MutexLock, which is defined on some}}
\DoxyCodeLine{2151 \textcolor{comment}{// platforms. That macro is used as a defensive measure to prevent against}}
\DoxyCodeLine{2152 \textcolor{comment}{// inadvertent misuses of MutexLock like "{}MutexLock(\&mu)"{} rather than}}
\DoxyCodeLine{2153 \textcolor{comment}{// "{}MutexLock l(\&mu)"{}.  Hence the typedef trick below.}}
\DoxyCodeLine{2154 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_mutex_lock}{GTestMutexLock}} \{}
\DoxyCodeLine{2155  \textcolor{keyword}{public}:}
\DoxyCodeLine{2156   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_mutex_lock}{GTestMutexLock}}(\mbox{\hyperlink{classtesting_1_1internal_1_1_mutex}{Mutex}}*) \{\}  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{2157 \};}
\DoxyCodeLine{2158 }
\DoxyCodeLine{2159 \textcolor{keyword}{typedef} \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_mutex_lock}{GTestMutexLock}} \mbox{\hyperlink{classtesting_1_1internal_1_1_g_test_mutex_lock}{MutexLock}};}
\DoxyCodeLine{2160 }
\DoxyCodeLine{2161 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2162 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1_thread_local}{ThreadLocal}} \{}
\DoxyCodeLine{2163  \textcolor{keyword}{public}:}
\DoxyCodeLine{2164   \mbox{\hyperlink{classtesting_1_1internal_1_1_thread_local}{ThreadLocal}}() : value\_() \{\}}
\DoxyCodeLine{2165   \textcolor{keyword}{explicit} \mbox{\hyperlink{classtesting_1_1internal_1_1_thread_local}{ThreadLocal}}(\textcolor{keyword}{const} T\& value) : value\_(value) \{\}}
\DoxyCodeLine{2166   T* pointer() \{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{2167   \textcolor{keyword}{const} T* pointer()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} \&value\_; \}}
\DoxyCodeLine{2168   \textcolor{keyword}{const} T\& get()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} value\_; \}}
\DoxyCodeLine{2169   \textcolor{keywordtype}{void} set(\textcolor{keyword}{const} T\& value) \{ value\_ = value; \}}
\DoxyCodeLine{2170  \textcolor{keyword}{private}:}
\DoxyCodeLine{2171   T value\_;}
\DoxyCodeLine{2172 \};}
\DoxyCodeLine{2173 }
\DoxyCodeLine{2174 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_IS\_THREADSAFE}}
\DoxyCodeLine{2175 }
\DoxyCodeLine{2176 \textcolor{comment}{// Returns the number of threads running in the process, or 0 to indicate that}}
\DoxyCodeLine{2177 \textcolor{comment}{// we cannot detect it.}}
\DoxyCodeLine{2178 GTEST\_API\_ \textcolor{keywordtype}{size\_t} GetThreadCount();}
\DoxyCodeLine{2179 }
\DoxyCodeLine{2180 \textcolor{comment}{// Passing non-\/POD classes through ellipsis (...) crashes the ARM}}
\DoxyCodeLine{2181 \textcolor{comment}{// compiler and generates a warning in Sun Studio.  The Nokia Symbian}}
\DoxyCodeLine{2182 \textcolor{comment}{// and the IBM XL C/C++ compiler try to instantiate a copy constructor}}
\DoxyCodeLine{2183 \textcolor{comment}{// for objects passed through ellipsis (...), failing for uncopyable}}
\DoxyCodeLine{2184 \textcolor{comment}{// objects.  We define this to ensure that only POD is passed through}}
\DoxyCodeLine{2185 \textcolor{comment}{// ellipsis on these systems.}}
\DoxyCodeLine{2186 \textcolor{preprocessor}{\#if defined(\_\_SYMBIAN32\_\_) || defined(\_\_IBMCPP\_\_) || defined(\_\_SUNPRO\_CC)}}
\DoxyCodeLine{2187 \textcolor{comment}{// We lose support for NULL detection where the compiler doesn't like}}
\DoxyCodeLine{2188 \textcolor{comment}{// passing non-\/POD classes through ellipsis (...).}}
\DoxyCodeLine{2189 \textcolor{preprocessor}{\# define GTEST\_ELLIPSIS\_NEEDS\_POD\_ 1}}
\DoxyCodeLine{2190 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2191 \textcolor{preprocessor}{\# define GTEST\_CAN\_COMPARE\_NULL 1}}
\DoxyCodeLine{2192 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2193 }
\DoxyCodeLine{2194 \textcolor{comment}{// The Nokia Symbian and IBM XL C/C++ compilers cannot decide between}}
\DoxyCodeLine{2195 \textcolor{comment}{// const T\& and const T* in a function template.  These compilers}}
\DoxyCodeLine{2196 \textcolor{comment}{// \_can\_ decide between class template specializations for T and T*,}}
\DoxyCodeLine{2197 \textcolor{comment}{// so a tr1::type\_traits-\/like is\_pointer works.}}
\DoxyCodeLine{2198 \textcolor{preprocessor}{\#if defined(\_\_SYMBIAN32\_\_) || defined(\_\_IBMCPP\_\_)}}
\DoxyCodeLine{2199 \textcolor{preprocessor}{\# define GTEST\_NEEDS\_IS\_POINTER\_ 1}}
\DoxyCodeLine{2200 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2201 }
\DoxyCodeLine{2202 \textcolor{keyword}{template} <\textcolor{keywordtype}{bool} \textcolor{keywordtype}{bool}\_value>}
\DoxyCodeLine{2203 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{bool\_constant}} \{}
\DoxyCodeLine{2204   \textcolor{keyword}{typedef} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{bool\_constant<bool\_value>}} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{type}};}
\DoxyCodeLine{2205   \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{bool} value = bool\_value;}
\DoxyCodeLine{2206 \};}
\DoxyCodeLine{2207 \textcolor{keyword}{template} <\textcolor{keywordtype}{bool} \textcolor{keywordtype}{bool}\_value> \textcolor{keyword}{const} \textcolor{keywordtype}{bool} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{bool\_constant<bool\_value>::value}};}
\DoxyCodeLine{2208 }
\DoxyCodeLine{2209 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{bool\_constant<false>}} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{false\_type}};}
\DoxyCodeLine{2210 \textcolor{keyword}{typedef} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{bool\_constant<true>}} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{true\_type}};}
\DoxyCodeLine{2211 }
\DoxyCodeLine{2212 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2213 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1is__pointer}{is\_pointer}} : \textcolor{keyword}{public} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{false\_type}} \{\};}
\DoxyCodeLine{2214 }
\DoxyCodeLine{2215 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2216 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1is__pointer}{is\_pointer}}<T*> : \textcolor{keyword}{public} \mbox{\hyperlink{structtesting_1_1internal_1_1bool__constant}{true\_type}} \{\};}
\DoxyCodeLine{2217 }
\DoxyCodeLine{2218 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iterator>}
\DoxyCodeLine{2219 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1_iterator_traits}{IteratorTraits}} \{}
\DoxyCodeLine{2220   \textcolor{keyword}{typedef} \textcolor{keyword}{typename} Iterator::value\_type value\_type;}
\DoxyCodeLine{2221 \};}
\DoxyCodeLine{2222 }
\DoxyCodeLine{2223 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2224 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1_iterator_traits}{IteratorTraits}}<T*> \{}
\DoxyCodeLine{2225   \textcolor{keyword}{typedef} T value\_type;}
\DoxyCodeLine{2226 \};}
\DoxyCodeLine{2227 }
\DoxyCodeLine{2228 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{2229 \textcolor{keyword}{struct }\mbox{\hyperlink{structtesting_1_1internal_1_1_iterator_traits}{IteratorTraits}}<const T*> \{}
\DoxyCodeLine{2230   \textcolor{keyword}{typedef} T value\_type;}
\DoxyCodeLine{2231 \};}
\DoxyCodeLine{2232 }
\DoxyCodeLine{2233 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{2234 \textcolor{preprocessor}{\# define GTEST\_PATH\_SEP\_ "{}\(\backslash\)\(\backslash\)"{}}}
\DoxyCodeLine{2235 \textcolor{preprocessor}{\# define GTEST\_HAS\_ALT\_PATH\_SEP\_ 1}}
\DoxyCodeLine{2236 \textcolor{comment}{// The biggest signed integer type the compiler supports.}}
\DoxyCodeLine{2237 \textcolor{keyword}{typedef} \_\_int64 BiggestInt;}
\DoxyCodeLine{2238 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2239 \textcolor{preprocessor}{\# define GTEST\_PATH\_SEP\_ "{}/"{}}}
\DoxyCodeLine{2240 \textcolor{preprocessor}{\# define GTEST\_HAS\_ALT\_PATH\_SEP\_ 0}}
\DoxyCodeLine{2241 \textcolor{keyword}{typedef} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} BiggestInt;  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{2242 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{2243 }
\DoxyCodeLine{2244 \textcolor{comment}{// Utilities for char.}}
\DoxyCodeLine{2245 }
\DoxyCodeLine{2246 \textcolor{comment}{// isspace(int ch) and friends accept an unsigned char or EOF.  char}}
\DoxyCodeLine{2247 \textcolor{comment}{// may be signed, depending on the compiler (or compiler flags).}}
\DoxyCodeLine{2248 \textcolor{comment}{// Therefore we need to cast a char to unsigned char before calling}}
\DoxyCodeLine{2249 \textcolor{comment}{// isspace(), etc.}}
\DoxyCodeLine{2250 }
\DoxyCodeLine{2251 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsAlpha(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2252   \textcolor{keywordflow}{return} isalpha(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{2253 \}}
\DoxyCodeLine{2254 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsAlNum(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2255   \textcolor{keywordflow}{return} isalnum(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{2256 \}}
\DoxyCodeLine{2257 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsDigit(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2258   \textcolor{keywordflow}{return} isdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{2259 \}}
\DoxyCodeLine{2260 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsLower(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2261   \textcolor{keywordflow}{return} islower(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{2262 \}}
\DoxyCodeLine{2263 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsSpace(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2264   \textcolor{keywordflow}{return} isspace(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{2265 \}}
\DoxyCodeLine{2266 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsUpper(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2267   \textcolor{keywordflow}{return} isupper(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{2268 \}}
\DoxyCodeLine{2269 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsXDigit(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2270   \textcolor{keywordflow}{return} isxdigit(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)) != 0;}
\DoxyCodeLine{2271 \}}
\DoxyCodeLine{2272 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsXDigit(\textcolor{keywordtype}{wchar\_t} ch) \{}
\DoxyCodeLine{2273   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} low\_byte = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch);}
\DoxyCodeLine{2274   \textcolor{keywordflow}{return} ch == low\_byte \&\& isxdigit(low\_byte) != 0;}
\DoxyCodeLine{2275 \}}
\DoxyCodeLine{2276 }
\DoxyCodeLine{2277 \textcolor{keyword}{inline} \textcolor{keywordtype}{char} ToLower(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2278   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(tolower(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)));}
\DoxyCodeLine{2279 \}}
\DoxyCodeLine{2280 \textcolor{keyword}{inline} \textcolor{keywordtype}{char} ToUpper(\textcolor{keywordtype}{char} ch) \{}
\DoxyCodeLine{2281   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(toupper(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch)));}
\DoxyCodeLine{2282 \}}
\DoxyCodeLine{2283 }
\DoxyCodeLine{2284 \textcolor{keyword}{inline} std::string StripTrailingSpaces(std::string str) \{}
\DoxyCodeLine{2285   std::string::iterator it = str.end();}
\DoxyCodeLine{2286   \textcolor{keywordflow}{while} (it != str.begin() \&\& IsSpace(*-\/-\/it))}
\DoxyCodeLine{2287     it = str.erase(it);}
\DoxyCodeLine{2288   \textcolor{keywordflow}{return} str;}
\DoxyCodeLine{2289 \}}
\DoxyCodeLine{2290 }
\DoxyCodeLine{2291 \textcolor{comment}{// The testing::internal::posix namespace holds wrappers for common}}
\DoxyCodeLine{2292 \textcolor{comment}{// POSIX functions.  These wrappers hide the differences between}}
\DoxyCodeLine{2293 \textcolor{comment}{// Windows/MSVC and POSIX systems.  Since some compilers define these}}
\DoxyCodeLine{2294 \textcolor{comment}{// standard functions as macros, the wrapper cannot have the same name}}
\DoxyCodeLine{2295 \textcolor{comment}{// as the wrapped function.}}
\DoxyCodeLine{2296 }
\DoxyCodeLine{2297 \textcolor{keyword}{namespace }posix \{}
\DoxyCodeLine{2298 }
\DoxyCodeLine{2299 \textcolor{comment}{// Functions with a different name on Windows.}}
\DoxyCodeLine{2300 }
\DoxyCodeLine{2301 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{2302 }
\DoxyCodeLine{2303 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\_stat StatStruct;}
\DoxyCodeLine{2304 }
\DoxyCodeLine{2305 \textcolor{preprocessor}{\# ifdef \_\_BORLANDC\_\_}}
\DoxyCodeLine{2306 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} IsATTY(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} isatty(fd); \}}
\DoxyCodeLine{2307 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} StrCaseCmp(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* s1, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* s2) \{}
\DoxyCodeLine{2308   \textcolor{keywordflow}{return} stricmp(s1, s2);}
\DoxyCodeLine{2309 \}}
\DoxyCodeLine{2310 \textcolor{keyword}{inline} \textcolor{keywordtype}{char}* StrDup(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* src) \{ \textcolor{keywordflow}{return} strdup(src); \}}
\DoxyCodeLine{2311 \textcolor{preprocessor}{\# else  }\textcolor{comment}{// !\_\_BORLANDC\_\_}}
\DoxyCodeLine{2312 \textcolor{preprocessor}{\#  if GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2313 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} IsATTY(\textcolor{keywordtype}{int} \textcolor{comment}{/* fd */}) \{ \textcolor{keywordflow}{return} 0; \}}
\DoxyCodeLine{2314 \textcolor{preprocessor}{\#  else}}
\DoxyCodeLine{2315 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} IsATTY(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} \_isatty(fd); \}}
\DoxyCodeLine{2316 \textcolor{preprocessor}{\#  endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2317 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} StrCaseCmp(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* s1, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* s2) \{}
\DoxyCodeLine{2318   \textcolor{keywordflow}{return} \_stricmp(s1, s2);}
\DoxyCodeLine{2319 \}}
\DoxyCodeLine{2320 \textcolor{keyword}{inline} \textcolor{keywordtype}{char}* StrDup(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* src) \{ \textcolor{keywordflow}{return} \_strdup(src); \}}
\DoxyCodeLine{2321 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// \_\_BORLANDC\_\_}}
\DoxyCodeLine{2322 }
\DoxyCodeLine{2323 \textcolor{preprocessor}{\# if GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2324 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FileNo(FILE* file) \{ \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\_fileno(file)); \}}
\DoxyCodeLine{2325 \textcolor{comment}{// Stat(), RmDir(), and IsDir() are not needed on Windows CE at this}}
\DoxyCodeLine{2326 \textcolor{comment}{// time and thus not defined there.}}
\DoxyCodeLine{2327 \textcolor{preprocessor}{\# else}}
\DoxyCodeLine{2328 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FileNo(FILE* file) \{ \textcolor{keywordflow}{return} \_fileno(file); \}}
\DoxyCodeLine{2329 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Stat(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, StatStruct* buf) \{ \textcolor{keywordflow}{return} \_stat(path, buf); \}}
\DoxyCodeLine{2330 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} RmDir(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* dir) \{ \textcolor{keywordflow}{return} \_rmdir(dir); \}}
\DoxyCodeLine{2331 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsDir(\textcolor{keyword}{const} StatStruct\& st) \{}
\DoxyCodeLine{2332   \textcolor{keywordflow}{return} (\_S\_IFDIR \& st.st\_mode) != 0;}
\DoxyCodeLine{2333 \}}
\DoxyCodeLine{2334 \textcolor{preprocessor}{\# endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2335 }
\DoxyCodeLine{2336 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2337 }
\DoxyCodeLine{2338 \textcolor{keyword}{typedef} \textcolor{keyword}{struct }stat StatStruct;}
\DoxyCodeLine{2339 }
\DoxyCodeLine{2340 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FileNo(FILE* file) \{ \textcolor{keywordflow}{return} fileno(file); \}}
\DoxyCodeLine{2341 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} IsATTY(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} isatty(fd); \}}
\DoxyCodeLine{2342 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Stat(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, StatStruct* buf) \{ \textcolor{keywordflow}{return} stat(path, buf); \}}
\DoxyCodeLine{2343 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} StrCaseCmp(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* s1, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* s2) \{}
\DoxyCodeLine{2344   \textcolor{keywordflow}{return} strcasecmp(s1, s2);}
\DoxyCodeLine{2345 \}}
\DoxyCodeLine{2346 \textcolor{keyword}{inline} \textcolor{keywordtype}{char}* StrDup(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* src) \{ \textcolor{keywordflow}{return} strdup(src); \}}
\DoxyCodeLine{2347 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} RmDir(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* dir) \{ \textcolor{keywordflow}{return} rmdir(dir); \}}
\DoxyCodeLine{2348 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} IsDir(\textcolor{keyword}{const} StatStruct\& st) \{ \textcolor{keywordflow}{return} S\_ISDIR(st.st\_mode); \}}
\DoxyCodeLine{2349 }
\DoxyCodeLine{2350 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{2351 }
\DoxyCodeLine{2352 \textcolor{comment}{// Functions deprecated by MSVC 8.0.}}
\DoxyCodeLine{2353 }
\DoxyCodeLine{2354 GTEST\_DISABLE\_MSC\_WARNINGS\_PUSH\_(4996 \textcolor{comment}{/* deprecated function */})}
\DoxyCodeLine{2355 }
\DoxyCodeLine{2356 inline const \textcolor{keywordtype}{char}* StrNCpy(\textcolor{keywordtype}{char}* dest, const \textcolor{keywordtype}{char}* src, \textcolor{keywordtype}{size\_t} n) \{}
\DoxyCodeLine{2357   \textcolor{keywordflow}{return} strncpy(dest, src, n);}
\DoxyCodeLine{2358 \}}
\DoxyCodeLine{2359 }
\DoxyCodeLine{2360 \textcolor{comment}{// ChDir(), FReopen(), FDOpen(), Read(), Write(), Close(), and}}
\DoxyCodeLine{2361 \textcolor{comment}{// StrError() aren't needed on Windows CE at this time and thus not}}
\DoxyCodeLine{2362 \textcolor{comment}{// defined there.}}
\DoxyCodeLine{2363 }
\DoxyCodeLine{2364 \textcolor{preprocessor}{\#if !GTEST\_OS\_WINDOWS\_MOBILE \&\& !GTEST\_OS\_WINDOWS\_PHONE \&\& !GTEST\_OS\_WINDOWS\_RT}}
\DoxyCodeLine{2365 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} ChDir(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* dir) \{ \textcolor{keywordflow}{return} chdir(dir); \}}
\DoxyCodeLine{2366 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2367 \textcolor{keyword}{inline} FILE* FOpen(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* mode) \{}
\DoxyCodeLine{2368   \textcolor{keywordflow}{return} fopen(path, mode);}
\DoxyCodeLine{2369 \}}
\DoxyCodeLine{2370 \textcolor{preprocessor}{\#if !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2371 \textcolor{keyword}{inline} FILE *FReopen(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* path, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* mode, FILE* stream) \{}
\DoxyCodeLine{2372   \textcolor{keywordflow}{return} freopen(path, mode, stream);}
\DoxyCodeLine{2373 \}}
\DoxyCodeLine{2374 \textcolor{keyword}{inline} FILE* FDOpen(\textcolor{keywordtype}{int} fd, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* mode) \{ \textcolor{keywordflow}{return} fdopen(fd, mode); \}}
\DoxyCodeLine{2375 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2376 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} FClose(FILE* fp) \{ \textcolor{keywordflow}{return} fclose(fp); \}}
\DoxyCodeLine{2377 \textcolor{preprocessor}{\#if !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2378 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Read(\textcolor{keywordtype}{int} fd, \textcolor{keywordtype}{void}* buf, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count) \{}
\DoxyCodeLine{2379   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(read(fd, buf, count));}
\DoxyCodeLine{2380 \}}
\DoxyCodeLine{2381 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Write(\textcolor{keywordtype}{int} fd, \textcolor{keyword}{const} \textcolor{keywordtype}{void}* buf, \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} count) \{}
\DoxyCodeLine{2382   \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(write(fd, buf, count));}
\DoxyCodeLine{2383 \}}
\DoxyCodeLine{2384 \textcolor{keyword}{inline} \textcolor{keywordtype}{int} Close(\textcolor{keywordtype}{int} fd) \{ \textcolor{keywordflow}{return} close(fd); \}}
\DoxyCodeLine{2385 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char}* StrError(\textcolor{keywordtype}{int} errnum) \{ \textcolor{keywordflow}{return} strerror(errnum); \}}
\DoxyCodeLine{2386 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2387 \textcolor{keyword}{inline} \textcolor{keyword}{const} \textcolor{keywordtype}{char}* GetEnv(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* name) \{}
\DoxyCodeLine{2388 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS\_MOBILE || GTEST\_OS\_WINDOWS\_PHONE | GTEST\_OS\_WINDOWS\_RT}}
\DoxyCodeLine{2389   \textcolor{comment}{// We are on Windows CE, which has no environment variables.}}
\DoxyCodeLine{2390   \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}\textcolor{keyword}{>}(name);  \textcolor{comment}{// To prevent 'unused argument' warning.}}
\DoxyCodeLine{2391   \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{2392 \textcolor{preprocessor}{\#elif defined(\_\_BORLANDC\_\_) || defined(\_\_SunOS\_5\_8) || defined(\_\_SunOS\_5\_9)}}
\DoxyCodeLine{2393   \textcolor{comment}{// Environment variables which we programmatically clear will be set to the}}
\DoxyCodeLine{2394   \textcolor{comment}{// empty string rather than unset (NULL).  Handle that case.}}
\DoxyCodeLine{2395   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* \textcolor{keyword}{const} env = getenv(name);}
\DoxyCodeLine{2396   \textcolor{keywordflow}{return} (env != NULL \&\& env[0] != \textcolor{charliteral}{'\(\backslash\)0'}) ? env : NULL;}
\DoxyCodeLine{2397 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2398   \textcolor{keywordflow}{return} getenv(name);}
\DoxyCodeLine{2399 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2400 \}}
\DoxyCodeLine{2401 }
\DoxyCodeLine{2402 GTEST\_DISABLE\_MSC\_WARNINGS\_POP\_()}
\DoxyCodeLine{2403 }
\DoxyCodeLine{2404 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2405 \textcolor{comment}{// Windows CE has no C library. The abort() function is used in}}
\DoxyCodeLine{2406 \textcolor{comment}{// several places in Google Test. This implementation provides a reasonable}}
\DoxyCodeLine{2407 \textcolor{comment}{// imitation of standard behaviour.}}
\DoxyCodeLine{2408 \textcolor{keywordtype}{void} Abort();}
\DoxyCodeLine{2409 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2410 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Abort() \{ abort(); \}}
\DoxyCodeLine{2411 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2412 }
\DoxyCodeLine{2413 \}  \textcolor{comment}{// namespace posix}}
\DoxyCodeLine{2414 }
\DoxyCodeLine{2415 \textcolor{comment}{// MSVC "{}deprecates"{} snprintf and issues warnings wherever it is used.  In}}
\DoxyCodeLine{2416 \textcolor{comment}{// order to avoid these warnings, we need to use \_snprintf or \_snprintf\_s on}}
\DoxyCodeLine{2417 \textcolor{comment}{// MSVC-\/based platforms.  We map the GTEST\_SNPRINTF\_ macro to the appropriate}}
\DoxyCodeLine{2418 \textcolor{comment}{// function in order to achieve that.  We use macro definition here because}}
\DoxyCodeLine{2419 \textcolor{comment}{// snprintf is a variadic function.}}
\DoxyCodeLine{2420 \textcolor{preprocessor}{\#if \_MSC\_VER >= 1400 \&\& !GTEST\_OS\_WINDOWS\_MOBILE}}
\DoxyCodeLine{2421 \textcolor{comment}{// MSVC 2005 and above support variadic macros.}}
\DoxyCodeLine{2422 \textcolor{preprocessor}{\# define GTEST\_SNPRINTF\_(buffer, size, format, ...) \(\backslash\)}}
\DoxyCodeLine{2423 \textcolor{preprocessor}{     \_snprintf\_s(buffer, size, size, format, \_\_VA\_ARGS\_\_)}}
\DoxyCodeLine{2424 \textcolor{preprocessor}{\#elif defined(\_MSC\_VER)}}
\DoxyCodeLine{2425 \textcolor{comment}{// Windows CE does not define \_snprintf\_s and MSVC prior to 2005 doesn't}}
\DoxyCodeLine{2426 \textcolor{comment}{// complain about \_snprintf.}}
\DoxyCodeLine{2427 \textcolor{preprocessor}{\# define GTEST\_SNPRINTF\_ \_snprintf}}
\DoxyCodeLine{2428 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2429 \textcolor{preprocessor}{\# define GTEST\_SNPRINTF\_ snprintf}}
\DoxyCodeLine{2430 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2431 }
\DoxyCodeLine{2432 \textcolor{comment}{// The maximum number a BiggestInt can represent.  This definition}}
\DoxyCodeLine{2433 \textcolor{comment}{// works no matter BiggestInt is represented in one's complement or}}
\DoxyCodeLine{2434 \textcolor{comment}{// two's complement.}}
\DoxyCodeLine{2435 \textcolor{comment}{//}}
\DoxyCodeLine{2436 \textcolor{comment}{// We cannot rely on numeric\_limits in STL, as \_\_int64 and long long}}
\DoxyCodeLine{2437 \textcolor{comment}{// are not part of standard C++ and numeric\_limits doesn't need to be}}
\DoxyCodeLine{2438 \textcolor{comment}{// defined for them.}}
\DoxyCodeLine{2439 \textcolor{keyword}{const} BiggestInt kMaxBiggestInt =}
\DoxyCodeLine{2440     \string~(\textcolor{keyword}{static\_cast<}BiggestInt\textcolor{keyword}{>}(1) << (8*\textcolor{keyword}{sizeof}(BiggestInt) -\/ 1));}
\DoxyCodeLine{2441 }
\DoxyCodeLine{2442 \textcolor{comment}{// This template class serves as a compile-\/time function from size to}}
\DoxyCodeLine{2443 \textcolor{comment}{// type.  It maps a size in bytes to a primitive type with that}}
\DoxyCodeLine{2444 \textcolor{comment}{// size. e.g.}}
\DoxyCodeLine{2445 \textcolor{comment}{//}}
\DoxyCodeLine{2446 \textcolor{comment}{//   TypeWithSize<4>::UInt}}
\DoxyCodeLine{2447 \textcolor{comment}{//}}
\DoxyCodeLine{2448 \textcolor{comment}{// is typedef-\/ed to be unsigned int (unsigned integer made up of 4}}
\DoxyCodeLine{2449 \textcolor{comment}{// bytes).}}
\DoxyCodeLine{2450 \textcolor{comment}{//}}
\DoxyCodeLine{2451 \textcolor{comment}{// Such functionality should belong to STL, but I cannot find it}}
\DoxyCodeLine{2452 \textcolor{comment}{// there.}}
\DoxyCodeLine{2453 \textcolor{comment}{//}}
\DoxyCodeLine{2454 \textcolor{comment}{// Google Test uses this class in the implementation of floating-\/point}}
\DoxyCodeLine{2455 \textcolor{comment}{// comparison.}}
\DoxyCodeLine{2456 \textcolor{comment}{//}}
\DoxyCodeLine{2457 \textcolor{comment}{// For now it only handles UInt (unsigned int) as that's all Google Test}}
\DoxyCodeLine{2458 \textcolor{comment}{// needs.  Other types can be easily added in the future if need}}
\DoxyCodeLine{2459 \textcolor{comment}{// arises.}}
\DoxyCodeLine{2460 \textcolor{keyword}{template} <\textcolor{keywordtype}{size\_t} size>}
\DoxyCodeLine{2461 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize}} \{}
\DoxyCodeLine{2462  \textcolor{keyword}{public}:}
\DoxyCodeLine{2463   \textcolor{comment}{// This prevents the user from using TypeWithSize<N> with incorrect}}
\DoxyCodeLine{2464   \textcolor{comment}{// values of N.}}
\DoxyCodeLine{2465   \textcolor{keyword}{typedef} \textcolor{keywordtype}{void} UInt;}
\DoxyCodeLine{2466 \};}
\DoxyCodeLine{2467 }
\DoxyCodeLine{2468 \textcolor{comment}{// The specialization for size 4.}}
\DoxyCodeLine{2469 \textcolor{keyword}{template} <>}
\DoxyCodeLine{2470 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize}}<4> \{}
\DoxyCodeLine{2471  \textcolor{keyword}{public}:}
\DoxyCodeLine{2472   \textcolor{comment}{// unsigned int has size 4 in both gcc and MSVC.}}
\DoxyCodeLine{2473   \textcolor{comment}{//}}
\DoxyCodeLine{2474   \textcolor{comment}{// As base/basictypes.h doesn't compile on Windows, we cannot use}}
\DoxyCodeLine{2475   \textcolor{comment}{// uint32, uint64, and etc here.}}
\DoxyCodeLine{2476   \textcolor{keyword}{typedef} \textcolor{keywordtype}{int} Int;}
\DoxyCodeLine{2477   \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} UInt;}
\DoxyCodeLine{2478 \};}
\DoxyCodeLine{2479 }
\DoxyCodeLine{2480 \textcolor{comment}{// The specialization for size 8.}}
\DoxyCodeLine{2481 \textcolor{keyword}{template} <>}
\DoxyCodeLine{2482 \textcolor{keyword}{class }\mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize}}<8> \{}
\DoxyCodeLine{2483  \textcolor{keyword}{public}:}
\DoxyCodeLine{2484 \textcolor{preprocessor}{\#if GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{2485   \textcolor{keyword}{typedef} \_\_int64 Int;}
\DoxyCodeLine{2486   \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \_\_int64 UInt;}
\DoxyCodeLine{2487 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2488   \textcolor{keyword}{typedef} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} Int;  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{2489   \textcolor{keyword}{typedef} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \textcolor{keywordtype}{long} UInt;  \textcolor{comment}{// NOLINT}}
\DoxyCodeLine{2490 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_OS\_WINDOWS}}
\DoxyCodeLine{2491 \};}
\DoxyCodeLine{2492 }
\DoxyCodeLine{2493 \textcolor{comment}{// Integer types of known sizes.}}
\DoxyCodeLine{2494 \textcolor{keyword}{typedef} \mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize<4>::Int}} Int32;}
\DoxyCodeLine{2495 \textcolor{keyword}{typedef} TypeWithSize<4>::UInt UInt32;}
\DoxyCodeLine{2496 \textcolor{keyword}{typedef} \mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize<8>::Int}} Int64;}
\DoxyCodeLine{2497 \textcolor{keyword}{typedef} TypeWithSize<8>::UInt UInt64;}
\DoxyCodeLine{2498 \textcolor{keyword}{typedef} \mbox{\hyperlink{classtesting_1_1internal_1_1_type_with_size}{TypeWithSize<8>::Int}} TimeInMillis;  \textcolor{comment}{// Represents time in milliseconds.}}
\DoxyCodeLine{2499 }
\DoxyCodeLine{2500 \textcolor{comment}{// Utilities for command line flags and environment variables.}}
\DoxyCodeLine{2501 }
\DoxyCodeLine{2502 \textcolor{comment}{// Macro for referencing flags.}}
\DoxyCodeLine{2503 \textcolor{preprocessor}{\#if !defined(GTEST\_FLAG)}}
\DoxyCodeLine{2504 \textcolor{preprocessor}{\# define GTEST\_FLAG(name) FLAGS\_gtest\_\#\#name}}
\DoxyCodeLine{2505 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_FLAG)}}
\DoxyCodeLine{2506 }
\DoxyCodeLine{2507 \textcolor{preprocessor}{\#if !defined(GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_)}}
\DoxyCodeLine{2508 \textcolor{preprocessor}{\# define GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_ 1}}
\DoxyCodeLine{2509 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_USE\_OWN\_FLAGFILE\_FLAG\_)}}
\DoxyCodeLine{2510 }
\DoxyCodeLine{2511 \textcolor{preprocessor}{\#if !defined(GTEST\_DECLARE\_bool\_)}}
\DoxyCodeLine{2512 \textcolor{preprocessor}{\# define GTEST\_FLAG\_SAVER\_ ::testing::internal::GTestFlagSaver}}
\DoxyCodeLine{2513 }
\DoxyCodeLine{2514 \textcolor{comment}{// Macros for declaring flags.}}
\DoxyCodeLine{2515 \textcolor{preprocessor}{\# define GTEST\_DECLARE\_bool\_(name) GTEST\_API\_ extern bool GTEST\_FLAG(name)}}
\DoxyCodeLine{2516 \textcolor{preprocessor}{\# define GTEST\_DECLARE\_int32\_(name) \(\backslash\)}}
\DoxyCodeLine{2517 \textcolor{preprocessor}{    GTEST\_API\_ extern ::testing::internal::Int32 GTEST\_FLAG(name)}}
\DoxyCodeLine{2518 \textcolor{preprocessor}{\#define GTEST\_DECLARE\_string\_(name) \(\backslash\)}}
\DoxyCodeLine{2519 \textcolor{preprocessor}{    GTEST\_API\_ extern ::std::string GTEST\_FLAG(name)}}
\DoxyCodeLine{2520 }
\DoxyCodeLine{2521 \textcolor{comment}{// Macros for defining flags.}}
\DoxyCodeLine{2522 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_bool\_(name, default\_val, doc) \(\backslash\)}}
\DoxyCodeLine{2523 \textcolor{preprocessor}{    GTEST\_API\_ bool GTEST\_FLAG(name) = (default\_val)}}
\DoxyCodeLine{2524 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_int32\_(name, default\_val, doc) \(\backslash\)}}
\DoxyCodeLine{2525 \textcolor{preprocessor}{    GTEST\_API\_ ::testing::internal::Int32 GTEST\_FLAG(name) = (default\_val)}}
\DoxyCodeLine{2526 \textcolor{preprocessor}{\#define GTEST\_DEFINE\_string\_(name, default\_val, doc) \(\backslash\)}}
\DoxyCodeLine{2527 \textcolor{preprocessor}{    GTEST\_API\_ ::std::string GTEST\_FLAG(name) = (default\_val)}}
\DoxyCodeLine{2528 }
\DoxyCodeLine{2529 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_DECLARE\_bool\_)}}
\DoxyCodeLine{2530 }
\DoxyCodeLine{2531 \textcolor{comment}{// Thread annotations}}
\DoxyCodeLine{2532 \textcolor{preprocessor}{\#if !defined(GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_)}}
\DoxyCodeLine{2533 \textcolor{preprocessor}{\# define GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_(locks)}}
\DoxyCodeLine{2534 \textcolor{preprocessor}{\# define GTEST\_LOCK\_EXCLUDED\_(locks)}}
\DoxyCodeLine{2535 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(GTEST\_EXCLUSIVE\_LOCK\_REQUIRED\_)}}
\DoxyCodeLine{2536 }
\DoxyCodeLine{2537 \textcolor{comment}{// Parses 'str' for a 32-\/bit signed integer.  If successful, writes the result}}
\DoxyCodeLine{2538 \textcolor{comment}{// to *value and returns true; otherwise leaves *value unchanged and returns}}
\DoxyCodeLine{2539 \textcolor{comment}{// false.}}
\DoxyCodeLine{2540 \textcolor{comment}{// TODO(chandlerc): Find a better way to refactor flag and environment parsing}}
\DoxyCodeLine{2541 \textcolor{comment}{// out of both gtest-\/port.cc and gtest.cc to avoid exporting this utility}}
\DoxyCodeLine{2542 \textcolor{comment}{// function.}}
\DoxyCodeLine{2543 \textcolor{keywordtype}{bool} ParseInt32(\textcolor{keyword}{const} \mbox{\hyperlink{classtesting_1_1_message}{Message}}\& src\_text, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* str, Int32* value);}
\DoxyCodeLine{2544 }
\DoxyCodeLine{2545 \textcolor{comment}{// Parses a bool/Int32/string from the environment variable}}
\DoxyCodeLine{2546 \textcolor{comment}{// corresponding to the given Google Test flag.}}
\DoxyCodeLine{2547 \textcolor{keywordtype}{bool} BoolFromGTestEnv(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* flag, \textcolor{keywordtype}{bool} default\_val);}
\DoxyCodeLine{2548 GTEST\_API\_ Int32 Int32FromGTestEnv(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* flag, Int32 default\_val);}
\DoxyCodeLine{2549 std::string StringFromGTestEnv(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* flag, \textcolor{keyword}{const} \textcolor{keywordtype}{char}* default\_val);}
\DoxyCodeLine{2550 }
\DoxyCodeLine{2551 \}  \textcolor{comment}{// namespace internal}}
\DoxyCodeLine{2552 \}  \textcolor{comment}{// namespace testing}}
\DoxyCodeLine{2553 }
\DoxyCodeLine{2554 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// GTEST\_INCLUDE\_GTEST\_INTERNAL\_GTEST\_PORT\_H\_}}

\end{DoxyCode}
